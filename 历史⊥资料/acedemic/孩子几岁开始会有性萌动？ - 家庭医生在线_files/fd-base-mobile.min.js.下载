if(window.FD)throw new Error("FD对象已存在");var FD={showToast:function(t,e,n){return e=e||function(){},n=n||5,new FD.Echo({content:t||"Hi",sec:n,autoClose:!0,onClosed:e})},showWaiting:function(t,e,n){return t=t||function(){},e=e||"",n=n||"//img.familydoctor.com.cn/component/common/styles/images/loading.gif",new FD.Echo({content:'<img src="'+n+'" /><p style="color:white;">'+e+"</p>",onOpened:t})},showConfirm:function(t){var e={msg:"提示",summary:"",btnText:["确定","取消"],showTitle:!1,showClose:!1,dialogClassName:"",className:"",content:"",onSubmit:function(){},onCancel:function(){},showCancel:!0};e=FD.extend(e,t||{});var n=[],o="";e.summary&&(o+='<div class="fd-dia-summary">',o+=e.summary,o+="</div>"),e.showCancel?(n.push('<input type="button" class="fd-btn-cancel fd-btn-half js-btn-cancel" value="'+e.btnText[1]+'" />'),n.push('<input type="button" class="fd-btn-primary fd-btn-half js-btn-ok" value="'+e.btnText[0]+'" />')):n.push('<input type="button" class="fd-btn-full js-btn-ok" value="'+e.btnText[0]+'" />');var i=e.content||'<div class="fd-dia-tips"><h1>'+e.msg+"</h1>"+o+"</div>",a=new FD.Dialog({width:300,showTitle:e.showTitle,showClose:e.showClose,className:"fd-dia-confirm "+e.className,dialogClassName:e.dialogClassName,content:i+'<div class="fd-btn-wrap">'+n.join("")+"</div>",onOpened:function(t){var n=t.box.querySelector(".js-btn-ok"),o=t.box.querySelector(".js-btn-cancel");n.onclick=function(){a.close(),e.onSubmit()},o&&(o.onclick=function(){a.close(),e.onCancel()})}});return a},dom:{ready:function(){var t=!1,e=[],n=function(){t||(t=!0,e.forEach(function(t){t()}))},o=function(){document.removeEventListener("DOMContentLoaded",o),window.removeEventListener("load",o),n()};return function(i){return t?i():(e.push(i),void("complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?setTimeout(n):(document.addEventListener("DOMContentLoaded",o),window.addEventListener("load",o))))}}(),get:function(t){return t?document.querySelector(t):null},getAll:function(t){return t?document.querySelectorAll(t):null},append:function(t,e){if(t&&e){if("object"==typeof e)return t.appendChild(e),t;var n=document.createDocumentFragment(),o=document.createElement("div");for(o.innerHTML=e.toString();o.childNodes[0];)n.appendChild(o.childNodes[0]);return t.appendChild(n),o=null,t}},prepend:function(t,e){if(t&&e){var n=!(t.childNodes.length>0);if("object"==typeof e)return n?t.appendChild(e):t.insertBefore(e,t.childNodes[0]),t;if(!n){var o=document.createDocumentFragment();return t.insertBefore(FD.dom.append(o,e),t.childNodes[0]),o=null,t}FD.dom.append(t,e)}},before:function(t,e){if(t&&e){var n=document.createDocumentFragment();return t.parentNode.insertBefore(FD.dom.append(n,e),t),n=null,t}},after:function(t,e){if(t&&e){var n=document.createDocumentFragment();return t.nextSibling?t.parentNode.insertBefore(FD.dom.append(n,e),t.nextSibling):FD.dom.append(t.parentNode,FD.dom.append(n,e)),n=null,t}},trigger:function(t,e){e="object"==typeof e?e:document.querySelector(e),e.dispatchEvent(new CustomEvent(t))},on:function(t,e,n){function o(t,e,n,i){if(t!==n){var s=a.some(function(t){return n===t});s?i.call(n,e):n.parentNode&&o(t,e,n.parentNode,i)}}function i(){FD.isIOS()&&FD.dom.ready(function(){document.body.style.cursor="pointer",document.body.style.webkitTapHighlightColor="rgba(0,0,0,0)"})}var a=[];n&&"function"==typeof n&&("string"==typeof e?document.addEventListener(t,function(t){a=[].slice.call(document.querySelectorAll(e)),o(this,t,t.target,n)}):"object"==typeof e&&(e.length?a=[].slice.call(e):1===e.nodeType&&a.push(e),document.addEventListener(t,function(t){o(this,t,t.target,n)})),i())}},util:{isInt:function(t){return/^-?\d+$/.test(t)},isNumber:function(t){return/^(-?\d+)(\.\d+)?$/i.test(t)},isMobile:function(t){return/^1\d{10}$/.test(t)},isIdCard:function(t){return/(^\d{15}$)|(^\d{17}([0-9]|X)$)/i.test(t)},isEmail:function(t){var e=/^[-_A-Za-z0-9\.]+@([_A-Za-z0-9]+\.)+[A-Za-z0-9]{2,3}$/;return!!e.test(t)},maskMobile:function(t){return t?11!==t.length?t:t=t.substring(0,3)+"******"+t.substring(9):""},unique:function(t){for(var e=[],n=0,o=t.length;n<o;n++){for(var i=n+1;i<o;i++)t[n]===t[i]&&(i=++n);e.push(t[n])}return e},getQueryString:function(t,e){var n=new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i");return n.test(t)?decodeURIComponent(RegExp.$2.replace(/\+/g," ")):""},formatParams:function(t,e){var n=[];void 0===e&&(e=!1);for(var o in t)n.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return e&&n.push("_random_="+(new Date).getTime()),n.join("&")},parseQueryString:function(t){if(!t||!t.trim())return null;var e={},n=t.split("#")[0].split("?");if(n.length<2){if(n[0].indexOf("&")===-1&&n[0].indexOf("=")===-1)return null;t=n[0]}else t=n[1];n=t?t.split("&"):[];for(var o=0;o<n.length;o++){var i=n[o].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])||""}return e},htmlEncode:function(t){return t=t.replace(/\r\n/g,"<br/>"),t=t.replace(/\n/g,"<br/>"),t=t.replace(/\r/g,"<br/>"),t=t.replace(/\s/g,"&nbsp;")},getRandom:function(t,e){return void 0===e&&(e=t,t=0),Math.round(Math.random()*(e-t)+t)},isWeiXin:function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("micromessenger")!==-1}},ajax:function(t){var e={url:"",type:"GET",dataType:"json",data:{},timeout:null,noCache:!0,success:function(){},error:function(){},complete:function(){}};e=FD.extend(e,t),e.type=e.type.toUpperCase();var n;n="string"==typeof e.data||e.data instanceof FormData?e.data:FD.util.formatParams(e.data,e.noCache);var o=new XMLHttpRequest,i=null;return e.timeout&&"number"==typeof e.timeout&&(o.timeout=1e3*e.timeout,setTimeout(function(){o.abort(),e.error("time out abort",o),e.complete(o)},1e3*e.timeout)),o.onreadystatechange=function(){if(4==o.readyState){var t=o.status;t>=200&&t<300||304===t?(i="json"===e.dataType?JSON.parse(o.responseText):o.responseText,e.success(i,t,o)):e.error(t,o),e.complete(o)}},e.data instanceof FormData?(o.open("POST",e.url,!0),o.send(n)):"GET"==e.type?(e.url=e.url.indexOf("?")!==-1?e.url+"&":e.url+"?",o.open("GET",e.url+n,!0),o.send(null)):"POST"==e.type&&(o.open("POST",e.url,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(n)),o},loadImage:function(t,e){var n=new Image;return n.src=t,n.complete?void e(n):(n.onload=function(){e(n)},void(n.onerror=function(){e(!1)}))},cookie:{get:function(t,e){var n=new RegExp(e?t+"=(?:.*?&)*?"+e+"=([^&;$]*)":t+"=([^;$]*)","i");return n.test(unescape(document.cookie))?RegExp.$1:""},set:function(t,e,n,o,i,a){var s=new Date;s.setTime(s.getTime()+60*n*1e3),document.cookie=escape(t)+"="+escape(e)+(s?"; expires="+s.toGMTString():"")+(o?"; path="+o:"/")+(i?"; domain="+i:"")+(a?"; secure":"")}},getOffset:function(t){var e=t.getBoundingClientRect();return{left:e.left+(document.body.scrollLeft||document.documentElement.scrollLeft),top:e.top+(document.body.scrollTop||document.documentElement.scrollTop)}},getJsonp:function(t,e){var n=FD.util.getQueryString(t,"callback"),o=n?n:"callback"+(new Date).getTime();t=t.indexOf("?")!==-1?t+"&callback="+o:t+"?callback="+o,FD.getScript(t),window[o]=function(t){try{e&&"function"==typeof e&&e(t)}catch(n){}finally{window[o]=null}}},getScript:function(t,e){if(!t)throw new Error("url not allow null or empty");var n=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.src=t,n.appendChild(o),"function"==typeof e&&(o.onload=function(){e()})},execScript:function(t){t="string"==typeof t?t:"";var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",void 0!==n.text?n.text=t:n.appendChild(document.createTextNode(t)),e.appendChild(n),e.removeChild(n)},extend:function(t,e,n){n=n===!0;for(var o in e)n&&"object"==typeof e[o]&&null!==e[o]?(t[o]=t[o]||{},arguments.callee(t[o],e[o])):e.hasOwnProperty(o)&&(t[o]=e[o]);return t},share:{init:function(t,e){FD.dom.append(t,this.getHtml(e)),this.load()},_items:{sina:'<a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>',tencent:'<a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a>',wechat:'<a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>',qzone:'<a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>',renren:'<a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a>',douban:'<a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>',friend:'<a href="#" class="bds_tqf" data-cmd="tqf" title="分享到腾讯朋友"></a>',tieba:'<a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a>',qq:'<a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>',mshare:'<a href="#" class="bds_mshare" data-cmd="mshare" title="分享到一键分享"></a>'},getHtml:function(t){var e={keys:t&&t.keys||["sina","tencent","wechat","qzone","renren","douban","friend","tieba","qq","mshare"],size:16};FD.extend(e,t||{});var n='<div class="bdsharebuttonbox" data-tag="share_'+e.size+'">';n+='<a href="#" class="bds_more" data-cmd="more"></a>';for(var o=0,i=e.keys.length;o<i;o++)n+=this._items[e.keys[o]];return n+="</div>"},load:function(){with(window._bd_share_config={common:{bdSnsKey:{},bdText:"",bdMini:"2",bdMiniList:!1,bdPic:"",bdStyle:"0"},share:[{tag:"share_16",bdSize:16},{tag:"share_32",bdSize:32}]},document)(0)[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="//bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date/36e5)]}},initWechatShare:function(t){if(FD.util.isWeiXin()){var e=document.querySelector("meta[name=description]"),n=document.querySelector("meta[name=wechatShareLink]"),o=document.querySelector("meta[name=wechatShareImgUrl]"),i={title:document.title,link:n&&n.getAttribute("content")||location.href,imgUrl:o&&o.getAttribute("content")||"https://img.familydoctor.com.cn/images/jtys-512.png",desc:e&&e.getAttribute("content")||document.title||"",success:function(){},cancel:function(){}};FD.extend(i,t);var a=function(){var t=i.link.split("?")[0],e=FD.util.parseQueryString(i.link.split("#")[0]),n="",o=[];for(var a in e)"_wechat_code_"!==a&&"_wechat_type_"!==a&&o.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));n=o.length?t+"?"+o.join("&"):t,i.link=n,FD.ajax({url:"https://apko.familydoctor.com.cn/wxapi/index.php/internal/getWechatJsConfig.html",timeout:10,data:{url:encodeURIComponent(n)},success:function(t){if(t)try{"object"!=typeof t&&(t=JSON.parse(t)),t.appId&&s(t)}catch(e){}}})},s=function(t){wx.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonce,signature:t.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","hideMenuItems","updateAppMessageShareData","updateTimelineShareData"]})},l=function(){wx.ready(function(){wx.updateAppMessageShareData?(wx.updateAppMessageShareData(i),wx.updateTimelineShareData(i)):(wx.onMenuShareTimeline(i),wx.onMenuShareAppMessage(i),wx.onMenuShareQQ(i),wx.onMenuShareWeibo(i),wx.onMenuShareQZone(i))})},r=function(){a(),l(),window.isWechatShareInit=!0};if(window.wx)r();else if("function"==typeof require)try{require(["https://res.wx.qq.com/open/js/jweixin-1.4.0.js"],function(t){window.wx=t,r()})}catch(d){}}},initTabs:function(t,e){t=t||".js-tab-wrap",e=e||"click";var n=document.querySelectorAll(t),o=function(t){e=t.getAttribute("data-event-type")||e;for(var n=parseInt(t.getAttribute("data-show-index"))||0,o=t.querySelectorAll(".js-tabs a"),i=t.querySelectorAll(".js-tab-item"),a=0;a<o.length;a++)a===n?(o[a].classList.add("active"),o[a].classList.add("on")):(o[a].classList.remove("active"),o[a].classList.remove("on"));for(var s=0;s<i.length;s++)s===n?i[s].classList.remove("hide"):i[s].classList.add("hide");var l=o[n],r=i[n];[].forEach.call(o,function(t,n){t.setAttribute("data-index",n),t.addEventListener(e,function(){var t=parseInt(this.getAttribute("data-index"));l&&(l.classList.remove("active"),l.classList.remove("on")),this.classList.add("active"),this.classList.add("on"),l=this,r.classList.add("hide"),r=i[t],r.classList.remove("hide")})}),[].forEach.call(i,function(t,e){t.setAttribute("data-index",e)})};[].forEach.call(n,function(t){o(t)})},initWechatAuth:function(t){var e=FD.util.getQueryString(location.href,"_wechat_code_"),n=FD.cookie.get("wechatUnionId");if(t=t||function(){},n)return void FD.getWechatSubScribeStatus(n,t);if(e)FD.getWechatUserInfo(e,function(e){FD.getWechatSubScribeStatus(e,t)});else{var o=encodeURIComponent(location.href);location.href="https://apko.familydoctor.com.cn/wxapi/index.php/internal/getWechatUserId.html?url="+o+"&_wechat_type_=1&wechatId=gh_d8dd09ffe8db"}},getWechatSubScribeStatus:function(t,e){t=t||FD.cookie.get("wechatUnionId"),e=e||function(){};var n=FD.showWaiting();FD.ajax({url:"https://apko.familydoctor.com.cn/wxapi/index.php/internal/checkWechatOpenId.html",data:{wechatId:"gh_6d28f532b78d",openId:t},success:function(t){e(t.result?1===t.member.subscribe?!0:!1:!1)},complete:function(){n.close()},error:function(t){e(!1)}})},getWechatUserInfo:function(t,e){FD.ajax({url:"https://apko.familydoctor.com.cn/wxapi/index.php/internal/getWechatUserId.html",type:"POST",data:{wechatId:"gh_d8dd09ffe8db",code:t,type:1},success:function(t){t.result&&t.data.user&&(e(t.data.user.unionid),FD.cookie.set("wechatUnionId",t.data.user.unionid,525600,"/"))}})},b64EncodeUnicode:function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)}))},b64DecodeUnicode:function(t){return decodeURIComponent(atob(t).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))},pageLock:function(){document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"},pageUnLock:function(){document.documentElement.style.overflow="auto",document.body.style.overflow="auto"},isIOS:function(){if(!FD.isIOS.flag){var t=navigator.userAgent;return FD.isIOS.flag=!0,FD.isIOS.ios=/iphone|ios|ipad|ipod/i.test(t)&&t.indexOf("Safari")!==-1}return FD.isIOS.ios},isIphoneXFamily:function(){var t=window.devicePixelRatio||1,e={width:window.screen.width*t,height:window.screen.height*t},n=[2436,2688,1792];return!(!FD.isIOS()||!n.some(function(t){return t===e.height}))},showSubscribeDialog:function(t){var e={title:"把健康揣进口袋",maskClick:!0,onCloseAfter:function(){}},n="";n+='<div class="subscribe-dialog">',n+='<p class="colorful">【方式1】</p>',n+="<p>在微信-联系人-公众号-添加中内搜索“家庭医生在线”订阅号并关注</p>",n+='<img src="https://img.familydoctor.com.cn/component/common/styles/images/wechat-id.jpg">',n+="<br>",n+="<br>",n+='<p class="colorful">【方式2】</p>',n+="<p>使用微信扫描下方二维码</p>",n+='<img class="qrcode" src="https://img.familydoctor.com.cn/component/common/styles/images/gzhewm.jpg">',n+="</div>",e.content=n,FD.extend(e,t),new FD.Dialog(e)}};!function(){function t(t,e){var n=this;n.defaults={url:"",data:{},before:function(){return!0},success:function(){},error:function(){},complete:function(){},progress:function(){}},FD.extend(n.defaults,e||{}),n.fileEle=t,n.fileEle.onchange=function(){return!!n.defaults.before()&&void n._upload()}}t.prototype._upload=function(){var t=this,e=new XMLHttpRequest,n=new FormData;for(var o in t.defaults.data)n.append(o,t.defaults.data[o]);n.append(t.fileEle.name||"file",t.fileEle.files[0]),e.open("POST",t.defaults.url),e.onload=function(){200===e.status?(t.defaults.success(JSON.parse(e.responseText)),t.fileEle.value=""):t.defaults.error(e.status),t.defaults.complete(e.status)},e.upload.onprogress=function(e){e.lengthComputable&&t.defaults.progress((e.loaded/e.total*100|0).toFixed(2))},e.send(n)},FD.Uploader=t}(),function(t){function e(e){this.defaults={content:"",sec:5,autoClose:!1,onOpened:function(){},onClosed:function(){}},this.defaults=FD.extend(this.defaults,e||{}),this.box=t.createElement("div"),this._init()}e.prototype._init=function(){var e=this;e.box.style.cssText="display:none;position:fixed;top:50%;left:50%;z-index:999999;padding:8px 20px;border-radius:8px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:16px;color:white;text-align:center;-webkit-transition:.5s;transition:.5s;opacity:0;background:rgba(0,0,0,.8);","string"==typeof e.defaults.content?e.box.innerHTML=e.defaults.content:e.box.appendChild(e.defaults.content),t.body.appendChild(e.box),e.open()},e.prototype.open=function(){var t=this;t.box.style.display="inline-block",setTimeout(function(){t.box.style.opacity=1,t.defaults.onOpened(t)},100),t.defaults.autoClose&&setTimeout(function(){t.close()},1e3*t.defaults.sec)},e.prototype.close=function(){var e=this;e.box.style.opacity=0,setTimeout(function(){e.defaults.onClosed(e),t.body.removeChild(e.box)},500)},FD.Echo=e}(document),function(t,e){function n(t){this.defaults={maxWidth:"90%",minWidth:"100px",width:"80%",height:"auto",title:"提示",content:"",className:"dia-cont",dialogClassName:"",autoShow:!0,maskClick:!1,showTitle:!0,showClose:!0,onInit:function(){},onOpened:function(){},onCloseBefore:function(){},onCloseAfter:function(){}},this.defaults=FD.extend(this.defaults,t||{}),this.mask=null,this.box=null,this._init()}n.prototype.level=0,n.prototype._init=function(){var e=this,o=this.defaults.maxWidth,i=this.defaults.minWidth,a=this.defaults.width,s=this.defaults.height,l=/\%|auto/i;n.prototype.level++,e.mask=t.createElement("div"),e.box=t.createElement("div"),e.mask.className="dialog-mask",e.mask.style.zIndex=1e3+e.level,e.box.className="dialog-box "+this.defaults.dialogClassName,e.box.style.zIndex=1e3+e.level,e.box.style.maxWidth=l.test(o)?o:parseInt(o)+"px",e.box.style.minWidth=l.test(i)?i:parseInt(i)+"px",e.box.style.width=l.test(a)?a:parseInt(a)+"px",e.box.style.height=l.test(s)?s:parseInt(s)+"px",e.sbj=t.createElement("div"),e.sbj.className="dia-sbj",e.title=t.createElement("b"),e.cls=t.createElement("a"),e.cls.className="dia-close",e.cls.href="javascript:;",e.sbj.appendChild(e.title),e.box.appendChild(e.cls),e.box.appendChild(e.sbj),e.cont=t.createElement("div"),e.cont.className=e.defaults.className,e.box.appendChild(e.cont),t.body.appendChild(e.mask),t.body.appendChild(e.box),e.defaults.showTitle?void 0:e.sbj.style.display="none",e.defaults.showClose?void 0:e.cls.style.display="none",e.cls.innerHTML="×",e.title.innerHTML=e.defaults.title,"string"==typeof e.defaults.content?e.cont.innerHTML=e.defaults.content:(e.contParentNode=e.defaults.content.parentNode,e.cont.appendChild(e.defaults.content)),e.cls.onclick=function(){e.close()},e.defaults.maskClick&&(e.mask.onclick=function(){e.close()}),e.defaults.autoShow&&e.open(),e.defaults.onInit(e)},n.prototype.open=function(){var t=this,e=t.box,n=t.mask;n.style.display="block",e.style.display="block",setTimeout(function(){n.style.opacity=1,e.style.opacity=1,e.style.top="50%",t.defaults.onOpened(t)},100)},n.prototype.close=function(){var e=this;e.defaults.onCloseBefore(e),e.mask.style.opacity=0,e.box.style.opacity=0,e.box.style.top="-50%",setTimeout(function(){e.mask.style.display="none",e.box.style.display="none",e.defaults.onCloseAfter(e),t.body.removeChild(e.mask),e.contParentNode?e.contParentNode.appendChild(e.defaults.content):t.body.removeChild(e.box)},200)},FD.Dialog=n}(document),function(t,e){function n(t){this.defaults={isShow:!0,styles:{opacity:0}},this.defaults=FD.extend(this.defaults,t||{}),this.defaults=FD.extend(this.defaults,FD.GotoTop.options||{}),this.box=document.createElement("div"),this.defaults.isShow&&this._init()}n.setting=function(t){FD.GotoTop.options=t},n.prototype._init=function(){var n=this,o=n.box,i=t.body.scrollHeight,a=a;o.className="icon-goto-top-gray iconfont icon-arrow-up fd-goto-top",o.style.zIndex=-1;for(var s in n.defaults.styles)o.style[s]=n.defaults.styles[s];t.body.appendChild(o),e.onscroll=function(){a>i||(document.body.scrollTop>a?n.fadeIn():n.fadeOut())},o.onclick=function(){e.scrollTo(0,0)}},n.prototype.fadeIn=function(){this.box.style.opacity=1,this.box.style.zIndex=100},n.prototype.fadeOut=function(){this.box.style.opacity=0,this.box.style.zIndex=-1},FD.GotoTop=n}(document,window),function(t,e){function n(e,n){var o=this;this.defaults={speed:.5,direction:"horizon",duration:3,autoRun:!1,showAction:!0,showNav:!1,showTitle:!1,showNumber:!1,touch:!0,onInited:function(){},onBefore:function(){},onAfter:function(){}},this.defaults=FD.extend(this.defaults,n||{}),this.$elem=e,this.$wrap=t.createElement("div"),this.$box=t.createElement("div"),this.$items=this.$elem.querySelectorAll(".fd-slider-item"),this.$title=t.createElement("div"),this.$number=t.createElement("div"),this.$curNum=t.createElement("span"),this.$totalNum=t.createElement("span"),this.$prev=t.createElement("a"),this.$next=t.createElement("a"),this.$nav=null,this.width=0,this.height=0,this.center=0,this.count=this.$items.length,this.current=0,this.runing=!1,this.timer=null,this.timeId=null,this.isFirst=!0,this.start={x:0,y:0},this.titles=[],this.$items=[].slice.call(this.$items),this.$wrap.className="fd-slider-wrap",this.$box.className="fd-slider-inner";for(var i=0,a=this.count;i<a;i++)FD.dom.append(this.$box,this.$items[i]);this.$wrap.appendChild(this.$box),this.$elem.appendChild(this.$wrap);var s=0,l=function(){var t=o.$items.every(function(t){return t.getBoundingClientRect().height});t?d():s<100?(s++,setTimeout(l,16)):r()},r=function(){d()},d=function(){var t=o.$elem.querySelectorAll("img");if(0===t.length)return void o._init();var e=0,n=function(){e++,e>=t.length&&o._init()};t.forEach(function(t){FD.loadImage(t.src,function(){n()})})};l()}function o(t){var e=this;e.runing=!0,e.defaults.onBefore(e),e._stopAndRestart(),e._scroll(),setTimeout(function(){e.runing=!1,e.current===e.count?(e._noAnimate(),i.call(e,-e.delta),e.current=0):e.current===-1&&(e._noAnimate(),i.call(e,-e.count*e.delta),e.current=e.count-1),e.defaults.onAfter(e)},1e3*e.defaults.speed);var n=e.current;if(e.current===e.count?n=0:e.current===-1&&(n=e.count-1),e.defaults.showNav&&e.count>1){var o=e.$nav.querySelector("a.on");o&&o.classList.remove("on"),e.$nav.querySelectorAll("a")[n].classList.add("on")}e.defaults.showTitle&&(e.$title.innerText=e.titles[n]),e.defaults.showNumber&&(e.$curNum.innerText=n+1)}function i(t){var e=this;"horizon"===e.defaults.direction&&(e.$box.style.webkitTransform="translate3d("+t+"px,0,0)",e.$box.style.transform="translate3d("+t+"px,0,0)"),"vertical"===e.defaults.direction&&(e.$box.style.webkitTransform="translate3d(0,"+t+"px,0)",e.$box.style.transform="translate3d(0,"+t+"px,0)")}n.prototype._init=function(){function t(){var t=0,n=0;e.$items.forEach(function(e){var o=e.getBoundingClientRect(),i=o.height,a=o.width;t=i>t?i:t,n=a>n?a:n}),e.width=e.$elem.getBoundingClientRect().width,e.height=t,e.$elem.style.minHeight=e.height+"px",e.$wrap.style.height=e.height+"px",e.$wrap.style.overflow="hidden","horizon"===e.defaults.direction&&(e.$box.style.width=e.width*(e.count+2)+"px",e.$box.style.height=e.height+"px",e.delta=e.width),"vertical"===e.defaults.direction&&(e.$box.style.width=e.width+"px",e.$box.style.height=e.height*(e.count+2)+"px",e.delta=e.height),e.$items.forEach(function(t){t.style.width=e.width+"px",t.style.height=e.height+"px"}),e.$box.appendChild(e.$items[0].cloneNode(!0)),e.$box.insertAdjacentElement("afterbegin",e.$items[e.count-1].cloneNode(!0)),i.call(e,-e.delta),e.defaults.showAction&&(e.$prev.href="javascript:;",e.$prev.className="fd-slider-action iconfont icon-left prev",e.$prev.style.display="block",e.$next.href.display="javascript:;",e.$next.className="fd-slider-action iconfont icon-right next",e.$next.style.display="block",e.$elem.appendChild(e.$prev),e.$elem.appendChild(e.$next),e.$prev.addEventListener("click",function(){e.scrollPrev()},!1),e.$next.addEventListener("click",function(){e.scrollNext()},!1)),e.defaults.showNav&&e.count>1&&e._randerNav(),e.defaults.showTitle&&(e.$title.className="fd-slider-title",e.$elem.appendChild(e.$title),[].forEach.call(e.$items,function(t,n){var o=t.querySelector("img");title=o&&o.title||"",e.titles.push(title)}),e.$title.innerText=e.titles[0]),e.defaults.showNumber&&(e.$number.className="fd-slider-num",e.$number.appendChild(e.$curNum),e.$number.appendChild(e.$totalNum),e.$elem.appendChild(e.$number),e.$curNum.innerText=1,e.$totalNum.innerText="/"+e.count),e.defaults.autoRun&&e.count>1&&e.autoRun(),e.defaults.touch&&(e.$box.addEventListener("touchstart",function(t){var n=t.changedTouches[0];e.start={x:n.clientX,y:n.clientY},"vertical"===e.defaults.direction&&t.preventDefault()},!1),e.$box.addEventListener("touchmove",function(t){var n,o,i=t.changedTouches[0],a={x:i.clientX,y:i.clientY};"horizon"===e.defaults.direction&&(n="x",o="y"),"vertical"===e.defaults.direction&&(n="y",o="x"),Math.abs(a[o]-e.start[o])>Math.abs(a[n]-e.start[n])||Math.abs(a[n]-e.start[n])<30||(a[n]-e.start[n]>0?e.scrollPrev():e.scrollNext())},!1)),e.defaults.onInited(e)}var e=this;t()},n.prototype._randerNav=function(){var e=this,n="";e.$nav=t.createElement("div"),[].forEach.call(e.$items,function(t,e){n+='<a href="javascript:;" '+(0===e?'class="on"':"")+">"+(e+1)+"</a>"}),e.$nav.className="fd-slider-nav",e.$nav.innerHTML=n,e.$elem.appendChild(e.$nav),e.$nav.addEventListener("click",function(t){var n=t.target;if("A"===n.nodeName){if(n.classList.contains("on"))return;e.current=parseInt(n.innerText)-2,e.scroll("next")}})},n.prototype.scroll=function(t){t=t||"next","next"===t?this.scrollNext():this.scrollPrev()},n.prototype.autoRun=function(){var t=this;t.timer=setTimeout(function(){t.scroll(),t.autoRun()},1e3*t.defaults.duration)},n.prototype.scrollNext=function(){var t=this;t.runing||(t.current++,o.call(t,"next"))},n.prototype.scrollPrev=function(){var t=this;t.runing||(t.current--,o.call(t,"prev"))},n.prototype._stopAndRestart=function(){var t=this;t.defaults.autoRun&&t.count>1&&(clearInterval(t.timer),clearTimeout(t.timeId),t.timeId=setTimeout(function(){t.autoRun()},1e4))},n.prototype._useAnimate=function(){var t=this;t.$box.style.webkitTransition="transform "+t.defaults.speed+"s ease-out",t.$box.style.transition="transform "+t.defaults.speed+"s ease-out"},n.prototype._noAnimate=function(){this.$box.style.webkitTransition="none",this.$box.style.transition="none"},n.prototype._scroll=function(){var t=this;t._useAnimate(),i.call(t,-t.delta*(t.current+1))},FD.Slider=n}(document,window),function(t,e){function n(e){this.defaults={direction:"toLeft",speed:.5,size:"auto",offset:[0,0],zIndex:200,showMask:!0,className:"drawer",content:"null",onInit:function(){},onShow:function(){},onHide:function(){}},this.defaults=FD.extend(this.defaults,e),this.box=t.createElement("div"),this.mask=t.createElement("div"),this.isRuning=!1,this._init()}n.prototype._init=function(){var e=this;switch(e.box.style.visibility="hidden","object"==typeof e.defaults.content?e.box.appendChild(e.defaults.content):e.box.innerHTML=e.defaults.content,e.defaults.direction){case"toLeft":e.defaults.css={top:0,right:0,bottom:0,width:e.defaults.size,transform:"translate3d(100%,"+e.defaults.offset[1]+",0)"};break;case"toRight":e.defaults.css={top:0,left:0,bottom:0,width:e.defaults.size,transform:"translate3d(-100%,"+e.defaults.offset[1]+",0)"};break;case"toTop":e.defaults.css={width:"100%",maxWidth:"768px",bottom:0,height:e.defaults.size,transform:"translate3d(0,100%,0)"};break;case"toBottom":e.defaults.css={width:"100%",maxWidth:"768px",top:0,height:e.defaults.size,transform:"translate3d(0,-100%,0)"}}for(var n in e.defaults.css)e.box.style[n]=e.defaults.css[n];var o=e.defaults.className.split(" "),i=e.defaults.className+"-mask";o.length>1&&(i="drawer-mask "+o[o.length-1]+"-mask");var a="transform "+e.defaults.speed+"s ease-out",s="opacity "+e.defaults.speed+"s ease-out";e.box.style.webkitTransform=e.defaults.css.transform,e.box.style.zIndex=e.defaults.zIndex,e.box.className=e.defaults.className,e.box.style.display="block",e.box.style.position="fixed",e.box.style.webkitTransition="-webkit-"+a,e.box.style.transition=a,e.mask.className=i,e.mask.style.zIndex=e.defaults.zIndex,e.mask.style.webkitTransition="-webkit-"+s,e.mask.style.transition=s,!e.defaults.showMask&&(e.mask.style.display="none"),e.closed=!0,t.body.appendChild(e.mask),t.body.appendChild(e.box),e.mask.onclick=function(){e.hide()},e.defaults.onInit(e);var l="transitionend"in e.box.style?"transitionend":"webkitTransitionEnd";e.box.addEventListener(l,function(){e.isRuning=!1})},n.prototype.show=function(){var t=this;t.isRuning||(t.isRuning=!0,t.box.style.visibility="visible",t.defaults.showMask&&(t.mask.style.display="block"),setTimeout(function(){t.box.style.transform="translate3d("+t.defaults.offset.join(",")+",0)",t.box.style.webkitTransform="translate3d("+t.defaults.offset.join(",")+",0)",t.closed=!1,t.defaults.showMask&&(t.mask.style.opacity=1),t.defaults.onShow(t)},30))},n.prototype.hide=function(t){var e=this;e.isRuning||(e.isRuning=!0,e.box.style.transform=e.defaults.css.transform,e.box.style.webkitTransform=e.defaults.css.transform,setTimeout(function(){e.box.style.visibility="hidden"},1e3*e.defaults.speed),e.defaults.showMask&&(e.mask.style.opacity=0,setTimeout(function(){e.mask.style.display="none"},1e3*e.defaults.speed)),e.closed=!0,e.defaults.onHide(e))},n.prototype.toggle=function(t){this.isRuning||("function"!=typeof t&&(t=function(){}),this.closed?(t(!0),this.show()):(t(!1),this.hide()))},n.prototype.lock=function(){t.body.style.height="100%",t.body.style.overflow="hidden",t.documentElement.style.height="100%",t.documentElement.style.overflow="hidden"},n.prototype.unlock=function(){t.body.style.height="auto",t.body.style.overflow="auto",t.documentElement.style.height="auto",t.documentElement.style.overflow="auto"},FD.Drawer=n}(document,window),function(){function t(e,n){return this instanceof t?(this.defaults={maxWidth:"768px",width:"100%",offset:[0,0],className:"auto-cpl-box",delay:300,atleast:500,onInput:function(){}},this.box=null,this.input=e,this.defaults=FD.extend(this.defaults,n),void this._init()):new t(e,n)}t.prototype._init=function(){var t=this,e=null,n=null,o=function(e){t.show(),t.defaults.onInput(e,t)},i=function(i){var a=+new Date;return i?(n||(n=a),void(a-n>t.defaults.atleast?(o(i),n=a):(clearTimeout(e),e=setTimeout(function(){o(i)},t.defaults.delay)))):void t.hide()};t.input.setAttribute("autocomplete","off"),t.box=document.createElement("div"),document.body.appendChild(t.box),t._initBox(),t.input.addEventListener("input",function(){i(t.input.value.trim())},!1),t.input.addEventListener("focus",function(){i(t.input.value.trim())},!1),document.addEventListener("click",function(e){var n=e.target;n!==t.box&&n!==t.input&&t.hide()})},t.prototype._initBox=function(){var t=this,e=FD.getOffset(t.input),n="auto"===t.defaults.width?t.input.offsetWidth-2+"px":t.defaults.width,o=t.input.offsetHeight;t.box.className=t.defaults.className,t.box.style.display="none",t.box.style.position="absolute",t.box.style.width=n,t.box.style.maxWidth=t.defaults.maxWidth,t.box.style.top=e.top+o+parseInt(t.defaults.offset[1])+"px",null!==t.defaults.offset[0]?t.box.style.left=e.left+parseInt(t.defaults.offset[0])+"px":t.box.style.left=0},t.prototype.hide=function(){this.box.style.display="none"},t.prototype.show=function(){this.box.style.display="block"},FD.AutoComplete=t}(),function(t,e){function n(){function n(){if(t.body){var i=FD.showWaiting();FD.ajax({url:"https://jkapi.bj.familydoctor.com.cn/toutiao/getButtonFieldFromToutiao",type:"GET",success:function(t){0===t.err_code&&o(t.data)},complete:function(){i.close(),e.isBtnToutiaoShow=!0},error:function(t){}}),clearTimeout(a)}else a=setTimeout(n,50)}function o(e){var n=document.createElement("dl"),o=document.createElement("dt"),i=document.createElement("dd"),a=document.createElement("a"),s=document.createElement("a"),l=document.createElement("style"),r=e.buttons[0],d=e.buttons[1];FD.showWaiting;n.style.position="fixed",n.style.zIndex="100",n.style.bottom="0",n.style.left="0",n.style.right="0",n.style.padding="12px 17px",n.style.backgroundColor="#fff",o.style.width="50%",o.style["float"]="left",o.style.paddingRight="5px",i.style.width="50%",i.style["float"]="left",i.style.paddingLeft="5px",a.classList.add("btn-toutiao","btn-toutiao-professor"),a.href=r.open_url,
a.innerHTML=r.text,s.classList.add("btn-toutiao","btn-toutiao-free"),s.href=d.open_url,s.innerHTML=d.text,l.innerHTML=".btn-toutiao {display:block;line-height:38px;overflow:hidden;border-radius:3px;text-align:center;color:#000;font-size:16px;}.btn-toutiao em {padding:3px;margin-left:3px;border-radius:2px;vertical-align:top;color:#fff;font-size:11px;background:#2da822;}.btn-toutiao-professor {border:1px solid #3d98ff;}.btn-toutiao-free {border:1px solid grey;}",1===r.is_limit&&(a.innerHTML+="<em>"+r.limit_text+"</em>"),1===d.is_limit&&(s.innerHTML+="<em>"+r.limit_text+"</em>"),o.appendChild(a),i.appendChild(s),n.appendChild(o),n.appendChild(i),t.body.appendChild(l),t.body.appendChild(n)}if(!e.isBtnToutiaoShow){var i=navigator.userAgent,a=null;i.indexOf("NewsArticle")===-1&&i.indexOf("NewsLite")===-1||FD.isIOS()&&i.indexOf("iPad")!==-1||n()}}n()}(document,window);
//# sourceMappingURL=fd-base-mobile.min.js.map
