function QR8bitByte(t){this.mode=QRMode.MODE_8BIT_BYTE,this.data=t}function QRCode(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}function QRPolynomial(t,e){var n,r;if(void 0==t.length)throw new Error(t.length+"/"+e);for(n=0;n<t.length&&0==t[n];)n++;for(this.num=new Array(t.length-n+e),r=0;r<t.length-n;r++)this.num[r]=t[r+n]}function QRRSBlock(t,e){this.totalCount=t,this.dataCount=e}function QRBitBuffer(){this.buffer=new Array,this.length=0}function QR8bitByte(t){this.mode=QRMode.MODE_8BIT_BYTE,this.data=t}function QRCode(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}function QRPolynomial(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}function QRRSBlock(t,e){this.totalCount=t,this.dataCount=e}function QRBitBuffer(){this.buffer=new Array,this.length=0}function utf16to8(t){var e,n,r,i;for(e="",r=t.length,n=0;r>n;n++)i=t.charCodeAt(n),i>=1&&127>=i?e+=t.charAt(n):i>2047?(e+=String.fromCharCode(224|i>>12&15),e+=String.fromCharCode(128|i>>6&63),e+=String.fromCharCode(128|i>>0&63)):(e+=String.fromCharCode(192|i>>6&31),e+=String.fromCharCode(128|i>>0&63));return e}function utf8to16(t){var e,n,r,i,o,a;for(e="",r=t.length,n=0;r>n;)switch(i=t.charCodeAt(n++),i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=t.charAt(n-1);break;case 12:case 13:o=t.charCodeAt(n++),e+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=t.charCodeAt(n++),a=t.charCodeAt(n++),e+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&a)<<0)}return e}!function(t,e){function n(t,e){if(t instanceof Array){for(var n=0,r=t.length;r>n;n++)if(e.call(t[n],t[n],n)===!1)return}else for(var n in t)if(t.hasOwnProperty(n)&&e.call(t[n],t[n],n)===!1)return}function r(t,e){if(this.svnMod="",this.name=null,this.path=t,this.fn=null,this.exports={},this._loaded=!1,this._requiredStack=[],this._readyStack=[],r.cache[this.path]=this,e&&"."!==e.charAt(0)){var n=e.split(":");n.length>1?(this.svnMod=n[0],this.name=n[1]):this.name=e}this.svnMod||(this.svnMod=this.path.split("/js/")[0].substr(1)),this.type="js",this.getKey=function(){return this.svnMod+":"+this.name},this._info={}}function i(t,e){var n="css"==e,r=document.createElement(n?"link":"script");return r}function o(e,n,r){function o(){o.isCalled||(o.isCalled=!0,clearTimeout(d),r&&r())}var u=i(e,n);"SCRIPT"===u.nodeName?a(u,o):s(u,o);var d=setTimeout(function(){throw new Error("load "+n+" timeout : "+e)},t._loadScriptTimeout||1e4),l=document.getElementsByTagName("head")[0];"css"==n?(u.rel="stylesheet",u.href=e,l.appendChild(u)):(u.type="text/javascript",u.charset="utf-8",u.src=e,l.insertBefore(u,l.firstChild))}function a(t,e){t.onload=t.onerror=t.onreadystatechange=function(){if(/loaded|complete|undefined/.test(t.readyState)){if(t.onload=t.onerror=t.onreadystatechange=null,t.parentNode){t.parentNode.removeChild(t);try{if(t.clearAttributes)t.clearAttributes();else for(var n in t)delete t[n]}catch(r){}}t=void 0,e&&e()}}}function s(t,e){t.attachEvent?t.attachEvent("onload",e):setTimeout(function(){u(t,e)},0)}function u(t,e){if(!e||!e.isCalled){var n,r=navigator.userAgent,i=~r.indexOf("AppleWebKit"),o=~r.indexOf("Opera");if(i||o)t.sheet&&(n=!0);else if(t.sheet)try{t.sheet.cssRules&&(n=!0)}catch(a){("SecurityError"===a.name||"NS_ERROR_DOM_SECURITY_ERR"===a.name)&&(n=!0)}setTimeout(function(){n?e&&e():u(t,e)},1)}}t.each=n,r.currentPath="",r.loadedPaths={},r.loadingPaths={},r.cache={},r.paths={},r.handlers=[],r.moduleFileMap={},r.requiredPaths={},r.lazyLoadPaths={},r.services={},r.isPathsLoaded=function(t){var e=!0;return n(t,function(t){return t in r.loadedPaths?void 0:e=!1}),e},r.require=function(t,e){t.search(":")<0&&(e||(e="superman",r.currentPath&&(e=r.currentPath.split("/js/")[0].substr(1))),t=e+":"+t);var n=r.get(t,r.currentPath);if("css"!=n.type){if(n){if(!n._inited){n._inited=!0;var i,o=n.svnMod;(i=n.fn.call(null,function(t){return r.require(t,o)},n.exports,new c(n.name,o)))&&(n.exports=i)}return n.exports}throw new Error('Module "'+t+'" not found!')}},r.baseUrl=e?"/"==e[e.length-1]?e:e+"/":"/",r.getBasePath=function(t){var e,n;return-1!==(n=t.indexOf("/"))&&(e=t.slice(0,n)),e&&e in r.paths?r.paths[e]:r.baseUrl},r.getJsPath=function(e,n){if("."===e.charAt(0)){n=n.replace(/\/[^\/]+\/[^\/]+$/,""),0===e.search("./")&&(e=e.substr(2));var i=0;for(e=e.replace(/^(\.\.\/)+/g,function(t){return i=t.length/3,""});i>0;)n=n.substr(0,n.lastIndexOf("/")),i--;return n+"/"+e+"/"+e.substr(e.lastIndexOf("/")+1)+".js"}var o,a,s,u,d,l;if(e.search(":")>=0){var c=e.split(":");o=c[0],e=c[1]}else n&&(o=n.split("/")[1]);o=o||"superman";var h=/\.css(?:\?|$)/i.test(e);h&&(r.moduleFileMap[o][e]?t._useConfig&&(e=r.moduleFileMap[o][e]):!t._useConfig&&alert(e+"没有配置在config.js中"));var e=d=e,f=r.getBasePath(e);return-1!==(s=e.indexOf("/"))&&(a=e.slice(0,s),u=e.lastIndexOf("/"),d=e.slice(u+1)),a&&a in r.paths&&(e=e.slice(s+1)),l=f+o+"/js/"+e+".js"},r.get=function(t,e){var n=r.getJsPath(t,e);return r.cache[n]?r.cache[n]:new r(n,t)},r.prototype={load:function(){r.loadingPaths[this.path]=!0;var e=this.svnMod||"superman",n=s_domain.staticUrl+"static/"+e+"/",i=this,o=/\.css(?:\?|$)/i.test(this.name);this.type=o?"css":"js";var a="/"+this.type+"/"+r.moduleFileMap[e][this.name];if(n+=t._useConfig&&r.moduleFileMap[e][this.name]?this.type+"/"+r.moduleFileMap[e][this.name]:this.type+"/"+this.name+(o?"":".js"),$.inArray(a,t._firstScreenCSS)>=0||t._useConfig&&$.inArray(a,t._firstScreenJS)>=0)o?setTimeout(function(){i._loaded=!0,i.ready()},1):(i._loaded=!0,i.ready());else{var s=(new Date).getTime();d.create({src:n,type:this.type,loaded:function(){i._info.loadedTime=(new Date).getTime()-s,"css"==i.type&&(i._loaded=!0,i.ready())}})}},lazyLoad:function(){if(this.name,r.lazyLoadPaths[this.getKey()])this.define(),delete r.lazyLoadPaths[this.getKey()];else{if(this.exist())return;r.requiredPaths[this.getKey()]=!0,this.load()}},ready:function(t,e){var i=e?this._requiredStack:this._readyStack;if(t)this._loaded?t():i.push(t);else{if(r.loadedPaths[this.path]=!0,delete r.loadingPaths[this.path],this._loaded=!0,r.currentPath=this.path,this._readyStack&&this._readyStack.length>0){this._inited=!0;var o,a=this.svnMod;(o=this.fn.call(null,function(t){return r.require(t,a)},this.exports,new c(this.name,a)))&&(this.exports=o),n(this._readyStack,function(t){t()}),delete this._readyStack}this._requiredStack&&this._requiredStack.length>0&&(n(this._requiredStack,function(t){t()}),delete this._requiredStack)}},define:function(){var t=this,e=this.deps,i=(this.path,[]);e||(e=this.getDependents()),e.length?(n(e,function(e){i.push(r.getJsPath(e,t.path))}),n(e,function(e){var n=r.get(e,t.path);n.ready(function(){r.isPathsLoaded(i)&&t.ready()},!0),n.lazyLoad()})):this.ready()},exist:function(){var t=this.path;return t in r.loadedPaths||t in r.loadingPaths},getDependents:function(){var t=this.fn.toString(),e=t.match(/function\s*\(([^,]*),/i),r=new RegExp("[^.]\\b"+e[1]+"\\(\\s*('|\")([^()\"']*)('|\")\\s*\\)","g"),i=t.match(r),o=[];return i&&n(i,function(t,n){o[n]=t.substr(e[1].length+3).slice(0,-2)}),o}};var d={create:function(t){var e=t.src;e in this._paths||(this._paths[e]=!0,n(this._rules,function(t){e=t.call(null,e)}),o(e,t.type,t.loaded))},_paths:{},_rules:[],addPathRule:function(t){this._rules.push(t)}};t.version="1.0",t.use=function(t,e){"string"==typeof t&&(t=[t]);var i=[],o=[];n(t,function(t,e){o[e]=!1}),n(t,function(t,a){var s=r.get(t),u=s._loaded;s.ready(function(){var t=s.exports||{};t._INFO=s._info,t._INFO&&(t._INFO.isNew=!u),i[a]=t,o[a]=!0;var r=!0;n(o,function(t){return t===!1?r=!1:void 0}),e&&r&&e.apply(null,i)}),s.lazyLoad()})},t.module=function(t,e,n){var i=r.get(t);i.fn=e,i.deps=n,r.requiredPaths[i.getKey()]?i.define():r.lazyLoadPaths[i.getKey()]=!0},t.pathRule=function(t){d.addPathRule(t)},t._addPath=function(t,e){if("/"!==e.slice(-1)&&(e+="/"),t in r.paths)throw new Error(t+" has already in Module.paths");r.paths[t]=e};var l="superman";t._setMod=function(t){l=t||"superman"},t._fileMap=function(e,i){if("object"==typeof e)n(e,function(e,n){t._fileMap(n,e)});else{var o=l;"string"==typeof i&&(i=[i]),e=1==e.indexOf("js/")?e.substr(4):e,e=1==e.indexOf("css/")?e.substr(5):e;var a=r.moduleFileMap[o];a||(a={}),n(i,function(t){a[t]||(a[t]=e)}),r.moduleFileMap[o]=a}},t._eventMap={},t.call=function(e,n){for(var r=[],i=2,o=arguments.length;o>i;i++)r.push(arguments[i]);t.use(e,function(t){for(var e=n.split("."),i=0,o=e.length;o>i;i++)t=t[e[i]];t&&t.apply(this,r)})},t._setContext=function(t){"object"==typeof t&&n(t,function(t,e){c.prototype[e]=r.require(t)})},t._setContextMethod=function(t,e){c.prototype[t]=e};var c=function(t,e){this.modName=t,this.svnMod=e};c.prototype={domain:s_domain,session:s_session,use:function(e,n){"string"==typeof e&&(e=[e]);for(var r=e.length-1;r>=0;r--)e[r]=this.svnMod+":"+e[r];t.use(e,n)}},t._Context=c,t.addLog=function(e,n){t.use("superman:lib/log",function(t){t.defaultLog(e,n)})},t.fire=function(e,n,r){t.use("superman:lib/mod_evt",function(t){t.fire(e,n,r)})},t._defService=function(t,e){if(t){var i=r.services[t];i=i||{},n(e,function(t,e){i[e]=t}),r.services[t]=i}},t.getService=function(e,n,i){var o=r.services[e];if(!o)throw new Error(e+" mod didn't define any services");var a=o[n];if(!a)throw new Error(e+" mod didn't provide service "+n);t.use(e+":"+a,i)}}(function(){return window.F={}}()),$.extend({browser:{chrome:/chrome\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp.$1:void 0,firefox:/firefox\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp.$1:void 0,ie:/msie (\d+\.\d+)|Trident/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0,isGecko:/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),isWebkit:/webkit/i.test(navigator.userAgent),opera:/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):void 0,safari:/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)?+(RegExp.$1||RegExp.$2):void 0,isSogouIE:navigator.userAgent.toLowerCase().indexOf("msie")>0&&navigator.userAgent.toLowerCase().indexOf("se")>0&&-1==navigator.userAgent.toLowerCase().indexOf("360se"),isBaidu:/BIDUBrowser/i.test(navigator.userAgent),edge:/edge\/(\d+)/i.test(navigator.userAgent)?+RegExp.$1:void 0}}),$.extend({isIE:$.browser.ie,isIE6:6==$.browser.ie,isBaidu:$.browser.isBaidu}),$.extend({url:{escapeReg:function(t){return String(t).replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\])","g"),"\\$1")},escapeSSL:function(t){if("http:"===s_domain.protocol||0==t.indexOf("https:"))return t;var e=s_domain.ssllist||{},n=/^(http[s]?:\/\/)?([^\/]+)(.*)/,r=t.match(n),i=e.hasOwnProperty(r[2])&&e[r[2]]+r[3];return i?"https://"+i:((new Image).src="/home/page/data/pageserver?errno=7008&errurl="+encodeURIComponent(t)+"&_t="+1*new Date,$.browser.chrome?t:t.replace(/http:/,"https:"))},getQueryValue:function(t,e){var n=new RegExp("(^|&|\\?|#)"+$.url.escapeReg(e)+"=([^&#]*)(&|$|#)",""),r=t.match(n);return r?r[2]:null},escapeSymbol:function(t){return String(t).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(t){return"%"+(256+t.charCodeAt()).toString(16).substring(1).toUpperCase()})},jsonToQuery:function(t){var e,n=[];return $.each(t,function(t,r){if($.isArray(r))for(e=r.length;e--;)n.push(t+"="+encodeURIComponent(r[e]));else n.push(t+"="+encodeURIComponent(r))}),n.join("&")},queryToJson:function(t){for(var e,n,r,i,o=t.substr(t.lastIndexOf("?")+1),a=o.split("&"),s=a.length,u={},d=0;s>d;d++)a[d]&&(i=a[d].split("="),e=i[0],n=i[1],r=u[e],"undefined"==typeof r?u[e]=n:$.isArray(r)?r.push(n):u[e]=[r,n]);return u}}}),F._setMod("superlanding"),F._fileMap({"/css/landing_min.css?v=md5":["reset.css","frame.css","header.css","article.css","relatedNews.css","recentArticle.css","author.css","bottom.css","error.css","searchDiversion.css","qrcode.css"],"/js/landing_min.js?v=md5":["lib/base","lib/browser","lib/url","config","lib/thunder","lib/commission","lib/stringify","lib/ishttps","article/usrMenu","article/topBtm","article/log","article/adProfit","article/qrcode"]}),F._useConfig=!0,!function(t){function e(t){var e=this;e.opt=t||{},e.baseParams=e.opt.baseParams||{},e.config(t,!0),t.autoBind&&e.bindLogHook(),n(e,i)}function n(t,e){if(!e||!t)return t;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var r={PROTOTYPE:"prototype",INSTANCE:"instance",SINGLETON:"singleton",STATICTYPE:"static"},i={};e.prototype={config:function(t){var e=this;return n(e.opt,t),e.baseURL=e.opt.baseURL||"//hpd.baidu.com/v.gif",e.domHook=e.opt.domHook||"data-stats",e.mainDom=e.opt.mainDom,e.skipPrevent=!!e.opt.skipPrevent,e.logRegx=e.opt.logRegx||"(.*?):(.*?);",e.baseParams=n(e.baseParams,t.baseParams),e},send:function(t,e,r){var i=this;i.__sendPreHook&&i.__sendPreHook(t);var o="l"+Date.now(),a=window[o]=new Image,s="",u=null;r=r||i.baseURL,a.onload=a.onerror=a.onabort=function(){window[o]=null,u&&(clearTimeout(u),u=null,e&&e(),i.__sendAfrHook&&i.__sendAfrHook(t,!1))},t=t||{},t.r=o;var d=i.baseParams;t=n(n({},d),t);for(var l in t)t.hasOwnProperty(l)&&(s+="&"+l+"="+encodeURIComponent(t[l]));return a.src=r+"?"+s.slice(1),"function"==typeof e&&(u=setTimeout(function(){u=null,e()},500)),i.__sendAfrHook&&i.__sendAfrHook(t,!0),i},bindLogHook:function(t,e){var n=this;t=$(t?t:n.mainDom),t&&t.on("click",e||"["+n.domHook+"]",function(t){n.hookClick.call(n,this,t)})},hookClick:function(e,n){for(var r=this,i=e.getAttribute(r.domHook),o=e.getAttribute("data-stopskip"),a=e.getAttribute("href"),s=null,u={},d=new RegExp(r.logRegx,"g"),l=null;l=d.exec(i);)u[l[1]]=l[2];"a"===e.tagName.toLowerCase()&&a&&o&&(n.preventDefault(),s=function(){t.location.href=a}),r.send(u,s)}};var o=null,a={create:function(t){return new e(t)},extend:function(t,o){switch(o){case r.PROTOTYPE:n(e.prototype,t);break;case r.STATICTYPE:n(e,t);break;case r.INSTANCE:case r.SINGLETON:default:n(i,t)}},get:function(t){return o||(o=this.create(t))}};t.Thunder=a}(this),!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.Commision=e()}(this,function(){var t=function(){return"object"==typeof t.instance?t.instance:(this.baseParams={},void(t.instance=this))};return t.prototype={commissionInit:function(t){var e={has_finish_read:1,is_valid:1,ct:t.ct,cst:1,distribute_channel:t.distributeChannel,time:+Date.now(),traffic_type:t.trafficType,content_id:t.nid,CTK:0,PVID:t.pvid,baiduid:t.baiduid,stay_time:0,logtype:"",dtime:t.dtime,content_type:t.contentType,content_url:t.contentUrl||encodeURIComponent(location.href),grade:t.grade,create_time_acc_level:t.create_time_acc_level||0,UserAgent:navigator.userAgent,content_platform_id:t.contentPlatformId||0,osid:t.osid,hybridVersion:t.hybridVersion||null,boxVersion:t.boxVersion||null,nettype:t.nettype||4,page_type:1,content_acc_type:t.contentAccType,is_from_3rd:0,"3rd_party_channel_id":0};+t.isBjh?(e.content_acc_id=void 0===t.uk?"FFFFFFFFFFFFFFFF":t.uk,e.isUk=1):(e.content_acc_id="FFFFFFFFFFFFFFFF",t.resourceId&&(e.content_source_id=t.resourceId)),this.baseParams=e},dataClone:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},getPageShowParams:function(t){var e=this,n=e.dataClone(e.baseParams);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},sendLog:function(t,e){for(var n in t)(void 0===t[n]||""===t[n])&&console.error("分润参数"+n+"的值不能为undefined或空字符串");if("object"==typeof e&&"function"==typeof e.send)e.send(t);else{var r="",i="https://hpd.baidu.com/v.gif?has_property=0";for(var o in t)t.hasOwnProperty(o)&&(r+="&"+o+"="+encodeURIComponent(t[o]));var a=new Image;a.src=i+r}}},t}),$.extend({stringify:function(t){function e(t){return/["\\\x00-\x1f]/.test(t)&&(t=t.replace(/["\\\x00-\x1f]/g,function(t){var e=i[t];return e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})),'"'+t+'"'}function n(t){var e,n,r,i=["["],o=t.length;for(n=0;o>n;n++)switch(r=t[n],typeof r){case"undefined":case"function":case"unknown":break;default:e&&i.push(","),i.push($.stringify(r)),e=1}return i.push("]"),i.join("")}if("JSON"in window)return JSON.stringify(t);var r=typeof t;if("object"!=r||null===t)return"string"==r&&(t='"'+t+'"'),String(t);var i={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};switch(typeof t){case"undefined":return"undefined";case"number":return isFinite(t)?String(t):"null";case"string":return e(t);case"boolean":return String(t);default:if(null===t)return"null";if(t instanceof Array)return n(t);var o,a,s=["{"],u=$.stringify;for(var d in t)if(Object.prototype.hasOwnProperty.call(t,d))switch(a=t[d],typeof a){case"undefined":case"unknown":case"function":break;default:o&&s.push(","),o=1,s.push(u(d)+":"+u(a))}return s.push("}"),s.join("")}}}),bds.util.domain=function(){var t=$.extend({},s_domain.ssllist);$.each(t,function(e){t[e].indexOf("https://")<0&&(t[e]="https://"+t[e])});var e=function(e){if("http:"==s_domain.protocol)return e;var n=/^(http[s]?:\/\/)?([^\/]+)(.*)/,r=e.match(n);return e=t.hasOwnProperty(r[2])&&t[r[2]]+r[3]||e},n=function(e,n){t[e]=n};return{get:e,set:n}}(),bds.comm.sugHost=bds.util.domain.get("http://suggestion.baidu.com/su");var QRMode,QRErrorCorrectLevel,QRMaskPattern,QRUtil,QRMath,i;for(function(t){t.fn.qrcode=function(e){var n,r;return"string"==typeof e&&(e={text:e}),e=t.extend({},{render:"canvas",width:256,height:256,imgWidth:e.width/3,imgHeight:e.height/3,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"},e),n=function(){var t,n,r,i,o,a,s,u,d,l=new QRCode(e.typeNumber,e.correctLevel);for(l.addData(utf16to8(e.text)),l.make(),t=document.createElement("canvas"),t.width=e.width,t.height=e.height,n=t.getContext("2d"),e.src&&(r=new Image,r.src=e.src,r.onload=function(){n.drawImage(r,(e.width-e.imgWidth)/2,(e.height-e.imgHeight)/2,e.imgWidth,e.imgHeight)}),i=e.width/l.getModuleCount(),o=e.height/l.getModuleCount(),a=0;a<l.getModuleCount();a++)for(s=0;s<l.getModuleCount();s++)n.fillStyle=l.isDark(a,s)?e.foreground:e.background,u=Math.ceil((s+1)*i)-Math.floor(s*i),d=Math.ceil((a+1)*i)-Math.floor(a*i),n.fillRect(Math.round(s*i),Math.round(a*o),u,d);return t},r=function(){var n,r,i,o,a,s,u=new QRCode(e.typeNumber,e.correctLevel);for(u.addData(utf16to8(e.text)),u.make(),n=t("<table></table>").css("width",e.width+"px").css("height",e.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",e.background),r=e.width/u.getModuleCount(),i=e.height/u.getModuleCount(),o=0;o<u.getModuleCount();o++)for(a=t("<tr></tr>").css("height",i+"px").appendTo(n),s=0;s<u.getModuleCount();s++)t("<td></td>").css("width",r+"px").css("background-color",u.isDark(o,s)?e.foreground:e.background).appendTo(a);return n},this.each(function(){var i="canvas"==e.render?n():r();t(i).appendTo(this)})}}(jQuery),QR8bitByte.prototype={getLength:function(){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},QRCode.prototype={addData:function(t){var e=new QR8bitByte(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){var t,e,n,r,i,o;if(this.typeNumber<1){for(t=1,t=1;40>t;t++){for(e=QRRSBlock.getRSBlocks(t,this.errorCorrectLevel),n=new QRBitBuffer,r=0,i=0;i<e.length;i++)r+=e[i].dataCount;for(i=0;i<this.dataList.length;i++)o=this.dataList[i],n.put(o.mode,4),n.put(o.getLength(),QRUtil.getLengthInBits(o.mode,t)),o.write(n);if(n.getLengthInBits()<=8*r)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){var n,r;for(this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount),n=0;n<this.moduleCount;n++)for(this.modules[n]=new Array(this.moduleCount),r=0;r<this.moduleCount;r++)this.modules[n][r]=null;this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){var n,r;for(n=-1;7>=n;n++)if(!(-1>=t+n||this.moduleCount<=t+n))for(r=-1;7>=r;r++)-1>=e+r||this.moduleCount<=e+r||(this.modules[t+n][e+r]=n>=0&&6>=n&&(0==r||6==r)||r>=0&&6>=r&&(0==n||6==n)||n>=2&&4>=n&&r>=2&&4>=r?!0:!1)},getBestMaskPattern:function(){var t,e,n=0,r=0;for(t=0;8>t;t++)this.makeImpl(!0,t),e=QRUtil.getLostPoint(this),(0==t||n>e)&&(n=e,r=t);return r},createMovieClip:function(t,e,n){var r,i,o,a,s,u=t.createEmptyMovieClip(e,n),d=1;for(this.make(),r=0;r<this.modules.length;r++)for(i=r*d,o=0;o<this.modules[r].length;o++)a=o*d,s=this.modules[r][o],s&&(u.beginFill(0,100),u.moveTo(a,i),u.lineTo(a+d,i),u.lineTo(a+d,i+d),u.lineTo(a,i+d),u.endFill());return u},setupTimingPattern:function(){var t,e;for(t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=0==e%2)},setupPositionAdjustPattern:function(){var t,e,n,r,i,o,a=QRUtil.getPatternPosition(this.typeNumber);for(t=0;t<a.length;t++)for(e=0;e<a.length;e++)if(n=a[t],r=a[e],null==this.modules[n][r])for(i=-2;2>=i;i++)for(o=-2;2>=o;o++)this.modules[n+i][r+o]=-2==i||2==i||-2==o||2==o||0==i&&0==o?!0:!1},setupTypeNumber:function(t){var e,n,r=QRUtil.getBCHTypeNumber(this.typeNumber);for(e=0;18>e;e++)n=!t&&1==(1&r>>e),this.modules[Math.floor(e/3)][e%3+this.moduleCount-8-3]=n;for(e=0;18>e;e++)n=!t&&1==(1&r>>e),this.modules[e%3+this.moduleCount-8-3][Math.floor(e/3)]=n},setupTypeInfo:function(t,e){var n,r,i=this.errorCorrectLevel<<3|e,o=QRUtil.getBCHTypeInfo(i);for(n=0;15>n;n++)r=!t&&1==(1&o>>n),6>n?this.modules[n][8]=r:8>n?this.modules[n+1][8]=r:this.modules[this.moduleCount-15+n][8]=r;for(n=0;15>n;n++)r=!t&&1==(1&o>>n),8>n?this.modules[8][this.moduleCount-n-1]=r:9>n?this.modules[8][15-n-1+1]=r:this.modules[8][15-n-1]=r;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){var n,r,i,o,a=-1,s=this.moduleCount-1,u=7,d=0;for(n=this.moduleCount-1;n>0;n-=2)for(6==n&&n--;;){for(r=0;2>r;r++)null==this.modules[s][n-r]&&(i=!1,d<t.length&&(i=1==(1&t[d]>>>u)),o=QRUtil.getMask(e,s,n-r),o&&(i=!i),this.modules[s][n-r]=i,u--,-1==u&&(d++,u=7));if(s+=a,0>s||this.moduleCount<=s){s-=a,a=-a;break}}}},QRCode.PAD0=236,QRCode.PAD1=17,QRCode.createData=function(t,e,n){var r,i,o,a=QRRSBlock.getRSBlocks(t,e),s=new QRBitBuffer;for(r=0;r<n.length;r++)i=n[r],s.put(i.mode,4),s.put(i.getLength(),QRUtil.getLengthInBits(i.mode,t)),i.write(s);for(o=0,r=0;r<a.length;r++)o+=a[r].dataCount;if(s.getLengthInBits()>8*o)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*o+")");for(s.getLengthInBits()+4<=8*o&&s.put(0,4);0!=s.getLengthInBits()%8;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*o||(s.put(QRCode.PAD0,8),s.getLengthInBits()>=8*o));)s.put(QRCode.PAD1,8);return QRCode.createBytes(s,a)},QRCode.createBytes=function(t,e){var n,r,i,o,a,s,u,d,l,c,h,f=0,g=0,p=0,m=new Array(e.length),v=new Array(e.length);for(n=0;n<e.length;n++){for(r=e[n].dataCount,i=e[n].totalCount-r,g=Math.max(g,r),p=Math.max(p,i),m[n]=new Array(r),o=0;o<m[n].length;o++)m[n][o]=255&t.buffer[o+f];for(f+=r,a=QRUtil.getErrorCorrectPolynomial(i),s=new QRPolynomial(m[n],a.getLength()-1),u=s.mod(a),v[n]=new Array(a.getLength()-1),o=0;o<v[n].length;o++)d=o+u.getLength()-v[n].length,v[n][o]=d>=0?u.get(d):0}for(l=0,o=0;o<e.length;o++)l+=e[o].totalCount;for(c=new Array(l),h=0,o=0;g>o;o++)for(n=0;n<e.length;n++)o<m[n].length&&(c[h++]=m[n][o]);for(o=0;p>o;o++)for(n=0;n<e.length;n++)o<v[n].length&&(c[h++]=v[n][o]);return c},QRMode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)e^=QRUtil.G15<<QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G15);return(t<<10|e)^QRUtil.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)e^=QRUtil.G18<<QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return QRUtil.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case QRMaskPattern.PATTERN000:return 0==(e+n)%2;case QRMaskPattern.PATTERN001:return 0==e%2;case QRMaskPattern.PATTERN010:return 0==n%3;case QRMaskPattern.PATTERN011:return 0==(e+n)%3;case QRMaskPattern.PATTERN100:return 0==(Math.floor(e/2)+Math.floor(n/3))%2;case QRMaskPattern.PATTERN101:return 0==e*n%2+e*n%3;case QRMaskPattern.PATTERN110:return 0==(e*n%2+e*n%3)%2;case QRMaskPattern.PATTERN111:return 0==(e*n%3+(e+n)%2)%2;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){var e,n=new QRPolynomial([1],0);for(e=0;t>e;e++)n=n.multiply(new QRPolynomial([1,QRMath.gexp(e)],0));return n},getLengthInBits:function(t,e){if(e>=1&&10>e)switch(t){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){var e,n,r,i,o,a,s,u,d,l=t.getModuleCount(),c=0;for(e=0;l>e;e++)for(n=0;l>n;n++){for(r=0,i=t.isDark(e,n),o=-1;1>=o;o++)if(!(0>e+o||e+o>=l))for(a=-1;1>=a;a++)0>n+a||n+a>=l||(0!=o||0!=a)&&i==t.isDark(e+o,n+a)&&r++;r>5&&(c+=3+r-5)}for(e=0;l-1>e;e++)for(n=0;l-1>n;n++)s=0,t.isDark(e,n)&&s++,t.isDark(e+1,n)&&s++,t.isDark(e,n+1)&&s++,t.isDark(e+1,n+1)&&s++,(0==s||4==s)&&(c+=3);for(e=0;l>e;e++)for(n=0;l-6>n;n++)t.isDark(e,n)&&!t.isDark(e,n+1)&&t.isDark(e,n+2)&&t.isDark(e,n+3)&&t.isDark(e,n+4)&&!t.isDark(e,n+5)&&t.isDark(e,n+6)&&(c+=40);for(n=0;l>n;n++)for(e=0;l-6>e;e++)t.isDark(e,n)&&!t.isDark(e+1,n)&&t.isDark(e+2,n)&&t.isDark(e+3,n)&&t.isDark(e+4,n)&&!t.isDark(e+5,n)&&t.isDark(e+6,n)&&(c+=40);for(u=0,n=0;l>n;n++)for(e=0;l>e;e++)t.isDark(e,n)&&u++;return d=Math.abs(100*u/l/l-50)/5,c+=10*d}},QRMath={glog:function(t){if(1>t)throw new Error("glog("+t+")");return QRMath.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return QRMath.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;8>i;i++)QRMath.EXP_TABLE[i]=1<<i;for(i=8;256>i;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(i=0;255>i;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;QRPolynomial.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){var e,n,r=new Array(this.getLength()+t.getLength()-1);for(e=0;e<this.getLength();e++)for(n=0;n<t.getLength();n++)r[e+n]^=QRMath.gexp(QRMath.glog(this.get(e))+QRMath.glog(t.get(n)));return new QRPolynomial(r,0)},mod:function(t){var e,n,r;if(this.getLength()-t.getLength()<0)return this;for(e=QRMath.glog(this.get(0))-QRMath.glog(t.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(r=0;r<t.getLength();r++)n[r]^=QRMath.gexp(QRMath.glog(t.get(r))+e);return new QRPolynomial(n,0).mod(t)}},QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(t,e){var n,r,i,o,a,s,u,d=QRRSBlock.getRsBlockTable(t,e);if(void 0==d)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(n=d.length/3,r=new Array,i=0;n>i;i++)for(o=d[3*i+0],a=d[3*i+1],s=d[3*i+2],u=0;o>u;u++)r.push(new QRRSBlock(a,s));return r},QRRSBlock.getRsBlockTable=function(t,e){switch(e){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+2];
case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+3];default:return void 0}},QRBitBuffer.prototype={get:function(t){var e=Math.floor(t/8);return 1==(1&this.buffer[e]>>>7-t%8)},put:function(t,e){for(var n=0;e>n;n++)this.putBit(1==(1&t>>>e-n-1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},QR8bitByte.prototype={getLength:function(){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},QRCode.prototype={addData:function(t){var e=new QR8bitByte(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;40>t;t++){for(var e=QRRSBlock.getRSBlocks(t,this.errorCorrectLevel),n=new QRBitBuffer,r=0,i=0;i<e.length;i++)r+=e[i].dataCount;for(var i=0;i<this.dataList.length;i++){var o=this.dataList[i];n.put(o.mode,4),n.put(o.getLength(),QRUtil.getLengthInBits(o.mode,t)),o.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var n=-1;7>=n;n++)if(!(-1>=t+n||this.moduleCount<=t+n))for(var r=-1;7>=r;r++)-1>=e+r||this.moduleCount<=e+r||(this.modules[t+n][e+r]=n>=0&&6>=n&&(0==r||6==r)||r>=0&&6>=r&&(0==n||6==n)||n>=2&&4>=n&&r>=2&&4>=r?!0:!1)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;8>n;n++){this.makeImpl(!0,n);var r=QRUtil.getLostPoint(this);(0==n||t>r)&&(t=r,e=n)}return e},createMovieClip:function(t,e,n){var r=t.createEmptyMovieClip(e,n),i=1;this.make();for(var o=0;o<this.modules.length;o++)for(var a=o*i,s=0;s<this.modules[o].length;s++){var u=s*i,d=this.modules[o][s];d&&(r.beginFill(0,100),r.moveTo(u,a),r.lineTo(u+i,a),r.lineTo(u+i,a+i),r.lineTo(u,a+i),r.endFill())}return r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=QRUtil.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],i=t[n];if(null==this.modules[r][i])for(var o=-2;2>=o;o++)for(var a=-2;2>=a;a++)this.modules[r+o][i+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a?!0:!1}},setupTypeNumber:function(t){for(var e=QRUtil.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var r=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;18>n;n++){var r=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=QRUtil.getBCHTypeInfo(n),i=0;15>i;i++){var o=!t&&1==(r>>i&1);6>i?this.modules[i][8]=o:8>i?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;15>i;i++){var o=!t&&1==(r>>i&1);8>i?this.modules[8][this.moduleCount-i-1]=o:9>i?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,r=this.moduleCount-1,i=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;2>s;s++)if(null==this.modules[r][a-s]){var u=!1;o<t.length&&(u=1==(t[o]>>>i&1));var d=QRUtil.getMask(e,r,a-s);d&&(u=!u),this.modules[r][a-s]=u,i--,-1==i&&(o++,i=7)}if(r+=n,0>r||this.moduleCount<=r){r-=n,n=-n;break}}}},QRCode.PAD0=236,QRCode.PAD1=17,QRCode.createData=function(t,e,n){for(var r=QRRSBlock.getRSBlocks(t,e),i=new QRBitBuffer,o=0;o<n.length;o++){var a=n[o];i.put(a.mode,4),i.put(a.getLength(),QRUtil.getLengthInBits(a.mode,t)),a.write(i)}for(var s=0,o=0;o<r.length;o++)s+=r[o].dataCount;if(i.getLengthInBits()>8*s)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*s+")");for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*s)&&(i.put(QRCode.PAD0,8),!(i.getLengthInBits()>=8*s));)i.put(QRCode.PAD1,8);return QRCode.createBytes(i,r)},QRCode.createBytes=function(t,e){for(var n=0,r=0,i=0,o=new Array(e.length),a=new Array(e.length),s=0;s<e.length;s++){var u=e[s].dataCount,d=e[s].totalCount-u;r=Math.max(r,u),i=Math.max(i,d),o[s]=new Array(u);for(var l=0;l<o[s].length;l++)o[s][l]=255&t.buffer[l+n];n+=u;var c=QRUtil.getErrorCorrectPolynomial(d),h=new QRPolynomial(o[s],c.getLength()-1),f=h.mod(c);a[s]=new Array(c.getLength()-1);for(var l=0;l<a[s].length;l++){var g=l+f.getLength()-a[s].length;a[s][l]=g>=0?f.get(g):0}}for(var p=0,l=0;l<e.length;l++)p+=e[l].totalCount;for(var m=new Array(p),v=0,l=0;r>l;l++)for(var s=0;s<e.length;s++)l<o[s].length&&(m[v++]=o[s][l]);for(var l=0;i>l;l++)for(var s=0;s<e.length;s++)l<a[s].length&&(m[v++]=a[s][l]);return m};for(var QRMode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)e^=QRUtil.G15<<QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G15);return(t<<10|e)^QRUtil.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)e^=QRUtil.G18<<QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return QRUtil.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case QRMaskPattern.PATTERN000:return(e+n)%2==0;case QRMaskPattern.PATTERN001:return e%2==0;case QRMaskPattern.PATTERN010:return n%3==0;case QRMaskPattern.PATTERN011:return(e+n)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case QRMaskPattern.PATTERN101:return e*n%2+e*n%3==0;case QRMaskPattern.PATTERN110:return(e*n%2+e*n%3)%2==0;case QRMaskPattern.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new QRPolynomial([1],0),n=0;t>n;n++)e=e.multiply(new QRPolynomial([1,QRMath.gexp(n)],0));return e},getLengthInBits:function(t,e){if(e>=1&&10>e)switch(t){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;e>r;r++)for(var i=0;e>i;i++){for(var o=0,a=t.isDark(r,i),s=-1;1>=s;s++)if(!(0>r+s||r+s>=e))for(var u=-1;1>=u;u++)0>i+u||i+u>=e||(0!=s||0!=u)&&a==t.isDark(r+s,i+u)&&o++;o>5&&(n+=3+o-5)}for(var r=0;e-1>r;r++)for(var i=0;e-1>i;i++){var d=0;t.isDark(r,i)&&d++,t.isDark(r+1,i)&&d++,t.isDark(r,i+1)&&d++,t.isDark(r+1,i+1)&&d++,(0==d||4==d)&&(n+=3)}for(var r=0;e>r;r++)for(var i=0;e-6>i;i++)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(var i=0;e>i;i++)for(var r=0;e-6>r;r++)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);for(var l=0,i=0;e>i;i++)for(var r=0;e>r;r++)t.isDark(r,i)&&l++;var c=Math.abs(100*l/e/e-50)/5;return n+=10*c}},QRMath={glog:function(t){if(1>t)throw new Error("glog("+t+")");return QRMath.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return QRMath.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;8>i;i++)QRMath.EXP_TABLE[i]=1<<i;for(var i=8;256>i;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(var i=0;255>i;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;QRPolynomial.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<t.getLength();r++)e[n+r]^=QRMath.gexp(QRMath.glog(this.get(n))+QRMath.glog(t.get(r)));return new QRPolynomial(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=QRMath.glog(this.get(0))-QRMath.glog(t.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<t.getLength();r++)n[r]^=QRMath.gexp(QRMath.glog(t.get(r))+e);return new QRPolynomial(n,0).mod(t)}},QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(t,e){var n=QRRSBlock.getRsBlockTable(t,e);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,i=new Array,o=0;r>o;o++)for(var a=n[3*o+0],s=n[3*o+1],u=n[3*o+2],d=0;a>d;d++)i.push(new QRRSBlock(s,u));return i},QRRSBlock.getRsBlockTable=function(t,e){switch(e){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+3];default:return void 0}},QRBitBuffer.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;e>n;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},F.module("superlanding:article/usrMenu",function(t,e){function n(){r("usrname","user_menu","usrname","left",1),r("user_menu","user_menu","usrname","left",1)}function r(t,e,n,r){var o=$("#"+t),a=$("#"+n),u=$("#"+e);o.bind("mouseenter",function(){s=!0,u.show();var t="left"==r?a.position().left+(a.width()-u.width())/2:$(document.body).width()-u[0].offsetWidth/2-a.offset().left-a.width()/2;u.css({left:t}),i()}).bind("mouseleave",function(){s=!1,setTimeout(function(){s||u.hide()},200)})}function i(){$(".s-feedback").off("click").on("click",function(){window.bds&&window.bds.qa&&window.bds.qa.ShortCut?a():o($.url.escapeSSL("http://f3.baidu.com/feedback/js/feedback/feedback0.0.2-nj.js")+"?t="+ +new Date,"s_feedback_script",function(){a()})})}function o(t,e,n){var r=document.createElement("script");e&&(r.id=e),r.type="text/javascript",r.src=t,document.body.appendChild(r),r.onload=r.onreadystatechange=function(){/undefined|loaded|complete/.test(this.readyState)&&(n&&n(),r.onload=r.onreadystatechange=null)}}function a(){if(bds&&bds.qa&&bds.qa.ShortCut&&bds.qa.ShortCut.initRightBar){var t={product_id:1};bds.qa.ShortCut.initRightBar(t)}}var s=!1;e.init=n}),F.module("superlanding:article/topBtm",function(t,e){function n(){$(document).on("scroll",r(i,200,500))}function r(t,e,n){var r,i=new Date;return function(){var o=this,a=arguments,s=new Date;clearTimeout(r),s-i>=n?(t.apply(o,a),i=s):r=setTimeout(t,e)}}function i(){$(".back-to-top").css($(document).scrollTop()>0?{visibility:"visible"}:{visibility:"hidden"}),$(".back-to-top").on("click",function(t){$(document).scrollTop(0),t.stopPropagation()}).on("mouseenter mouseleave",function(t){"mouseenter"===t.type?$(this).addClass("icon-over"):"mouseleave"===t.type&&$(this).removeClass("icon-over"),t.stopPropagation()})}e.init=n}),F.module("superlanding:article/log",function(t,e){function n(){r(),a(),o(),$(document).on("scroll",i(a,200,500))}function r(){u=window.Thunder.create({baseParams:{ct:2,logFrom:"recdetail",logid:window.s_session.logid||"0",ssid:window.s_session.ssid||"0",sid:window.s_session.sid||"0",curRid:window.s_session.nid||"0",qid:window.s_session.qid||"0"}})}function i(t,e,n){var r,i=new Date;return function(){var o=this,a=arguments,s=new Date;clearTimeout(r),s-i>=n?(t.apply(o,a),i=s):r=setTimeout(t,e)}}function o(){$(document).on("click","#detail-page [data-clklog]",function(){var t=this,e=$(t).data("clklog"),n=$(t).data("extralog"),r=$.extend({},s(e));r.logExtra=$.stringify(s(n)),u.send(r)})}function a(){for(var t,e=$("#detail-page").find("[data-showlog]"),n=null,r={},i=d||[],o=$(window).height(),a=$(window).width(),l=0;l<e.length;l++){n=e.eq(l),t=n.data("rid");var c=n.data("ratio")?0:.5;if(-1===$.inArray(t,i)){var h=n.offset().top+n.height()*c-$(window).scrollTop()<o?!0:!1,f=n[0].getBoundingClientRect().left<a?!0:!1;if(h&&f&&"none"!==n.css("display")){if(-1===$.inArray(t,i)){i.push(t);var g=s(n.data("showlog")),p=s(n.data("extralog"));r=$.extend(r,g),r.logExtra=$.stringify(p),u.send(r)}d=i}}}}function s(t){for(var e,n=/(.*?):(.*?);/gi,r={};e=n.exec(t);){var i=e[1],o=e[2];o="flow"===i?parseInt(o,10):o,r[i]=o}return r}var u,d;e.init=n}),F.module("superlanding:article/adProfit",function(t,e){function n(){d=new Date,"u2913118"!==c.advertid&&"u2959678"!==c.advertid?i(c):$("#relateAd").hide()}function r(t){if(f)return void(t&&t());var e=document.getElementsByTagName("body")[0],n=document.createElement("script"),r=0,i=function(){r>=1&&(f=!0,t&&t())},o=0;n.onload=function(){r++,i(),o++},n.onerror=function(){$(".banner-ad-show, .relate-ad-show").remove(),o++};var a=new Date;a=""+a.getFullYear()+a.getMonth()+a.getDate()+a.getHours(),n.src="https://cpro.baidustatic.com/cpro/ui/c.js?v="+a,e.appendChild(n)}function i(t){window.globalErrmsg+="adProfit.js:advertInit start; ";var e=document.getElementById(t.container),n=function(){var n="_"+Math.random().toString(36).slice(2);e&&e.setAttribute("id",n);var r={container:n,id:t.advertid,display:"inlay-fix",rpdn:"po.m.baidu.com",ctkey:t.ctk};!function(){(window.slotbydup=window.slotbydup||[]).push(r)}()};r(n,t,e);var i={ct:12,distributeChannel:11,trafficType:2,nid:window.s_session.nid,pvid:window.s_advert.pvid,baiduid:o("BAIDUID"),logid:window.s_advert.logid,dtime:window.s_advert.dtime,contentType:0,grade:window.s_advert.grade,create_time_acc_level:window.s_advert.createTimeAccLevel,uk:window.s_advert.contentAccId,isBjh:window.s_advert.isBjh,contentPlatformId:window.s_advert.contentPlatformId,contentAccType:window.s_advert.contentAccType,osid:0};if(h){h.commissionInit(i);var s={CTK:window.s_advert.ctk,stay_time:0,logtype:1};c.advertid&&(s.tu=c.advertid);var u=h.getPageShowParams(s);h.sendLog(u),a()}}function o(t){var e,n=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(n))?unescape(e[2]):null}function a(){var t=$(".wangmeng-ad").offset().top,e=window.s_advert.ctk_b;$(document).on("scroll",function(){clearTimeout(u),u=setTimeout(function(){s(t,"relate",e)},10)})}function s(t,e,n){var r=$(window).height(),i=$(document).scrollTop();if(r>t-i){var o=new Date;if(!l[e]){var a={CTK:n,stay_time:o-d,logtype:2,position:e};c.advertid&&(a.tu=c.advertid);var s=h.getPageShowParams(a);h.sendLog(s),l[e]=!0}}}var u,d,l={},c={type:"relate",container:"relateAd",ctk:window.s_advert.ctk};if(window.commissions)var h=new commissions;-1===window.s_session.sid.indexOf("22526")&&-1===window.s_session.sid.indexOf("22525")?c.advertid=+window.s_advert.isBjh?"u2913176":"u2959677":-1!==window.s_session.sid.indexOf("22526")?c.advertid=+window.s_advert.isBjh?"u2913118":"u2959678":-1!==window.s_session.sid.indexOf("22525")&&(c.advertid=+window.s_advert.isBjh?"u2959675":"u2959680"),-1!==window.s_session.sid.indexOf("24331")?c.advertid=+window.s_advert.isBjh?"u3058778":"u3057965":-1!==window.s_session.sid.indexOf("24330")&&(c.advertid=+window.s_advert.isBjh?"u3058776":"u3057975");var f=(window.Thunder.create({baseParams:{ct:2,logFrom:"recdetail",ssid:window.s_session.ssid||""}}),!1);e.advertInit=i,e.init=n}),F.module("superlanding:article/video",function(t,e){function n(){i(),s()}function r(t){if(!t){var t=c.event;t.cancelBubble=!0}t.stopPropagation&&t.stopPropagation()}function i(){d={ct:2,logFrom:"recdetail",logInfo:"main_video",logid:c.s_session.logid||"0",ssid:c.s_session.ssid||"0",sid:c.s_session.sid||"0",qid:c.s_session.qid||"0"},u=c.Thunder.create({baseParams:d})}function o(t){return t.hasClass("video-open")?(t.siblings("video").attr("controls"),t.attr("controls",""),t.removeClass("video-open").addClass("video-process"),t[0].pause(),!0):!1}function a(t){$(".video-player").each(function(e,n){t&&l&&l[e]===t||o($(n))})}function s(){var t=this;l=$(".video-container").map(function(t,e){return $(e).data("rid")}),$(".article-content").on("click",".video-player, .video-icon",function(e){e&&e.preventDefault?e.preventDefault():c.event.returnValue=!1;var n={};$(this).siblings("video").attr("controls"),$(this).attr("controls","");var i=$(this).parents(".video-container").data("rid"),s={vid:i,state:"starton",rid:c.s_session.nid};r(e),u.send($.extend({tid:"951",cst:2,logExtra:JSON.stringify(s)},d));var l=function(t){F.call("superlanding:article/music","pauseAllAudio"),a(i),$(t.target).hasClass("video-open")||$(t.target).removeClass("video-process").addClass("video-open"),r(t),6===n.type?(s.state="playon",n.type=1):4===n.type&&(s.state="replay",n.type=2),u.send($.extend({tid:"953",cst:2,logExtra:JSON.stringify(s)},d))},h=function(e){$(e.target).hasClass("video-open")&&$(e.target).removeClass("video-open").addClass("video-process"),r(e),t.$playingVideo[0].currentTime<t.$playingVideo[0].duration-1&&(n.type=3,s.state="pause",u.send($.extend({tid:"952",cst:2,logExtra:JSON.stringify(s)},d))),n.type=6},f=function(e){$(e.target).hasClass("video-open")&&$(e.target).removeClass("video-open").addClass("video-process"),r(e),n.type=4,s.state="playend",s.duration=t.$playingVideo[0].duration,u.send($.extend({tid:"954",cst:2,logExtra:JSON.stringify(s)},d))},g=$(this).siblings("video").length?$(this).siblings("video"):$(this);t.$playingVideo=g,o(g)||(F.call("superlanding:article/music","pauseAllAudio"),a(i),t.$playingVideo[0].play(),g.addClass("video-open")),t.$playingVideo.on("play",l),t.$playingVideo.on("pause",h),t.$playingVideo.on("ended",f)})}var u,d,l,c=window;e.init=n,e.pauseAllVideo=a}),F.module("superlanding:article/music",function(t,e){function n(){c=h.Thunder.create({baseParams:{ct:2,logFrom:"recdetail",logid:h.s_session.logid||"0",ssid:h.s_session.ssid||"0",sid:h.s_session.sid||"0",qid:h.s_session.qid||"0"}}),v=i(),l(),r()}function r(){var t=function(t,e){c.send({tid:R[t].show.tid,cst:1,logInfo:R[t].show.logInfo,logExtra:JSON.stringify(e.map(function(t){return{rid:h.s_session.nid,songid:t.songid,file_duration:t.duration+""}}))})};if(v.length){var e=[],n=[];v.forEach(function(t){"music"===t.type?n.push(t):e.push(t)}),n.length&&t("music",n),e.length&&t("mthaudio",e)}}function i(){for(var t=[],e=0;e<g.length;e++)t.push({type:$(g[e]).attr("data-type"),index:$(g[e]).attr("data-index"),songid:$(g[e]).attr("data-songid"),src:$(g[e]).attr("data-file-link"),duration:$(g[e]).attr("data-duration")||"",currentTime:0});return t}function o(t){if(!t){var t=h.event;t.cancelBubble=!0}t.stopPropagation&&t.stopPropagation()}function a(t,e,n){v[t][e]=n}function s(t,e,n){var r=p.attr("data-play-index")||null,i=v[e],o=i.src;o&&(r!==e&&(r&&a(r,"currentTime",p[0].currentTime),p[0].src=o,p.attr("data-play-index",e),$(m).attr("src",o)),u(),1===t?(F.call("superlanding:article/video","pauseAllVideo"),d(e),n.removeClass("pause").addClass("play"),p[0].currentTime=i.currentTime,p[0].play()):(n.removeClass("play").addClass("pause"),p[0].pause(),a(e,"currentTime",p[0].currentTime)))}function u(){g.removeClass("play").addClass("pause")}function d(t){g.each(function(e,n){t!==e&&$(n).hasClass("play")&&s(0,e,$(n))})}function l(){p.on("canplay",function(){var t=$(this).attr("data-play-index")||null;if(t){a(t,"duration",this.duration);var e=v[t],n=R[e.type].play;c.send({tid:n.tid,cst:2,logInfo:n.logInfo,logExtra:JSON.stringify({rid:h.s_session.nid,songid:e.songid,file_duration:e.duration+""})})}}).on("pause",function(){var t=p.attr("data-play-index")||null,e=v[t],n=R[e.type].pause;c.send({tid:n.tid,cst:2,logInfo:n.logInfo,logExtra:JSON.stringify({rid:h.s_session.nid,songid:e.songid,file_duration:e.duration+""})})}).on("ended",function(){var t=p.attr("data-play-index")||null;p[0].pause(),u(),t&&a(t,"currentTime",0)}),f.delegate(".music-container .audio-play-btn","click",function(t){var e=$(this).closest(".music-container"),n=e.attr("data-index"),r=v[n];"music"!==r.type||r.src?e.hasClass("play")?s(0,n,e):s(1,n,e):$.ajax({url:"https://mbd.baidu.com/newspage/api/getmusiclink",type:"GET",dataType:"jsonp",jsonp:"cb",data:{songid:r.songid},success:function(t){0===t.errno&&(a(n,"src",t.data.file_link),u(),e.removeClass("pause").addClass("play"),s(1,n,e))},error:function(){}}),o(t)})}var c,h=window,f=$(".article-content"),g=$(".music-container"),p=$("#musicAudio"),m=$("#musicAudio source"),v=[],R={music:{show:{tid:"1285",logInfo:"main_audio_show"},play:{tid:"1288",logInfo:"main_audio_played"},pause:{tid:"1289",logInfo:"main_audio_pause"}},mthaudio:{show:{tid:"2118",logInfo:"main_real_audio_show"},play:{tid:"2119",logInfo:"main_real_audio_play"},pause:{tid:"2120",logInfo:"main_real_audio_pause"}}};e.init=n,e.pauseAllAudio=d}),F.module("superlanding:article/richText",function(t,e){function n(){o=a.Thunder.create({baseParams:{ct:2,logFrom:"recdetail",logid:a.s_session.logid||"0",ssid:a.s_session.ssid||"0",sid:a.s_session.sid||"0",qid:a.s_session.qid||"0"}}),r(),i()}function r(){var t=s.find(".searchWord");if(t.length){var e=[];t.each(function(){e.push($(this).text())}),o.send({tid:"10218",cst:1,logInfo:"content_search_word",logExtra:JSON.stringify([{keyword:e.join(",")}])})}}function i(){s.delegate("p","click",function(t){t&&t.preventDefault();var e=t.target;e.className.indexOf("searchWord")>-1&&o.send({tid:"10219",cst:2,logInfo:"content_search_word",logExtra:JSON.stringify({keyword:e.innerText})},function(){location.href=e.getAttribute("data-bjh-src")})})}var o,a=window,s=$(".article-content");e.init=n}),F.module("superlanding:article/qrcode",function(t,e){function n(){r()}function r(){i.qrcode({render:"canvas",width:200,height:200,text:i.data("url"),src:i.data("logo")})}var i=$("#j_qrcode-landingpage");e.init=n});