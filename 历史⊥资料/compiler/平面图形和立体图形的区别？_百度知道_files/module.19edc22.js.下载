;/*!question-new:widget/js/card/card.js*/
define("question-new:widget/js/card/card",function(s,a,i){function e(s){var a,i=s.user,e=s.imId,n=s.userName,t=s.uid,r=s.passPhoto,d=i.iconType,o=i.sex,c=i.gradeIndex,p=(i.gradeIndex,i.carefield),u=i.isFromTeam,b=i.teamName,v=i.teamId,g=(i.authTitle,i.isUserAdmin),f=(i.userAdminLevel,i.userAdminTitle),h=i.userAdminType,w=i.isFamous,k=i.isMaster,y=i.goodRate||0,x=i.grAnswerNum||0;a=s.encodeUid?"/usercenter?uid="+s.encodeUid:"http://www.baidu.com/p/"+n+"?from=zhidao";var T="";"2258746575"==t&&(T='log="bbzdFlag:2258746575,bbzdPos:answername"',a="http://baobao.baidu.com/",n="宝宝知道");var I='<div class="card-shadow line"><div class="user-card" id="user-card-'+e+'"><div class="line"><div class="grid avatar-79 avatar-radius mr-10"><a class="avatar-normal-a" alog-alias="qb-card-avatar" href="'+a+'" '+T+' target="_blank">';return I+="2258746575"==t?'<img class="avatar-normal-img" src="https://gss0.bdstatic.com/70cFsjip0QIZ8tyhnq/img/iknow/baobaozhidao-icon.jpg" /></a></div>':1==r?'<img class="avatar-normal-img" src="http://himg.bdimg.com/sys/portrait/item/'+e+'.jpg" /></a></div>':'<img class="avatar-normal-img" src="http://img.iknow.bdimg.com/avatar/100/r'+d+"s"+o+"g"+c+'.gif" /></a></div>',I+='<div class="grid message-link-wp" style="float:left;width:79px;text-align:center;"><a class="message-link" target="_blank" href="/ichat/chatlist?concats='+n+'">私信TA</a></div>',I+='<div class="grid ml-10 user-card-right"><p class="card-name mb-5"><a href="'+a+'" class="user-name f-yahei v-middle" alog-alias="qb-card-uname" target="_blank" '+T+">"+n+'</a><a class="ml-5 i-gradeIndex iknow-qb_grade_icons i-gradeIndex-'+c+'" href="http://www.baidu.com/search/zhidao_help.html#如何选择头衔" alog-alias="qb-card-grade" target="_blank"></a>',"1"==w&&(I+='<a class="i-famous ml-5" title="知道名人" href="http://www.baidu.com/search/zhidao/userelite.html" alog-action="qb-card-icon" target="_blank"></a>'),"1"==k&&(I+='<a class="i-master ml-5" title="知道达人" href="http://www.baidu.com/search/zhidao/userelite.html" alog-action="qb-card-icon" target="_blank"></a>'),"1"==g&&(I+='<a href="http://zhidao.baidu.com/user/admin" alog-action="qb-card-icon" target="_blank" class="card-uadmin-icon i-uadmin-'+h+' ml-5" title="'+f+'"></a>'),I+='<p class="mt-5 mb-5 cnl"><span class="f-info">采纳率：</span><span>'+y+'%</span><span class="ml-20 f-info">采纳数：</span><span>'+x+"</span></p>","1704499689"==t||"2258746575"==t||(I+='<p class="mt-5 mb-5 cnl" style="word-break: break-all"><span class="f-info">擅长：</span>',p&&p.length?l.forEach(p,function(s){I+='<a class="mr-10" href="/browse/'+s.cid+'" target="_blank" alog-alias="qb-card-area">'+s.cname+"</a>"}):I+="<span>暂未定制</span>",I+="</p>",u&&b&&(I+='<p class="mt-5 mb-5 cnl"><span class="f-info">参与团队&nbsp;：</span><a class="card-team-name" href="/uteam/view?fr=qb&teamId='+v+'" target="_blank" alog-alias="qb-card-isteam">'+b+"</a></p>"),I+='<p class="mt-5 mb-5 cnl"><a alog-alias="qb-ask-user" class="fixed-ask fixed-ask-normal" username="'+n+'">求助知友</a></p></div></div>'),"1704499689"==t?I+='<div style="border-top: 1px solid #e8ecee;padding-top: 5px;margin-top: 8px;">Du知道君是知道站内的人工智能，会根据知道用户的观点和内容总结出特定问题的答案，为知道用户提供更好的问答体验。</div>':"2258746575"==t&&(I+='<div style="border-top: 1px solid #e8ecee;padding-top: 5px;margin-top: 8px;">中国最专业的母婴知识社区。面向备孕、孕期、0-6岁父母，与三甲医院联手提供定制化及可视化服务。</div>'),I=m.autoTrans(I,1)}function n(){l(".user-card").delegate(".fixed-ask","click",function(a){a.preventDefault();var i=this;s.async(["common:widget/js/logic/iask/iask"],function(s){s(l(i).attr("username"))})})}function t(s){var a=s.userName,i=s.user,e=s.imId,n=i.mavinName,t=(i.mavinUname,i.mavinAnswerNum),r=i.mavinTitle,d=i.mavinAvatar,o=i.mavinIsBusiness,c=i.businessId,p=i.mavinAnswerViewNum,u=i.mavinAdoptNum,b=i.mavinFields&&i.mavinFields.join("、"),v=i.mavinDesc,g="",f="",h=l.string.getByteLength,w=l.string.subByte;n&&(g=h(n)>12?w(n,10)+"..":n),r&&(f=h(r)>10?w(r,8)+"..":r);var k=i.mavinMajor,y=i.mavinHelpNum,x=i.mavinPraise,T=i.mavinLevelDesc,I="i-mavin-big-trade";"1"===k&&(I="i-mavin-big-prof");var N="",_='<span class="'+I+'" title="'+T+'"></span>',q="",j=['<div class="mavin-answers-detail line">','<div class="item grid"><p>累计回答</p><p class="number ff-yahei">'+t+"</p></div>",o&&1===o?'<div class="item help-num grid"><p>累计采纳</p><p class="number ff-yahei">'+u+"</p></div>":'<div class="item help-num grid"><p>帮助的人</p><p class="number ff-yahei">'+y+"</p></div>",o&&1===o?'<div class="item grid"><p>回答浏览</p><p class="number ff-yahei">'+p+"</p></div>":'<div class="item grid"><p>收到的赞</p><p class="number ff-yahei">'+x+"</p></div>","</div>"].join(""),C="",U=['<div class="card-shadow line">','<div class="user-card mavin-card" id="user-card-'+e+'">','<div class="line mb-20">','<div class="grid avatar-79 '+q+' mr-10">','<a class="avatar-mavin-a" href="',i.mavinIsNew&&"1"===i.mavinIsNew?"/hangjia/profile/":"",i.mavinIsNew&&"1"!==i.mavinIsNew?"/mavin/view/":"",o&&1===o?"/business/profile?id="+c+'"':a+'?ie=utf-8"',' target="_blank">','<img class="avatar-mavin-img" src="'+d+'" />',"</a>","</div>",'<i class="mavin-icon '+N+'"></i>','<div class="grid f-aid ml-10 pl-10">','<p class="card-name">','<a href="',i.mavinIsNew&&"1"===i.mavinIsNew?"/hangjia/profile/":"",i.mavinIsNew&&"1"!==i.mavinIsNew?"/mavin/view/":"",o&&1===o?"/business/profile?id="+c+'"':a,'?ie=utf-8" class="f-black f-14 mr-10 ff-yahei" target="_blank" title="'+n+'">'+g+"</a>",o&&1===o?"":_,"</p>",b.length>0?b+'类行家<span class="f-pipe">|</span>'+r:"认证机构","</p>",o&&1===o?'<a class="mt-5 btn-22-green fixed-ask fixed-ask-mavin ff-yahei" href="/new?fix='+encodeURIComponent(a)+"&id="+c+"&targetEncodeUid="+i.encodeUid+'" username="'+a+'">向TA咨询</a>':'<a class="mt-5 btn-22-green fixed-ask fixed-ask-mavin ff-yahei" username="'+a+'">向TA咨询</a>',"</div>",o&&1===o?'<div class="partner">知道合伙人</div>':"","</div>",'<div class="card-info ',C,' ">',j,'<p><span class="f-aid">'+v+"</span></p>","</div>","</div>","</div>"].join("");return U=m.autoTrans(U,1)}function r(s){var a=(s.userName,s.imId,s.user),i=a&&a.business&&a.business.businessId,e=(a&&a.business&&a.business.cid,a&&a.business&&a.business.imgUrl),n=a&&a.business&&a.business.intro,t=(a&&a.business&&a.business.main,a&&a.business&&a.business.name),r=(a&&a.business&&a.business.siteUrl,a&&a.business&&a.business.slogan),d=(a&&a.business&&a.business.uid,a&&a.business&&a.business.uname,a&&a.business&&a.business.insType),o=t&&t.length<13?t:t.slice(0,12)+"...",c="/new?fix="+encodeURIComponent(t)+"&id="+i+"&targetEncodeUid="+a.business.encodeUid,l=['<div class="card-shadow line">','<div class="grid business-content-top clearfix">','<p class="avatar-70-border grid mr-15">','<a rel="nofollow" href="/business/profile?id='+i+'" target="_blank">','<img src="'+e+'"">',"</a>","</p>",'<div class="b-mid-wrap grid">','<p><a class="ff-yahei mr-10" href="/business/profile?id='+i+'" target="_blank">'+o+'</a><i class="iknow-qb_grade_icons ',2===d?"i-government-avatar-new":"i-company-avatar",'" title="'+t+'"></i></p>','<p class="mt-5 f-12">'+r+"</p>",'<p class="mt-5"><a class="btn-green-s b-chat-btn disabled f-14" href="'+c+'" target="_blank" data-businessid="'+i+'">向TA提问</a></p>',"</div>","</div>",'<div class="grid business-content-bottom">','<a href="/business/profile?id='+i+'" target="_blank">'+n+"</a>","</div>","</div>"].join("");return l=m.autoTrans(l,1)}function d(s){var a=s.user,i=a.siteLogo,e=(a.siteSlogan,a.app),n=a.siteUrl,t=a.companyIntro,r=l.string.getByteLength,d=l.string.subByte,o=280;t=r(t)>o?d(t,o-2)+"...":t;var c=['<div class="card-shadow opendev-shadow line">','<div class="user-card opendev-card">','<div class="">','<div class="top line">','<div class="grid avatar-70-border mr-10">','<a class="avatar-opendev-a opendev-log-a" href="',n,'" target="_blank">',"<span>",'<img class="avatar-opendev-img" src="',i,'" />',"</span>","</a>","</div>",'<div class="card-name-box grid f-aid">','<p class="card-name">','<a href="',n,'" class="f-black f-14 mr-10 ff-yahei opendev-log-a" target="_blank">',e,"</a>","</p>",'<p class="mt-10">','<a class="view-site grid btn-32-green opendev-log-a" target="_blank" href="',n,'">浏览官网</a>',"</p>","</div>","</div>",'<div class="card-info">','<p><span class="f-aid">',t,"</span></p>","</div>","</div>","</div>"].join("");return c=m.autoTrans(c,1)}function o(s){var a=s.user,i=(a.isUserAdmin,a.userAdminLevel,a.userAdminTitle),e=a.userAdminType,n="i-uadmin-big-"+e,t="转移标签",r="惊喜生日礼品、专属秒杀兑换、丰富月度奖励",d="right-box";"2"===e?t="转移标签、推荐回答":"3"===e?t="转移标签、推荐/加密回答、分拣问题":"4"===e&&(t="转移标签、推荐/加密回答等诸多权限",r="惊喜生日礼品、专属秒杀兑换、给力季度奖励");var o=['<div class="card-shadow line f-yahei">','<div class="user-card uadmin-icon-card line">','<div class="grid"><div class="',n,'"></div></div>','<div class="grid ',d,'">','<p class="title">',i,"</p>",'<div class="info">',"<p><span>权限：</span>",t,"<p><span>福利：</span>",r,"</p>","</div>","</div>","</div>","</div>"].join("");return o=m.autoTrans(o,1)}function c(s){var a=(s.userName,s.imId,s.user),i=a&&a.business&&a.business.businessId,e=(a&&a.business&&a.business.cid,a&&a.business&&a.business.imgUrl),n=a&&a.business&&a.business.intro,t=(a&&a.business&&a.business.main,a&&a.business&&a.business.name),r=(a&&a.business&&a.business.siteUrl,a&&a.business&&a.business.slogan),d=(a&&a.business&&a.business.uid,a&&a.business&&a.business.uname,a&&a.business&&a.business.type),o=t&&t.length<14?t:t.slice(0,12)+"...",c=r?r.length<15?r:r.slice(0,14)+"...":r,l=n&&n.length<61?n:n.slice(0,60)+"...",p="";r||(p="sloganEmpty");var u="i-business-normal";"2"===d&&(u="i-business-special");var b="/new?fix="+encodeURIComponent(t)+"&id="+i+"&targetEncodeUid="+a.encodeUid,v=['<div class="business-content-top line">','<p class="avatar-69 grid mr-10">','<a href="/business/profile?id='+i+'" target="_blank">','<img src="'+e+'"">',"</a>",'<i class="',u,'" title="'+t+'"></i>',"</p>",'<div class="info grid ',p,'">','<p><a href="/business/profile?id='+i+'" target="_blank">'+o+'</a><i class="i-business" title="百度知道机构行家"></i></p>','<p class="slogan">'+c+"</p>",'<p><a class="btn-green-xxs bb-chat-btn disabled" href="'+b+'" target="_blank" data-businessid="'+i+'">向TA提问</a></p>',"</div>","</div>",'<div class="grid business-content-bottom">','<a href="/business/profile?id='+i+'" target="_blank">'+l+"</a>","</div>"].join("");return v=m.autoTrans(v,1)}var l=s("common:widget/js/util/tangram/tangram"),p=s("common:widget/js/ui/tip/tip"),u=s("common:widget/js/util/log/log"),m=(s("common:widget/js/util/event/event"),s("common:widget/js/util/https/https"));i.exports=function(s){var a=this,i=l(s.target),m=0==i.parents(".wgt-ask").length?i.parents(".wgt-replyer-best").prev(".wgt-ask"):i.parents(".wgt-ask"),b=0==i.parents(".answer").length?i.parents(".wgt-replyer-best").prev(".answer"):i.parents(".answer"),v={},g={};if(m.length)v=F.context("page");else if(b.length){var f=b.prop("id").split("-")[1];v=F.context("answers")[f]}if("pushMavin"==s.type){var h=i.data("uid");v=F.context("pushMavin")[h]}if("pushBusiness"==s.type&&(g=F.context("pushBusiness")[0]),"business"!=s.type&&"qbusiness"!=s.type&&!v.userName)return!1;var w={my:"left top+10",at:"left bottom"};"qbusiness"===s.type&&(w.my="left-40 top",w.at="left bottom+17");var k={tooltipClass:"ik-tip-card",direction:"top",position:w,width:"qbusiness"===s.type?275:"pushBusiness"===s.type?345:335,radius:!1,autoDispose:!1,target:i.eq(0)};switch("2258746575"==v.uid&&u.send({bbzdFlag:"2258746575",bbzdPos:"answername",bbzdFlagShow:!0}),s.type){case"business":k.content=r(v),k.tooltipClass+=" ik-tip-business-open",k.open=function(){this.getTipContainer().css({width:k.width+"px"}),l.ajax({url:"/business/submit/onbusinessbrowse",type:"POST",dataType:"json",data:{businessId:v.user.business.businessId,page:"3",token:F.context("businessToken"),qid:F.context("page").qid}}).done(function(){}).fail(function(){})};break;case"mavin":v.user.mavinIsNew&&u.addKey({mavinIsNew:1,mavinFields:(v.user.mavinFields||[]).join(",")}),k.tooltipClass+=" ik-tip-card-mavin",k.content=t(v),k.open=function(){n(v),this.getTipContainer().css({width:k.width+"px"})};break;case"pushMavin":v.user.mavinIsNew,k.tooltipClass+=" ik-tip-card-mavin",k.content=t(v),k.open=function(){n(v),this.getTipContainer().css({width:k.width+"px"})};break;case"pushBusiness":k.tooltipClass+=" ik-tip-card-business",k.content=t(g),k.open=function(){this.getTipContainer().css({width:k.width+"px"})};break;case"normal":k.content=e(v),k.open=function(){l(".user-card .card-uadmin-icon").on("click",function(){u.send({page:"question",area:"card-uadmin-icon",action:"click"})}),n(v),this.getTipContainer().css({width:k.width+"px"})};break;case"opendev":k.content=d(v),k.tooltipClass+=" ik-tip-card-opendev",k.open=function(){l(".opendev-card .opendev-log-a").on("click",function(){u.send({page:"question",area:"opendev-a",action:"click",srcName:v.user.srcName})}),this.getTipContainer().css({width:k.width+"px"})};break;case"uadminIcon":k.content=o(v),k.tooltipClass+=" ik-tip-card-uadmin",k.open=function(){this.getTipContainer.css({width:k.width+"px"})};break;case"qbusiness":k.content=c(v),k.tooltipClass+=" ik-tip-quality-business",k.open=function(){this.getTipContainer().css({width:k.width+"px"}),l.ajax({url:"/business/submit/onbusinessbrowse",type:"POST",dataType:"json",data:{businessId:v.user.business.businessId,page:"3",token:F.context("businessToken")}}).done(function(){}).fail(function(){})}}var y=timerHide=0,x=50;"qbusiness"===s.type&&(x=200),i.mouseenter(function(){l('div[role="tooltip"]').hide(),clearTimeout(timerHide),a.tip||(a.tip=new p(k),a.tip.getTipContainer().mouseenter(function(){clearTimeout(timerHide),y=setTimeout(function(){a.tip.show()},x)}).mouseleave(function(){clearTimeout(y),timerHide=setTimeout(function(){a.tip.hide()},x)})),y=setTimeout(function(){a.tip.show(),"opendev"===s.type&&u.send({page:"question",area:"opendev-card-open",action:"pv",srcName:v.user.srcName})},x)}).mouseleave(function(){clearTimeout(y),a.tip&&"show"==a.tip.getStatus()&&(timerHide=setTimeout(function(){a.tip.hide()},x))})}});
;/*!question-new:widget/js/comment/util.es.js*/
define("question-new:widget/js/comment/util.es",function(e,a,i){"use strict";function c(e,a,i){return a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}var t=e("common:widget/js/util/tangram/tangram"),l=e("common:widget/js/logic/authcode/authcode"),o=e("common:widget/js/ui/dialog/dialog"),n="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I2ZmZjt9Cjwvc3R5bGU+Cjx0aXRsZT5TaGFwZSBDb3B5IDIxPC90aXRsZT4KPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNy4xLDE1LjVMMTAuNyw5bDYuNS02LjVjMC40LTAuNSwwLjQtMS4yLDAtMS42Yy0wLjQtMC40LTEuMi0wLjUtMS43LDBMOSw3LjNMMi41LDAuOGMtMC41LTAuNS0xLjItMC41LTEuNywwCglDMC42LDEuMSwwLjUsMS40LDAuNSwxLjdzMC4xLDAuNiwwLjMsMC44TDcuMyw5bC02LjUsNi41Yy0wLjQsMC41LTAuNCwxLjIsMCwxLjZjMC40LDAuNCwxLjIsMC41LDEuNywwTDksMTAuN2w2LjUsNi41CgljMC4yLDAuMiwwLjUsMC40LDAuOCwwLjRjMC4xLDAsMC4yLDAsMC4zLDBjMC40LTAuMSwwLjctMC40LDAuOC0wLjhDMTcuNiwxNi4yLDE3LjQsMTUuOCwxNy4xLDE1LjV6Ii8+Cjwvc3ZnPgo=",s={showVcode:function(e,a){var i='<div class="vcode-container"></div><div class="vcode-submit">确定</div>';e.vcodeDialog=new o({title:"验证码",content:i,width:240,height:231,className:"wgt-vcode-dialog",open:function(){e.authcode=e.authcode||new l(c({container:t(this).find(".vcode-container"),from:"new_comment",className:"mt-5"},"from","chat")),t(this).find(".vcode-submit").on("click",function(){e.submit(a)})},close:function(){e.authcode&&(e.authcode.dispose(),e.authcode=null)}})},showAppealDialog:function(e){var a=this,i=1===e,c="<div class='appeal-title'>"+(i?"账号异常提示":"请等待申诉结果")+"</div>\n                   <div class='appeal-content'>"+(i?"抱歉，您的帐号被判断操作异常，已暂时将其冻结，不能发布内容哦～":"您已提交账号申诉，我们将尽快为您处理，结果请关注系统通知。申诉期间不能发布内容哦～")+"</div>\n                   <div class='appeal-bottom'><div class='appeal-cancel "+(i?"":"appeal-cancel2")+"'>"+(i?"取消":"知道了")+"</div>"+(i?'<a class="appeal-trans" href="https://zhidao.baidu.com/misc/appeal">点此申诉</a>':"")+"</div>";a.appealDig=new o({title:"",content:c,width:400,height:212,className:"wgt-appeal-dialog",open:function(){t('<img class="appeal-close" src=\''+n+"'>").insertBefore(t(".wgt-appeal-dialog .ui-widget-header")),t(".wgt-appeal-dialog").on("click",".appeal-cancel,.appeal-close",function(){a.appealDig.close()})}})},xssReplace:function(e){return e?e.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):void 0}};i.exports=s});
;/*!question-new:widget/js/replycomment/replycomment.js*/
define("question-new:widget/js/replycomment/replycomment",function(e,t,n){function i(e,t,n,i,a,s,l){var m=this;m.qid=n,m.rid=i,m.replyId=a,m.threadId=s,m.parentTarget=e,m.dom=t,m.pageType=l,m.container=m.createElement("div","reply-comment-area"),m.dom.append(m.container);var c=m.dom.find(".reply-comment-area");m.userImage=F.context("user").imId,m.editor=new d({target:c,defaultContent:"输入回复",onsubmit:function(){c.find(".reply-comment-submit").hasClass("reply-comment-submit-disabled")||m.submit(c)},onfocus:function(){o.fire("comment.focus",m),c.find(".mini-editor").css({borderColor:"#9eacb6"}),c.find("textarea").attr("placeholder",""),c.find(".mini-editor").width(490),490!==c.find("textarea").width()&&c.find("textarea").width(440),c.find(".reply-comment-submit").show()},onblur:function(){var e="输入回复";c.find(".mini-editor").css({borderColor:"#c6d1d9"}),c.find("textarea").attr("placeholder",e),0===r.trim(c.find("textarea").val()).length&&(c.find(".mini-editor").width(580),c.find("textarea").width(530),c.find(".reply-comment-submit").hide())},onchange:function(){var e=c.find("textarea"),t=c.find(".textarea-copy");t.text(e.val()),t.height()>e.height()+10&&(e.height()/20<2&&440===e.width()?(e.width(490),t.width(470)):e.height(t.height())),t.height()<e.height()-10&&e.height(t.height()),e.height()/20<2&&490===e.width()&&(t.width(420),t.height()/20<2?e.width(440):t.width(470)),0!=r.trim(c.find("textarea").val()).length?c.find(".reply-comment-submit").removeClass("reply-comment-submit-disabled"):c.find(".reply-comment-submit").addClass("reply-comment-submit-disabled")}}),c.find(".mini-editor-limit").html("<em>0</em>/200").show(),c.append('<div class="textarea-copy"></div>'),c.append(m.createElement("div","reply-comment-action-bar")),m.createElement("div","reply-comment-action grid-r mt-10 mb-10").append(m.createElement("a","reply-comment-submit reply-comment-submit-disabled").prop({href:"#",title:"按 Ctrl+Enter 发布评论"}).html("发表").click(function(e){e.preventDefault(),r(this).hasClass("reply-comment-submit-disabled")||m.submit(c)}).attr({"alog-action":"qb-reply-comment-submit","data-realName":m.realName})).appendTo(c.find(".reply-comment-action-bar")),c.find("textarea").on("input",function(){var e=c.find("textarea"),t=c.find(".textarea-copy");t.text(e.val()),t.height()>e.height()+10&&(e.height()/20<2&&440===e.width()?(e.width(490),t.width(470)):e.height(t.height())),t.height()<e.height()-10&&e.height(t.height()),e.height()/20<2&&490===e.width()&&(t.width(420),t.height()/20<2?e.width(440):t.width(470))})}function a(e,t,n,i){r.ajax({url:"/submit/comment/comment/?encoding=gbk",type:"GET",dataType:"json",data:n,cache:!1,success:function(n){if(0===n.errno){l("评论成功"),e.editor.setContent("").change();var a='<i class="ikonw-qb-new-icon qb-comment-icon"></i>',o=parseInt(e.parentTarget.find("em").text(),10)+1;e.parentTarget.html(a+"评论(<em>"+o+"</em>)"),n.data.content=c.xssReplace(n.data.content);var d={};d.reply_list=[],d.is_mycomment=1,d.reply_list.push(n.data),d.reply_list[0].imId=e.userImage,d.type="insert",d.rid=e.rid,i&&e.editor.setContent("").change(),"normal"===e.pageType?(e.dom.parents(".comment-entry").css({"border-top":"1px solid #e8ecee"}),e.dom.parents(".comment-entry").find(".comment-item").after(s(p,d))):i?e.dom.parents(".reply-comment-item-container").prepend(s(p,d)):e.dom.parents(".wgt-reply-comment-all").find(".reply-comment-item-container").prepend(s(p,d)),r(".reply-comment-area").hide(),e.authcode&&(e.authcode.dispose(),e.authcode=null,e.vcodeDialog.close()),m.send({type:2014,action:"reply-success",page:"question"})}else 200009===n.errno?c.showVcode(e,t):200010===n.errno?(e.authcode.error(),e.authcode.change()):200015===n.errno?c.showAppealDialog(1):200016===n.errno?c.showAppealDialog(2):l("出错了，请等会再试吧！")}})}var r=e("common:widget/js/util/tangram/tangram"),o=e("common:widget/js/util/event/event"),s=e("common:widget/lib/juicer/juicer"),l=e("common:widget/js/ui/pop-tip/pop-tip"),d=e("question-new:widget/mini-editor/mini-editor"),m=e("common:widget/js/util/log/log"),c=e("question-new:widget/js/comment/util.es"),p='<%\n    var anonymousName=\'匿名用户\';\n    var anonymousAvatar = \'https://gss0.bdstatic.com/7051cy89RcgCncy6lo7D0j9wexYrbOWh7c50/yt/bdsp/icon/anonymous.png\';\n%>\n{@each reply_list as reply}\n<div class="reply-comment-item">\n    {@if reply.from_is_answerer && reply.from_is_answerer_anonymous}\n        <a class="f-light" href="javascript:void(0);" target="_blank">\n            <img src="${anonymousAvatar}" class="avatar">\n        </a>\n    {@else}\n        <a class="f-light" href="/usercenter?uid=${reply.from_uid}" target="_blank">\n            <img src="https://gss0.bdstatic.com/7Ls0a8Sm1A5BphGlnYG/sys/portrait/item/${reply.imId}.jpg" class="avatar">\n        </a>\n    {@/if}\n    <div class="comment-con">\n        {@if reply.from_is_answerer && reply.from_is_answerer_anonymous}\n            <a class="f-light" href="javascript:void(0);" target="_blank">\n                <span class="name">${anonymousName}</span>\n            </a>\n        {@else}\n            <a class="f-light" href="/usercenter?uid=${reply.from_uid}" target="_blank">\n                <span class="name">${reply.from_uname}</span>\n            </a>\n        {@/if}\n        {@if reply.from_is_answerer}\n            <span class="answerer">(回答者)</span>\n        {@/if}\n        {@if reply.parent_content}\n            <em>回复</em>\n            {@if reply.to_is_answerer && reply.to_is_answerer_anonymous}\n                <a href="javascript:void(0);" class="toUname" target="_blank">${anonymousName}</a>\n            {@else}\n                <a href="/usercenter?uid=${reply.to_uid}" class="toUname" target="_blank">${reply.to_uname}</a>\n            {@/if}\n            {@if reply.to_is_answerer}\n            <span class="answerer">(回答者)</span>\n            {@/if}\n        {@/if}\n        <span class="time">${reply.str_create_time}</span>\n    </div>\n    <div class="comment-content"> {@if !reply.is_mycomment && (reply.status == 4 || reply.status == 5)}该内容暂不可见～ {@else} ${reply.content} {@/if}</div>\n    <div class="operation-con">\n        {@if !(reply.status == 4 || reply.status == 5)}\n            <span class="evaluate{@if reply.like} evaluated{@/if}" id="evaluate-${reply.reply_id}" data-evaluate="${reply.like_count}" data-threadid="${reply.thread_id}"><i class="ikonw-qb-new-icon icon-evaluate{@if reply.like} icon-evaluated{@/if}"></i><b class="text">赞</b><em class="evaluate-num" data-evaluate="${reply.like_count}">{@if reply.like_count}${reply.like_count}{@/if}</em></span>\n            {@if !is_mycomment && !reply.is_mycomment && !isLockedComment}\n                <span class="reply-comment" data-threadid="${reply.thread_id}" data-replycommentid="${reply.reply_id}"><i class="ikonw-qb-new-icon icon-reply"></i><b class="text">回复</b></span>\n            {@/if}\n        {@/if}\n        {@if is_mycomment || reply.is_mycomment || isAdmin}\n        <span class="delete" data-threadid="${reply.thread_id}" data-replyid="${reply.reply_id}"><i class="ikonw-qb-new-icon icon-delete"></i><b class="text">删除</b></span>\n        {@/if}\n        <span class="accusation" data-threadid="${reply.thread_id}" data-replyid="${reply.reply_id}" data-rid="${rid}"><i class="ikonw-qb-new-icon icon-accusation"></i><b class="text">举报</b></span>\n    </div>\n</div>\n{@/each}\n{@if type != \'insert\'}\n<div class="loading-more">正在加载更多回复...</div>\n{@/if}';i.prototype=r.extend(i.prototype,{createElement:function(e,t){return r("<"+e+"/>").addClass(t)},submit:function(e){var t=this,n=t.editor.getContent();if(commentLen=t.editor.countByte?r.string(n).getByteLength():n.length,restLen=t.editor.maxLength-commentLen,n==t.editor.defaultContent)return void l('<p class="h-center">您输入的评论内容为空</p>');if(0>restLen)return void l('<p class="h-center">评论不可超过200字</p>');var i={qid:t.qid,rid:t.rid,parent_reply_id:t.replyId,thread_id:t.threadId,content:n,from:"pc"};t.authcode&&t.authcode.submitParam(i),m.send({type:2014,action:"reply-submit",page:"question"}),o.fire("login.check",{isLogin:function(n){1===n.isRealName&&0==r("#passport-accRealName-pop").length?o.fire("login.realName",{onSubmitSuccess:function(){a(t,e,i,!0)}}):1===n.isRealName&&r("#passport-accRealName-pop").length>0?(r("#passport-accRealName-pop").show(),r("body").children("div:first-child").show()):a(t,e,i)},noLogin:function(){r(document).unbind("focusin.dialog"),o.fire("login.log",{onLoginSuccess:function(n){1!==n.isRealName&&a(t,e,i)},module:"comment"})}})}}),n.exports=i});
;/*!question-new:widget/js/replycomment/evaluate.js*/
define("question-new:widget/js/replycomment/evaluate",function(A,t,a){var e=A("common:widget/js/util/tangram/tangram"),i=(A("common:widget/js/ui/base/base"),A("common:widget/js/util/event/event")),r=A("common:widget/js/logic/submit/submit"),o=(A("common:widget/js/logic/login/login"),A("common:widget/js/util/log/log")),u=(A("common:widget/js/logic/mini-editor/mini-editor"),A("common:widget/js/ui/dialog/dialog")),n=A("common:widget/js/util/store/store"),d=(A("common:widget/js/ui/tip/tip"),A("common:widget/js/ui/pop-tip/pop-tip")),c={init:function(A){var t=this;t.target=e(A.target),t.threadId=t.target.data("threadid"),t.replyId=t.target.attr("id").replace(/[^\d]/g,""),t.qid=F.context("page").qid,t.rid=A.rid,t.isLogin=F.context("user").isLogin,t.currentData=[t.qid,t.rid,t.replyId].join("|"),t.gootNumTarget=t.target.find(".evaluate-num"),t.goodNum=t.target.data("evaluate"),t.hasGood=t.target.find(".icon-evaluate").hasClass("icon-evaluated"),t.hasGoodTarget=t.target.find(".wgt-eva-hasgood"),t.type=A.type,t.hasEvaluted()&&t.target.addClass("evaluated"),t.isEvaluated=t.target.hasClass("evaluated")||t.hasEvaluted(),t.gootNumTarget.text(t.goodNum>0?t.goodNum:t.isEvaluated?"1":""),t.isEvaluated&&t.target.find(".icon-evaluate").addClass("icon-evaluated"),"init"!==t.type&&t._bind()},_bind:function(){var A=this,t=A.hasEvaluted(),a={qid:A.qid,reply_id:A.replyId,thread_id:A.threadId,rid:A.rid};A.isEvaluated||t?(a.type=2,i.fire("login.check",{isLogin:function(){A.submit(a)},noLogin:function(){A.addThumb({type:a.type})}})):A.submit(a),o.send({type:2014,action:2===a.type?"evaluate_cancel":"evaluate",page:"question",pos:"comment"})},submit:function(A){var t=this;new r({url:"/submit/comment/thumbcomment",params:A,autoRefresh:!0,beforeJump:function(){t.addThumb({type:A.type})},errorDeal:function(A,t){17021===+t.errno&&u.alert("您变心太快，暂无法给本评论点赞啦")}})},addThumb:function(A){var t=this,a=e.cookie.get("BAIDUID")?e.cookie.get("BAIDUID").split(":")[0]:0,i=t.getEvaluteData();2===A.type?(d("已取消"),t.isEvaluated=!1,t.target.removeClass("evaluated"),t.target.find(".icon-evaluate").removeClass("icon-evaluated"),t.numScroll(t.target,!0),i&&(i=e.array.remove(i.split(","),t.currentData).join(","),n.set("reply_evaluate"+a,i))):(t.isEvaluated=!0,t.target.addClass("evaluated"),t.target.find(".icon-evaluate").addClass("icon-evaluated"),t.numScroll(t.target),i&&(i=e.array.remove(i.split(","),t.currentData).join(",")),i=i?[i,t.currentData].join(","):t.currentData,n.set("reply_evaluate"+a,i))},numScroll:function(A,t){var a=this;A=A.find(".evaluate-num").size()?A.find(".evaluate-num"):A;var i=A.data("evaluate")+(t?-1:1);if(i=i>0?i:0,A.data("evaluate",i),A.html(i||""),t)a.target.find(".icon-evaluate").css({color:"#9EACB6"});else{var r="data:image/gif;base64,R0lGODlhUABQAKIHAE3JcUTHaDvGYVHGdm7VikPOY0rKbf///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTU3MTc3NkY2RUZEMTFFODkwNDJDRTJCRUM0MTYzRkYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTU3MTc3NzA2RUZEMTFFODkwNDJDRTJCRUM0MTYzRkYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFNTcxNzc2RDZFRkQxMUU4OTA0MkNFMkJFQzQxNjNGRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFNTcxNzc2RTZFRkQxMUU4OTA0MkNFMkJFQzQxNjNGRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV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",o=new Image,u=e(o);u.addClass("icon-evaluate-gif"),a.target.append(u),o.src=r,setTimeout(function(){u.remove(),o=null,u=null,a.target.find(".icon-evaluate").addClass("icon-evaluated").css({color:"#4aca6d"})},500)}},getEvaluteData:function(){var A=e.cookie.get("BAIDUID")?e.cookie.get("BAIDUID").split(":")[0]:0;return n.get("reply_evaluate"+A)?n.get("reply_evaluate"+A):!1},hasEvaluted:function(){return this.getEvaluteData()&&e.array(this.getEvaluteData().split(",")).contains(this.currentData)?!0:!1}};a.exports=c});
;/*!question-new:widget/js/replycomment/delete.js*/
define("question-new:widget/js/replycomment/delete",function(e,t,i){var n=e("common:widget/js/util/tangram/tangram"),a=(e("common:widget/js/ui/base/base"),e("common:widget/js/util/event/event"),e("common:widget/js/logic/submit/submit")),o=(e("common:widget/js/logic/login/login"),e("common:widget/js/util/log/log"),e("common:widget/js/logic/mini-editor/mini-editor"),e("common:widget/js/util/store/store"),e("common:widget/js/ui/pop-tip/pop-tip")),r={init:function(e,t){var i=this;i.parentTarget=e.parentTarget,i.target=e.target,i.replyId=e.replyId,i.threadId=e.threadId,i.target.find(".reply-delete-dialog").length>0||(i.tmpl=['<div class="reply-delete-dialog">','<div class="triangle"></div>','<div class="triangle-white"></div>','<div class="dialog-content">确定要删除这条评论吗</div>','<div class="option-con">','<span class="cancel">取消</span>','<span class="submit">确定</span>',"</div></div>"].join(""),i.target.append(i.tmpl),i.target.find(".submit").on("click",function(e){var r=n(this);e.preventDefault(),e.stopPropagation(),new a({url:"/submit/comment/dropcomment",params:{reply_id:i.replyId,thread_id:i.threadId},autoRefresh:!0,beforeJump:function(){o("删除成功");var e=r.parents(r.parents(".reply-comment-item").length>0?".reply-comment-item":".comment-entry");e.hasClass("first")&&e.next().addClass("first");var n=i.parentTarget.find("em").length>0?i.parentTarget.find("em").text():0,a=parseInt(n,10)-1,s='<i class="ikonw-qb-new-icon qb-comment-icon"></i>';i.parentTarget.html(0===a?s+"评论":s+"评论(<em>"+a+"</em>)"),i.target.hasClass("comment-delete")?t&&t():e.remove()}})}),i.target.find(".cancel").on("click",function(e){var t=n(this);e.preventDefault(),e.stopPropagation(),t.parents(".reply-delete-dialog").remove()}))}};i.exports=r});
;/*!question-new:widget/js/comment/comment.js*/
define("question-new:widget/js/comment/comment",function(e,n,t){function a(e,n){var t=n._getElement("body").empty(),a=F.context("answers")[n.replyId];if(!(e.data.total_count>0))return n.target.html(C+"评论"),void n.container.addClass("no-comment");if(n.target.html(C+"评论(<em>"+e.data.total_count+"</em>)"),n.container.removeClass("no-comment"),e.data&&e.data.comment_list.length>0)if(n.curPageData={firstReplyId:parseInt(e.data.comment_list[0].reply_id,10),lastReplyId:parseInt(e.data.comment_list[e.data.comment_list.length-1].reply_id,10),currentPn:n.pn,total:e.data.comment_count},0==n.pn&&(n.firstPageData=c.object.clone(n.curPageData)),c.each(e.data.comment_list,function(i,s){var r,o,l,m,d=c("<div/>").addClass("comment-entry f-12"),u=c.string(s.content).decodeHTML().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;"),y=!!a.user&&!!a.user.openSiteId&&a.user.openSiteId==s.reserved3;s.from_is_answerer&&s.from_is_answerer_anonymous?(o="匿名用户",l=j,r="javascript:;",m="no-username"):s.from_uname.indexOf("#")>1?(o="热心网友",r="javascript:;",m="no-username",l="https://gss0.bdstatic.com/7Ls0a8Sm1A5BphGlnYG/sys/portrait/item/"+s.imId+".jpg"):y?(o=c.string(a.user.openSiteName).encodeHTML(),r=a.user.openSiteUrl+o+"</a>",l=w.autoTrans("https://gss0.bdstatic.com/70cFsj3f_gcX8t7mm9GUKT-xh_/avatar/100/r6s2g1.gif")):(r="/usercenter?uid="+s.from_uid,l="https://gss0.bdstatic.com/7Ls0a8Sm1A5BphGlnYG/sys/portrait/item/"+s.imId+".jpg",o=s.from_uname);var h=F.context("user").internalAdmin,g=h&&h.bitAuth||{};if(g.comment_delete){var _=c('<div class="comment-admin grid-r"/>').prependTo(d);g.user_band&&c('<a href="#" class="mr-5"/>').html("封禁用户").click(function(e){e.preventDefault(),window.open("/misc/usermanager?un="+c.url.escapeSymbol(s.user_name)+"&ie=gbk")}).prependTo(_)}var v={userLink:r,avatar:l,showUserName:o,date:s.str_create_time,content:u,fromUid:s.from_uid,rid:n.replyId,replyId:s.reply_id,threadId:s.thread_id,status:s.status,like:s.like||"",toUid:s.to_uid,toUname:s.to_uname,myComment:s.is_mycomment,evaluateNum:s.like_count,replyList:s.reply_list,replyCount:s.reply_count,fromIsAnswerer:s.from_is_answerer,toIsAnswerer:s.to_is_answerer,fromIsAnonymous:s.from_is_answerer_anonymous,toIsAnonymous:s.to_is_answerer_anonymous,isAdmin:!!g.comment_delete,isLockedComment:n.isLockedComment};d.html(p(k,v)),t.append(d),0==i&&d.addClass("first"),i==e.data.comment_list.length-1&&d.addClass("last"),c.each(d.find(".evaluate"),function(e,t){f.init({target:c(t),rid:n.replyId,type:"init"})})}),e.data.comment_count>n.rn){var s=c("<p/>").addClass("comment-pager pager h-center pt-5 pb-15").attr("id",n.guid+"page");s.appendTo(t),i(n)}else c(".comment-body .comment-entry.last").css("padding-bottom","30px")}function i(e){function n(n,t,i){var s='<a href="#"/>';c(s).html(n).addClass(i).click(function(n){n.preventDefault(),e.getPageData(t)}).appendTo(a)}function t(t){(2===t||3===t)&&(n("",o-l,"pager-pre"),n(1,0,"pager-item"),a.append('<span class="pager-dot">...</span>'));for(var i=u;f>i;i++)i==d-1?c('<b class="pager-now" />').addClass("mr-5").html(i+1).appendTo(a):n(i+1,i*l,"pager-item");(1===t||2===t||3===t)&&(3!==t&&(a.append('<span class="pager-dot">...</span>'),n(p,(p-1)*l,"pager-item")),d!=p&&n("",o+l,"pager-next")),0!==t&&(a.append(['<span class="pager-total">共'+p+"页，跳至</span>",'<input class="pager-jump" type="text" maxlength="4"/>','<button class="pager-jump-confirm">确定</button>'].join("")),e.jumpInput=a.find(".pager-jump"),a.find(".pager-jump-confirm").click(function(){var n=/^\d+$/,t=e.jumpInput.val(),a=Number(t);n.test(t)&&parseInt(t)===a&&a>=1&&p>=a&&e.getPageData((a-1)*l)}))}var a=e._getElement("page").empty(),i=4,s=4,r=5,o=e.pn,l=e.rn,m=e.curPageData.total;if(l>=m)return"";var d=Math.floor(o/l)+1,p=Math.ceil(m/l),u=0,f=p;return p>r?d+s>p?(u=p-s,f=p,t(3)):i>=d?(u=0,f=i,t(1)):(u=d-2,f=d+1,t(2)):t(0),a}function s(e,n,t,a){t.loading=!0,t.$container.find(".loading-more").remove(),c.ajax({url:"/api/comment",type:"GET",dataType:"json",data:n,cache:!1,success:function(i){return t.loading=!1,0===i.errno&&i.data&&i.data.reply_list.length>0?(n.pn+=i.data.rn,i.data.isAdmin=a,i.data.rid=t.replyId,i.data.isLockedComment=t.isLockedComment,e.find(".reply-comment-item-container").append(p(I,i.data)),void 0):(t.error=!0,void e.find(".loading-more").text("没有更多了"))}})}function r(e){setTimeout(function(){e.trigger("checkEva").isEvaluated||(e.evaTarget.find(".eva_tooltip").show(),_.send({type:"show",action:"eva_tooltip",area:e.logKey}))},500)}function o(e,n,t,a){c.ajax({url:"/submit/comment/comment/?encoding=gbk",type:"GET",dataType:"json",data:n,cache:!1,success:function(n){if(0===n.errno){v("评论成功"),r(e),e.editor.setContent("").change();var i=e.target.find("em").length>0?e.target.find("em").text():0,s=parseInt(i,10)+1;if(e.target.html("评论(<em>"+s+"</em>)"),e.container.removeClass("no-comment"),n.data.from_is_answerer&&n.data.from_is_answerer_anonymous)var o=j,l="javascript:;",m="匿名用户";var d={userLink:l||"/usercenter?uid="+n.data.from_uid,fromUid:n.data.from_uid,avatar:o||"https://gss0.bdstatic.com/7Ls0a8Sm1A5BphGlnYG/sys/portrait/item/"+n.data.from_uid+".jpg",showUserName:m||n.data.from_uname,date:n.data.str_create_time,content:b.xssReplace(n.data.content),toUid:n.data.to_uid,replyId:n.data.reply_id,status:n.data.status,threadId:n.data.thread_id,fromIsAnswerer:n.data.from_is_answerer,toIsAnswerer:n.data.to_is_answerer,fromIsAnonymous:n.data.from_is_answerer_anonymous,toIsAnonymous:n.data.to_is_answerer_anonymous,myComment:1,rid:e.replyId},u=c("<div/>").addClass("comment-entry f-12");a&&u.css({"border-top":"1px solid #e8ecee","border-bottom":"none"}),u.html(p(k,d)),t.next().prepend(u),e.authcode&&(e.authcode.dispose(),e.authcode=null,e.vcodeDialog.close()),_.send({type:2014,action:"comment-success",area:e.logKey})}else 200009===n.errno?e.authcode||b.showVcode(e,t):200010===n.errno?(e.authcode.error(),e.authcode.change()):200015===n.errno?b.showAppealDialog(1):200016===n.errno?b.showAppealDialog(2):h.alert(10015===n.errno?"审核中，请稍等":"出错了，请等会再试吧！")}})}function l(e,n,t,a){var i=F.context("user").internalAdmin,r=i&&i.bitAuth||{},i=!!r.comment_delete;n.isAdmin=i,n.rid=t.rid,n.isLockedComment=a.isLockedComment;var o=new h({title:"全部回复",content:p(x,n),width:740,height:598,autoDispose:!0,draggable:!1,className:"wgt-reply-comment-all-dialog",open:function(){a.$this=c(this),t.pn=a.replyAllPn+a.replyAllRn,a.loading=!1,a.error=!1,a.$view=a.$this.find(".wgt-reply-comment-all"),a.$container=a.$view.find(".reply-comment-item-container"),c("body").css({overflow:"hidden"}),c.each(a.$this.find(".evaluate"),function(e,n){f.init({target:c(n),rid:a.replyId,type:"init"})}),a.$this.on("click",".reply-comment",function(){var e=F.context("answers")[a.replyId].qid,n=a.replyId,t=c(this).data("replycommentid"),i=c(this).data("threadid"),s=c(this).parent(),r="dialog";c(".reply-comment-area").hide(),c(this).parent().find(".reply-comment-area").length>0?c(this).parent().find(".reply-comment-area").show():d.fire("login.check",{isLogin:function(o){1===o.isRealName&&0==c("#passport-accRealName-pop").length?d.fire("login.realName",{onSubmitSuccess:function(){new u(a.target,s,e,n,t,i,r)}}):1===o.isRealName&&c("#passport-accRealName-pop").length>0?(c("#passport-accRealName-pop").show(),c("body").children("div:first-child").show()):new u(a.target,s,e,n,t,i,r)},noLogin:function(){c(document).unbind("focusin.dialog"),d.fire("login.log")}})}).on("click",".delete",function(){var e=c(this).data("replyid"),n=c(this).data("threadid");y.init({parentTarget:a.target,target:c(this),replyId:e,threadId:n},function(){o.close()})}).on("click",".evaluate",function(){f.init({target:c(this),rid:a.replyId,type:"commit"})}).on("click",".reply-dialog-close-btn",function(){o.close()}).on("click",".accusation",function(e){var n=c(this).parents(".reply-comment-item").find(".comment-con .f-light").attr("href");N(e,c.url.getQueryValue(n,"uid"))}).on("mouseenter",".comment-item, .reply-comment-item",function(e){q(e)}).on("mouseleave",".comment-item, .reply-comment-item",function(e){A(e)}),a.$this.find(".wgt-reply-comment-all").scroll(function(){a.loading||a.error||a.$view.scrollTop()+a.$view.height()+70>=a.$container.height()&&s(a.$this,t,a,i)})},close:function(){c("body").css({overflow:"initial"})}})}var c=e("common:widget/js/util/tangram/tangram"),m=e("common:widget/js/ui/base/base"),d=e("common:widget/js/util/event/event"),p=e("common:widget/lib/juicer/juicer"),u=e("question-new:widget/js/replycomment/replycomment"),f=e("question-new:widget/js/replycomment/evaluate"),y=e("question-new:widget/js/replycomment/delete"),h=e("common:widget/js/ui/dialog/dialog"),g=e("question-new:widget/mini-editor/mini-editor"),_=e("common:widget/js/util/log/log"),v=e("common:widget/js/ui/pop-tip/pop-tip"),w=e("common:widget/js/util/https/https"),b=e("question-new:widget/js/comment/util.es"),$=e("question-new:widget/js/comment-accusation/index.es"),k='<%\n    var anonymousName=\'匿名用户\';\n    var anonymousAvatar = \'https://gss0.bdstatic.com/7051cy89RcgCncy6lo7D0j9wexYrbOWh7c50/yt/bdsp/icon/anonymous.png\';\n%>\n<div class="comment-item">\n    <div class="details f-aid">\n        <a class="f-light comment-entry-userface" href="${userLink}" target="_blank">\n            <img src="${avatar}" class="avatar">\n        </a>\n        <a class="f-light comment-entry-username" href="${userLink}" target="_blank">\n            ${showUserName}\n        </a>\n        {@if fromIsAnswerer}\n            <span class="answerer">(回答者)</span>\n        {@/if}\n        <span class="comment-entry-time">${date}</span>\n    </div>\n    <div class="comment-content">\n        {@if !myComment && (status == 4 || status == 5)}该内容暂不可见～{@else} ${content} {@/if} {@if !toIsAnswerer}<a href="${userLink}" target="_blank" style="color: #4E9AE7;">@${toUname}</a>{@/if}\n    </div>\n    <div class="operation-con">\n        {@if !(status == 4 || status == 5)}\n            <span class="evaluate{@if like} evaluated{@/if} evaluate-${replyId}" id="evaluate-${replyId}" data-evaluate="${evaluateNum}" data-threadid="${threadId}"><i class="ikonw-qb-new-icon icon-evaluate{@if like} icon-evaluated{@/if}"></i><b class="text">赞</b><em class="evaluate-num" data-evaluate="${evaluateNum}">{@if evaluateNum}${evaluateNum}{@/if}</em></span>\n            {@if !myComment && !isLockedComment}\n                <span class="reply-comment" data-threadid="${threadId}" data-replycommentid="${replyId}"><i class="ikonw-qb-new-icon icon-reply"></i><b class="text">回复</b></span>\n            {@/if}\n        {@/if}\n        {@if myComment || isAdmin}\n        <span class="delete" data-threadid="${threadId}" data-replyid="${replyId}"><i class="ikonw-qb-new-icon icon-delete"></i><b class="text">删除</b></span>\n        {@/if}\n        <span class="accusation" data-threadid="${threadId}" data-replyid="${replyId}" data-rid="${rid}"><i class="ikonw-qb-new-icon icon-accusation"></i><b class="text">举报</b></span>\n    </div>\n</div>\n{@each replyList as reply}\n<div class="reply-comment-item">\n    <a class="f-light" href="{@if reply.from_is_answerer && reply.from_is_answerer_anonymous}javascript:void(0);{@else}/usercenter?uid=${reply.from_uid}{@/if}" target="_blank">\n        <img \n            src="{@if reply.from_is_answerer && reply.from_is_answerer_anonymous}${anonymousAvatar}{@else}https://gss0.bdstatic.com/7Ls0a8Sm1A5BphGlnYG/sys/portrait/item/${reply.imId}.jpg{@/if}"\n            class="avatar"\n        >\n    </a>\n    <div class="comment-con">\n        <a class="f-light" href="{@if reply.from_is_answerer && reply.from_is_answerer_anonymous}javascript:void(0);{@else}/usercenter?uid=${reply.from_uid}{@/if}" target="_blank">\n            {@if reply.from_is_answerer && reply.from_is_answerer_anonymous}<span class="name">${anonymousName}</span>{@else}<span class="name">${reply.from_uname}</span>{@/if}\n        </a>{@if reply.from_is_answerer}<span class="answerer">(回答者)</span>\n        {@/if}{@if replyId != reply.parent_reply_id}<em>回复</em><span class="name"><a href="{@if reply.to_is_answerer && reply.to_is_answerer_anonymous}javascript:void(0);{@else}/usercenter?uid=${reply.to_uid}{@/if}" target="_blank" class="toUname">{@if reply.to_is_answerer && reply.to_is_answerer_anonymous}${anonymousName}{@else}${reply.to_uname}{@/if}</a>{@if reply.to_is_answerer}<span class="answerer">(回答者)</span>\n        {@/if}{@/if}</span>\n        <span class="time">${reply.str_create_time}</span>\n    </div>\n    <div class="comment-content">{@if !reply.is_mycomment && (reply.status == 4 || reply.status == 5)}该内容暂不可见～{@else} ${reply.content} {@/if}</div>\n    <div class="operation-con">\n        {@if !(reply.status == 4 || reply.status == 5)}\n            <span class="evaluate{@if reply.like} evaluated{@/if}" id="evaluate-${reply.reply_id}" data-evaluate="${reply.like_count}" data-threadid="${reply.thread_id}"><i class="ikonw-qb-new-icon icon-evaluate{@if reply.like} icon-evaluated{@/if}"></i><b class="text">赞</b><em class="evaluate-num" data-evaluate="${reply.like_count}">{@if reply.like_count}${reply.like_count}{@/if}</em></span>\n            {@if !reply.is_mycomment && !isLockedComment}\n                <span class="reply-comment" data-threadid="${reply.thread_id}" data-replycommentid="${reply.reply_id}"><i class="ikonw-qb-new-icon icon-reply"></i><b class="text">回复</b></span>\n            {@/if}\n        {@/if}\n        {@if reply.is_mycomment || isAdmin}\n        <span class="delete" data-threadid="${reply.thread_id}" data-replyid="${reply.reply_id}"><i class="ikonw-qb-new-icon icon-delete"></i><b class="text">删除</b></span>\n        {@/if}\n        <span class="accusation" data-threadid="${reply.thread_id}" data-replyid="${reply.reply_id}" data-rid="${rid}"><i class="ikonw-qb-new-icon icon-accusation"></i><b class="text">举报</b></span>\n    </div>\n</div>\n{@/each}\n{@if replyCount > 2}\n    <div class="reply-comment-all" data-threadid="${threadId}" data-replyid="${replyId}">查看全部${replyCount}条回复 ></div>\n{@/if}\n',I='<%\n    var anonymousName=\'匿名用户\';\n    var anonymousAvatar = \'https://gss0.bdstatic.com/7051cy89RcgCncy6lo7D0j9wexYrbOWh7c50/yt/bdsp/icon/anonymous.png\';\n%>\n{@each reply_list as reply}\n<div class="reply-comment-item">\n    {@if reply.from_is_answerer && reply.from_is_answerer_anonymous}\n        <a class="f-light" href="javascript:void(0);" target="_blank">\n            <img src="${anonymousAvatar}" class="avatar">\n        </a>\n    {@else}\n        <a class="f-light" href="/usercenter?uid=${reply.from_uid}" target="_blank">\n            <img src="https://gss0.bdstatic.com/7Ls0a8Sm1A5BphGlnYG/sys/portrait/item/${reply.imId}.jpg" class="avatar">\n        </a>\n    {@/if}\n    <div class="comment-con">\n        {@if reply.from_is_answerer && reply.from_is_answerer_anonymous}\n            <a class="f-light" href="javascript:void(0);" target="_blank">\n                <span class="name">${anonymousName}</span>\n            </a>\n        {@else}\n            <a class="f-light" href="/usercenter?uid=${reply.from_uid}" target="_blank">\n                <span class="name">${reply.from_uname}</span>\n            </a>\n        {@/if}\n        {@if reply.from_is_answerer}\n            <span class="answerer">(回答者)</span>\n        {@/if}\n        {@if reply.parent_content}\n            <em>回复</em>\n            {@if reply.to_is_answerer && reply.to_is_answerer_anonymous}\n                <a href="javascript:void(0);" class="toUname" target="_blank">${anonymousName}</a>\n            {@else}\n                <a href="/usercenter?uid=${reply.to_uid}" class="toUname" target="_blank">${reply.to_uname}</a>\n            {@/if}\n            {@if reply.to_is_answerer}\n            <span class="answerer">(回答者)</span>\n            {@/if}\n        {@/if}\n        <span class="time">${reply.str_create_time}</span>\n    </div>\n    <div class="comment-content"> {@if !reply.is_mycomment && (reply.status == 4 || reply.status == 5)}该内容暂不可见～ {@else} ${reply.content} {@/if}</div>\n    <div class="operation-con">\n        {@if !(reply.status == 4 || reply.status == 5)}\n            <span class="evaluate{@if reply.like} evaluated{@/if}" id="evaluate-${reply.reply_id}" data-evaluate="${reply.like_count}" data-threadid="${reply.thread_id}"><i class="ikonw-qb-new-icon icon-evaluate{@if reply.like} icon-evaluated{@/if}"></i><b class="text">赞</b><em class="evaluate-num" data-evaluate="${reply.like_count}">{@if reply.like_count}${reply.like_count}{@/if}</em></span>\n            {@if !is_mycomment && !reply.is_mycomment && !isLockedComment}\n                <span class="reply-comment" data-threadid="${reply.thread_id}" data-replycommentid="${reply.reply_id}"><i class="ikonw-qb-new-icon icon-reply"></i><b class="text">回复</b></span>\n            {@/if}\n        {@/if}\n        {@if is_mycomment || reply.is_mycomment || isAdmin}\n        <span class="delete" data-threadid="${reply.thread_id}" data-replyid="${reply.reply_id}"><i class="ikonw-qb-new-icon icon-delete"></i><b class="text">删除</b></span>\n        {@/if}\n        <span class="accusation" data-threadid="${reply.thread_id}" data-replyid="${reply.reply_id}" data-rid="${rid}"><i class="ikonw-qb-new-icon icon-accusation"></i><b class="text">举报</b></span>\n    </div>\n</div>\n{@/each}\n{@if type != \'insert\'}\n<div class="loading-more">正在加载更多回复...</div>\n{@/if}',x='<%\n    var anonymousName=\'匿名用户\';\n    var anonymousAvatar = \'https://gss0.bdstatic.com/7051cy89RcgCncy6lo7D0j9wexYrbOWh7c50/yt/bdsp/icon/anonymous.png\';\n%>\n<div class="wgt-reply-comment-all">\n    <div class="reply-dialog-close-btn iknow-qb_replyer_icons i-ask-close"></div>\n    <div class="comment-item">\n        {@if comment_info.from_is_answerer && comment_info.from_is_answerer_anonymous}\n            <a class="f-light" href="javascript:void(0);" target="_blank">\n                <img src="${anonymousAvatar}" class="avatar">\n            </a>\n        {@else}\n            <a class="f-light" href="//zhidao.baidu.com/usercenter?uid=${comment_info.from_uid}" target="_blank">\n                <img src="https://gss0.bdstatic.com/7Ls0a8Sm1A5BphGlnYG/sys/portrait/item/${comment_info.imId}.jpg" class="avatar">\n            </a>\n        {@/if}\n        <div class="comment-con">\n             {@if comment_info.from_is_answerer && comment_info.from_is_answerer_anonymous}\n                <a class="f-light" href="javascript:void(0);" target="_blank">\n                    <span class="name">${anonymousName}</span>\n                </a>\n             {@else}\n                <a class="f-light" href="//zhidao.baidu.com/usercenter?uid=${comment_info.from_uid}" target="_blank">\n                    <span class="name">${comment_info.from_uname}</span>\n                </a>\n            {@/if}\n            {@if comment_info.from_is_answerer}\n                <span class="answerer">(回答者)</span>\n            {@/if}\n            <span class="time">${comment_info.str_create_time}</span>\n        </div>\n        <div class="comment-content">{@if !comment_info.is_mycomment && (comment_info.status == 4 || comment_info.status == 5)}该内容暂不可见～{@else} ${comment_info.content} {@/if} {@if !comment_info.to_is_answerer}<a href="${userLink}" style="color: #4E9AE7;">@${comment_info.to_uname}</a>{@/if}</div>\n        <div class="operation-con">\n            {@if !(comment_info.status == 4 || comment_info.status == 5)}\n                <span class="evaluate{@if comment_info.like} evaluated{@/if}" id="evaluate-${comment_info.reply_id}" data-evaluate="${comment_info.like_count}" data-threadid="${comment_info.thread_id}"><i class="ikonw-qb-new-icon icon-evaluate{@if comment_info.like} icon-evaluated{@/if}"></i><b class="text">赞</b><em class="evaluate-num" data-evaluate="${comment_info.like_count}">{@if comment_info.like_count}${comment_info.like_count}{@/if}</em></span>\n                {@if !comment_info.is_mycomment && !isLockedComment}\n                    <span class="reply-comment" data-replycommentid="${comment_info.reply_id}" data-threadid="${comment_info.thread_id}"><i class="ikonw-qb-new-icon icon-reply"></i><b class="text">回复</b></span>\n                {@/if}\n            {@/if}\n            {@if comment_info.is_mycomment || isAdmin}\n            <span class="delete comment-delete" data-threadid="${comment_info.thread_id}" data-replyid="${comment_info.reply_id}"><i class="ikonw-qb-new-icon icon-delete"></i><b class="text">删除</b></span>\n            {@/if}\n            <span class="accusation" data-threadid="${comment_info.thread_id}" data-replyid="${comment_info.reply_id}" data-rid="${rid}"><i class="ikonw-qb-new-icon icon-accusation"></i><b class="text">举报</b></span>\n        </div>\n    </div>\n    <div class="reply-comment-all">\n        <div class="reply-comment-item-container">\n            {@each reply_list as reply}\n            <div class="reply-comment-item">\n                {@if reply.from_is_answerer && reply.from_is_answerer_anonymous}\n                    <a class="f-light" href="javascript:void(0);" target="_blank">\n                        <img src="${anonymousAvatar}" class="avatar">\n                    </a>\n                {@else}\n                    <a class="f-light" href="//zhidao.baidu.com/usercenter?uid=${reply.from_uid}" target="_blank">\n                        <img src="https://gss0.bdstatic.com/7Ls0a8Sm1A5BphGlnYG/sys/portrait/item/${reply.imId}.jpg" class="avatar">\n                    </a>\n                {@/if}\n                <div class="comment-con">\n                    {@if reply.from_is_answerer && reply.from_is_answerer_anonymous}\n                        <a class="f-light" href="javascript:void(0);" target="_blank">\n                            <span class="name">${anonymousName}</span>\n                        </a>\n                    {@else}\n                        <a class="f-light" href="//zhidao.baidu.com/usercenter?uid=${reply.from_uid}" target="_blank">\n                            <span class="name">${reply.from_uname}</span>\n                        </a>\n                    {@/if}\n                    {@if reply.from_is_answerer}\n                        <span class="answerer">(回答者)</span>\n                    {@/if}\n                    <span>\n                    {@if reply.parent_content}\n                        <em>回复</em>\n                        {@if reply.to_is_answerer && reply.to_is_answerer_anonymous}\n                            <a href="javascript:void(0);" class="toUname" target="_blank">${anonymousName}</a>\n                        {@else}\n                            <a href="/usercenter?uid=${reply.to_uid}" class="toUname" target="_blank">${reply.to_uname}</a>\n                        {@/if}\n                        {@if reply.to_is_answerer}\n                            <span class="answerer">(回答者)</span>\n                        {@/if}\n                    {@/if}\n                    </span>\n                    <span class="time">${reply.str_create_time}</span>\n                    </div>\n                <div class="comment-content">{@if !reply.is_mycomment && (reply.status == 4 || reply.status == 5)}该内容暂不可见～{@else} ${reply.content} {@/if}</div>\n                <div class="operation-con">\n                    {@if !(reply.status == 4 || reply.status == 5)}\n                        <span class="evaluate{@if reply.like} evaluated{@/if}" id="evaluate-${reply.reply_id}" data-threadid="${reply.thread_id}" data-evaluate="${reply.like_count}"><i class="ikonw-qb-new-icon icon-evaluate{@if reply.like} icon-evaluated{@/if}"></i><b class="text">赞</b><em class="evaluate-num" data-evaluate="${reply.like_count}">{@if reply.like_count}${reply.like_count}{@/if}</em></span>\n                        {@if !reply.is_mycomment && !isLockedComment}\n                            <span class="reply-comment" data-threadid="${reply.thread_id}" data-replycommentid="${reply.reply_id}"><i class="ikonw-qb-new-icon icon-reply"></i><b class="text">回复</b></span>\n                        {@/if}\n                    {@/if}\n                    {@if reply.is_mycomment || isAdmin}\n                    <span class="delete" data-threadid="${reply.thread_id}" data-replyid="${reply.reply_id}"><i class="ikonw-qb-new-icon icon-delete"></i><b class="text">删除</b></span>\n                    {@/if}\n                    <span class="accusation" data-threadid="${reply.thread_id}" data-replyid="${reply.reply_id}" data-rid="${rid}"><i class="ikonw-qb-new-icon icon-accusation"></i><b class="text">举报</b></span>\n                </div>\n            </div>\n            {@/each}\n            <div class="loading-more">{@if reply_list.length > 5}正在加载更多回复...{@else}没有更多了{@/if}</div>\n        </div>\n    </div>\n</div>',j="https://gss0.bdstatic.com/7051cy89RcgCncy6lo7D0j9wexYrbOWh7c50/yt/bdsp/icon/anonymous.png",C='<i class="ikonw-qb-new-icon qb-comment-icon"></i>',N=function(e,n){_.send({area:"comment-accusation-btn",action:"click"});var t,a=c(e.currentTarget),i=a.data("rid"),s=a.data("replyid"),r=a.data("threadid");c(document).unbind("focusin.dialog"),d.fire("login.check",{isLogin:function(){t||(t=new $({rid:i,replyId:s,threadId:r,uid:n?n:"0"}))},noLogin:function(){d.fire("login.log")}})},q=function(e){var n=c(e.currentTarget),t=n.find(".operation-con");t.size()&&(t.find(".delete").show(),t.find(".accusation").show())},A=function(e){var n=c(e.currentTarget),t=n.find(".operation-con");t.size()&&(t.find(".delete").hide(),t.find(".accusation").hide())},L=m().extend({_getElement:function(e){return c("#"+this.guid+(e||this.name))},getStatus:function(){return"none"==this.container.css("display")?"hide":"show"},getElement:function(e){return this._getElement(e).get(0)},init:function(){function e(e,n,a){return c("<"+e+"/>").attr("id",t.guid+n).addClass(a)}function n(){var n=[];c.browser.ie&&c.browser.ie<9&&n.push('<b class="tl"></b><b class="tr"></b><b class="bl"></b><b class="br"></b>'),t.container=e("div",t.name,"comment-area").hide().append('<div class="comment-area-triangle"></div>').append(n.join("")).append(e("div","inner","comment-area-inner"));var a=t.target.parents(".content");1==a.find(".forward-reply").size()?a.find(".editor").after(t.container):0==a.find(".admin-panel").before(t.container).size()&&a.after(t.container),0==t.dispNum&&t.container.addClass("no-comment");var i=t._getElement("inner");if(!t.isLockedComment){i.append(e("div","comment-wrap","comment-action-wrap"));var s=i.find(".comment-action-wrap");t.editor=new g({target:s,defaultContent:t.dispNum>0?"评论一句，知音难寻～":"发表意见，抢占沙发",onsubmit:function(){s.find(".comment-submit").hasClass("comment-submit-disabled")||t.submit(s)},onfocus:function(){d.fire("comment.focus",t),s.find(".mini-editor").css({borderColor:"#9eacb6"}),s.find("textarea").attr("placeholder",""),s.find(".mini-editor").width(490),490!==s.find("textarea").width()&&s.find("textarea").width(440),s.find(".comment-submit").show()},onblur:function(){var e=t.dispNum>0?"评论一句，知音难寻～":"发表意见，抢占沙发";s.find(".mini-editor").css({borderColor:"#c6d1d9"}),s.find("textarea").attr("placeholder",e),0===c.trim(s.find("textarea").val()).length&&(s.find(".mini-editor").width(580),s.find("textarea").width(530),s.find(".comment-submit").hide())},onchange:function(){var e=s.find("textarea"),n=s.find(".textarea-copy");n.text(e.val()),n.height()>e.height()+10&&(e.height()/20<2&&440===e.width()?(e.width(490),n.width(470)):e.height(n.height())),n.height()<e.height()-10&&e.height(n.height()),e.height()/20<2&&490===e.width()&&(n.width(420),n.height()/20<2?e.width(440):n.width(470)),0!=c.trim(s.find("textarea").val()).length?s.find(".comment-submit").removeClass("comment-submit-disabled"):s.find(".comment-submit").addClass("comment-submit-disabled")}}),s.find(".mini-editor").addClass("focus"),s.find("textarea").on("input",function(){var e=s.find("textarea"),n=s.find(".textarea-copy");n.text(e.val()),n.height()>e.height()+10&&(e.height()/20<2&&440===e.width()?(e.width(490),n.width(470)):e.height(n.height())),n.height()<e.height()-10&&e.height(n.height()),e.height()/20<2&&490===e.width()&&(n.width(420),n.height()/20<2?e.width(440):n.width(470))}),s.find(".mini-editor-limit").html("<em>0</em>/200").show(),s.append('<div class="textarea-copy"></div>');var r=F.context("user").imId,o=parseInt(F.context("answers")[t.replyId].isAnonymous,10)||0;o?(t.userImage=j,s.prepend('<img class="comment-currentUser-image" src="'+t.userImage+'"/>')):r?(t.userImage="https://gss0.bdstatic.com/7Ls0a8Sm1A5BphGlnYG/sys/portrait/item/"+r+".jpg",s.prepend('<img class="comment-currentUser-image" src="'+t.userImage+'"/>')):s.prepend('<span class="comment-currentUser-image-default"></span>'),s.append(e("div","bar","comment-action-bar line")),e("div","action","comment-action grid-r mt-10 mb-10").append(e("a","submit","comment-submit comment-submit-disabled").prop({href:"#",title:"按 Ctrl+Enter 发布评论"}).html("发表").click(function(e){e.preventDefault(),c(this).hasClass("comment-submit-disabled")||t.submit(s)}).attr({"alog-action":"qb-comment-submit","data-realName":t.realName})).appendTo(t._getElement("bar"))}i.append(e("div","body","comment-body line"))}var t=this;t.name="comment-area",t.rn=10,t.pn=0,t.replyAllPn=0,t.replyAllRn=10,t.target=c(c.isString(t.target)?"#"+t.target:t.target),t.replyId=t.target.attr("id").replace(/[^\d]/g,""),t.dispNum=F.context("answers")[t.replyId].hasComment||0,t.realName=F.context("user").isRealName,t.threadId=F.context("answers")[t.replyId].threadId||0,t.isLockedComment=Number(F.context("page").isLockedComment)||0,t.target.click(function(e){t.container||n();var a=t.getStatus();"hide"==a?t.show():t.hide(),c(t.getElement("comment-area")).unbind(),c(t.getElement("comment-area")).on("click",".reply-comment",function(){var e=c(this).parent(),n=F.context("answers")[t.replyId].qid,a=t.replyId,i=c(this).data("replycommentid"),s=c(this).data("threadid"),r="normal";c(".reply-comment-area").hide(),c(this).parent().find(".reply-comment-area").length>0?c(this).parent().find(".reply-comment-area").show():d.fire("login.check",{isLogin:function(o){1===o.isRealName&&0==c("#passport-accRealName-pop").length?d.fire("login.realName",{onSubmitSuccess:function(){new u(t.target,e,n,a,i,s,r)}}):1===o.isRealName&&c("#passport-accRealName-pop").length>0?(c("#passport-accRealName-pop").show(),c("body").children("div:first-child").show()):new u(t.target,e,n,a,i,s,r)},noLogin:function(){c(document).unbind("focusin.dialog"),d.fire("login.log")}})}),c(t.getElement("comment-area")).on("click",".evaluate",function(){f.init({target:c(this),rid:t.replyId,type:"commit"})}),c(t.getElement("comment-area")).on("click",".delete",function(){var e=c(this).data("replyid"),n=c(this).data("threadid");y.init({parentTarget:t.target,target:c(this),replyId:e,threadId:n})}),c(t.getElement("comment-area")).on("click",".operation-con .accusation",function(e){var n=c(this).parents(".comment-entry").find(".comment-entry-username").attr("href");N(e,c.url.getQueryValue(n,"uid"))}),c(t.getElement("comment-area")).on("mouseenter",".comment-item, .reply-comment-item",function(e){q(e)}).on("mouseleave",".comment-item, .reply-comment-item",function(e){A(e)}),c(t.getElement("comment-area")).on("click",".reply-comment-all",function(){var e=c(this),n=e.data("replyid"),a=e.data("threadid"),i={method:"get_new_comment_reply",qid:F.context("answers")[t.replyId].qid,rid:t.replyId,app:"qb",thread_id:a,reply_id:n,pn:t.replyAllPn,rn:t.replyAllRn},s=c.url.jsonToQuery(i);c.get("/api/comment?"+s,function(n){return"20001"===n.errno?void v(n.errmsg):void l(e,n.data,i,t)},"json")}),_.send({type:2014,action:"comment",area:"c_click_"+t.logKey,status:"hide"==a?"show":"hide"}),e.preventDefault()})},show:function(){var e=this;d.fire("replyask.close",e.replyId),d.fire("modifyanswer.close",e.replyId),d.fire("adopt.close",e.replyId),d.on("comment.close",function(n,t){e.replyId==t&&e.hide()}),d.once("dataloaded",function(){e._getElement("loading").hide(),c(e.getElement()).slideDown(300,function(){var n=e.container.css("height","").offset().top,t=e.container.outerHeight(),a=c(window).height();if(c(window).scrollTop()+a-n<t&&window.scroll(0,t+n-a+10),!e.isLockedComment){var i=e.editor.getElement("textarea");i.focus()
}})}),e.curPageData?d.fire("dataloaded"):(e.getElement("loading")||c("<div/>").prop({className:"comment-loading",id:e.guid+"loading"}).html('<img src="'+w.autoTrans("https://gss0.bdstatic.com/70cFsjip0QIZ8tyhnq/img/iknow/ask/loading.gif")+'" width="20" height="20" alt="loading..." />').insertBefore(e.container),e.getPageData())},getPageData:function(e){var n=this;n.pn=e||0;var t=c.url.jsonToQuery({method:"get_new_comment",app:"qb",thread_id:parseInt(n.threadId,10),qid:F.context("answers")[n.replyId].qid,rid:n.replyId,pn:n.pn,rn:n.rn,r:(new Date).getTime()});c.post("/api/comment?"+t,function(e){a(e,n),d.fire("dataloaded"),n.fire("show")},"json")},hide:function(){var e=this;c(e.getElement()).slideUp(300)},submit:function(e){var n=this,t=n.editor.getContent();if(commentLen=n.editor.countByte?c.string(t).getByteLength():t.length,restLen=n.editor.maxLength-commentLen,t==n.editor.defaultContent)return void v('<p class="h-center">您输入的评论内容为空</p>');if(0>restLen)return void v('<p class="h-center">评论不可超过200字</p>');var a={qid:F.context("answers")[n.replyId].qid,rid:n.replyId,content:t,from:"pc"};n.authcode&&n.authcode.submitParam(a),_.send({type:2014,action:"comment-submit",area:n.logKey}),d.fire("login.check",{isLogin:function(t){1===t.isRealName&&0==c("#passport-accRealName-pop").length?d.fire("login.realName",{onSubmitSuccess:function(){o(n,a,e)}}):1===t.isRealName&&c("#passport-accRealName-pop").length>0?(c("#passport-accRealName-pop").show(),c("body").children("div:first-child").show()):o(n,a,e)},noLogin:function(){d.fire("login.log",{onLoginSuccess:function(t){1!==t.isRealName&&o(n,a,e,!0)}})}})}});t.exports=L,t.exports.getCount=function(){function e(){if(location.hash){var e=location.hash.replace(/[^\d]/g,"");-1!=location.search.indexOf("from=comment")&&c("#comment-"+e).click()}}var n=[],t={},a=[];if(c(".comment").each(function(e,i){var s=i.id.replace(/[^\d]/g,""),r=F.context("answers")[s],o=r.threadId;t[o]=parseInt(s,10),1==parseInt(r.hasComment,10)&&(n.push({thread_id:parseInt(o,10),reply_id:0,query_mask:999}),a.push(o))}),n.length){var i=c.url.jsonToQuery({method:"get_new_comment_count",app:"qb",thread_id:a.join(",")});c.get("/api/comment?"+i,function(n){if(n&&n.data)for(var i=0;i<n.data.length;i++){var s=c("#comment-"+t[a[i]]);n.data[i].total_count>0&&s.size()&&s.html(C+"评论(<em>"+n.data[i].total_count+"</em>)")}e()},"json")}}});
;/*!question-new:widget/js/evaluate/evaluate.js*/
define("question-new:widget/js/evaluate/evaluate",function(A,a,t){function i(){var A=o(window).scrollTop(),a=A+o(window).height();!B&&o(".evaluate-good-0").length&&o(".evaluate-good-0").not(".evaluate-disabled").each(function(){var t=o(this),e=t.offset().top;if(!B&&e>A+40&&a-40>e){u();var i=o(this);i.find(".icon-evaluate").css({color:"#FFF"});var n="data:image/gif;base64,R0lGODlhZABkAPf/AEK1YkbAZ0vNcUzMcEfDalXNdUrEakW8ZlrPe0zGbkjBZ0W4ZErKcE7OcEnIa0S+ZkS5Y0S2Y0W8ZEa+ZUfFaka8ZUzMbUrMcEa7ZkS3Y0rGblLNdFDMc0jFbFfNeE7Kb0rKbEa5ZEO2ZEvKbUvKbkrKbkvJbUnKbUrLbUrJbkvJbkrLbkvLbUvLbknLbkrJbUzKbknLbUrJbEvMbkrMbkvLbEnIbEvLb0rIbUjCaUvKbEnKbkvJbEzKb0rIbEzKbUrLbErKb0rHbEnLbEvMbUvMb0vKb0rIa0vMbEjDaUnGa0zLbkrLb0nKbEzMbkbAaUnHbEjEaknIbUnGakzLb0nFa0fAaEnMb0fCaUfBaUvHbE3LcEvIbkrHa0i/aEnCak3Mb0/MckbAaEjEaUjFa0nEaUzLbUzIbke/Z0fBaEnDaUjEaEvHa0jEa0zMb0zJbkrGbUrMbEjCak3KcEvIbUnHakjCa0zJb0/Pb0rMbUjDaknJbEvJb0rGbEnMbkrJb0zJbUjCaEnHa0rIbknEa0nJbUW6ZUzNbkjAaEnEakvIbEvHbUrJa0fCaES7ZUzIbUjGa0fDaUrMb0jBaEa+Zke+Zka8Zka9Z0e+aEjDaEnMbErFaknKb0rHakvIa0nGbEnHbUbCaUjBaUa9ZknFaUrGakjGak3Lb0zKcEvJa0a+Z0nLb0nBaEa8Z0W6ZE3Lbka/Z0rNbkW9aEe/aEfAaUnDaknCaUjFakvGbE3Nbka7ZUvNbkjDa0jFaUzJcE3Kb03LbUrGa0zLcE7NbknNbke8ZkjAaUnAaEe9Z07Obka/aEa/aUbBaEi+aE3JbkrDa0nDaE7LbUrEaUO4Y0vNbUO8ZkrHbkjIbEjJbUi+Z0e/aUXBaVDNbk3MblHQb03Nb07KcErGaUrCaUS5ZkKwX0jFaErFa03Kbk3LckjBakzLcU/QbkzObUa/Zke+Z0e/ZkjGbEjGbUjHbUrNb0KzYUrIb0W/aEa9aF7QfU3Ob0/Ob0/Pbka+aEO4ZErKbQAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTQ1RTM2NkZCOEFFMTFFODk1RTdBQkNCQzg3QjczMzIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTQ1RTM2NzBCOEFFMTFFODk1RTdBQkNCQzg3QjczMzIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFNDVFMzY2REI4QUUxMUU4OTVFN0FCQ0JDODdCNzMzMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFNDVFMzY2RUI4QUUxMUU4OTVFN0FCQ0JDODdCNzMzMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5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",E=new Image;E.src=n;var d=o(E);return d.addClass("icon-evaluate-gif-thumb-before"),i.append(d),void setTimeout(function(){d.remove(),E=null,d=null,i.find(".icon-evaluate").css({color:"#4aca6d"})},3e3)}})}var o=A("common:widget/js/util/tangram/tangram"),n=A("common:widget/js/ui/base/base"),E=A("common:widget/js/util/event/event"),d=A("common:widget/js/logic/submit/submit"),Q=(A("common:widget/js/logic/login/login"),A("common:widget/js/util/log/log")),r=A("common:widget/js/logic/mini-editor/mini-editor"),s=A("common:widget/js/ui/dialog/dialog"),g=A("common:widget/js/util/store/store"),c=A("common:widget/js/ui/tip/tip"),l=A("common:widget/js/ui/pop-tip/pop-tip"),B=!0,C=function(){var A=parseInt(g.get("IKNOW_FIRST_PC_SUPPORT_RECORD"),10);if(!A||isNaN(A))return void(B=!1);var a=new Date(A);return isNaN(a.getTime())?void(B=!1):a.toDateString()===(new Date).toDateString()?void(B=!0):void(B=!1)};C();var u=function(){B=!0,g.set("IKNOW_FIRST_PC_SUPPORT_RECORD",(new Date).getTime())};o(window).on("scroll",function(){i()}),i();var k=function(A){return A>1e5?"10w+":1e5==A?"10w":A>=1e4?Math.floor(A/100)/100+"w":A},m=n().extend({getEvaluteData:function(){var A=o.cookie.get("BAIDUID")?o.cookie.get("BAIDUID").split(":")[0]:0;return g.get("evaluate"+A)?g.get("evaluate"+A):!1},hasEvaluted:function(){var A=this.getEvaluteData();return A?o.array(A.split(",")).contains(this.currentData+"|good")?(this.hasGood=!0,!0):o.array(A.split(",")).contains(this.currentData+"|bad")?(this.hasBad=!0,!0):!1:!1},init:function(A){var a=this;a.target=o(a.target),a.logKey=A.logKey,a.isDisabled=A.evaluateDisable,a.replyId=a.target.attr("id").replace(/[^\d]/g,""),a.qid=F.context("answers")[a.replyId].qid,a.isLogin=F.context("user").isLogin,a.currentData=[a.qid,a.replyId].join("|"),a.goodTarget=a.target.find("#evaluate-"+a.replyId),a.badTarget=a.target.find("#evaluate-bad-"+a.replyId),a.goodNumTarget=a.goodTarget.find(".evaluate-num"),a.badNumTarget=a.badTarget.find(".evaluate-num"),a.goodNum=a.goodTarget.data("evaluate"),a.badNum=a.badTarget.data("evaluate"),a.hasGood=a.goodTarget.find(".icon-evaluate").hasClass("icon-evaluated"),a.hasBad=a.badTarget.find(".icon-evaluate-bad").hasClass("icon-evaluated-bad"),a.hasGoodTarget=a.target.find(".wgt-eva-hasgood"),a.hasBadTarget=a.target.find(".wgt-eva-hasbad"),a.hasEvaluted()&&(a.goodTarget.addClass("evaluated"),a.badTarget.addClass("evaluated")),a.isEvaluated=a.goodTarget.hasClass("evaluated")||a.hasEvaluted(),a.goodNumTarget.text(0!=a.goodNum||a.isDisabled?k(a.goodNum):"抢首赞"),a.badNumTarget.text(""),a.isEvaluated&&(a.hasGood&&a.goodTarget.find(".icon-evaluate").addClass("icon-evaluated"),a.hasBad&&a.badTarget.find(".icon-evaluate-bad").addClass("icon-evaluated-bad")),a._bind()},_bind:function(){var A=this;A.goodTarget.click(function(a){a.preventDefault();var t=A.hasEvaluted(),e={cm:100669,qid:A.qid,aid:A.replyId,type:1};if(A.isEvaluated&&A.hasGood||t&&A.hasGood)e.type=5,E.fire("login.check",{isLogin:function(){A.submit(e)},noLogin:function(){A.addThumb({type:e.type})}});else{if(A.isEvaluated&&A.hasBad||t&&A.hasBad)return void s.alert("您已经踩过啦");if(A.isDisabled)return;A.submit(e)}Q.send({type:2014,action:5===e.type?"evaluate_cancel":"evaluate",page:"question",pos:"good",first:o(this).hasClass("evaluate-32")?1:0,rid:A.replyId,logarea:A.logKey})}),A.on("commentsubmit",function(){s.alert("感谢反馈！",{width:"130px",className:"evaluate-tip-success"}),o(".ui-widget-overlay").hide(),setTimeout(function(){s.close()},1500)}),A.on("tipload",function(){var a=A.tip.getTipContainer(),t=new r({target:a.find(".tip-comment-editor").get(0),maxLength:15,defaultContent:"",width:206});A.editor=t,t.on("focus",function(){a.find(".comment-alert").eq(0).html("").hide()}),t.on("submit",function(){var a=this.getContent();return a==this.defaultContent||""===o.string.trim(a)?void s.alert("您输入的评论内容为空"):void A.submitComment(a)}),a.find(".btn-24-white").click(function(){t.fire("submit")}),A.on("commentsubmit",function(){A.tip.hide()})}),A.badTarget.click(function(a){a.preventDefault();var t={cm:100680,qid:A.qid,aid:A.replyId,type:2},e=A.hasEvaluted();if(A.isEvaluated&&A.hasGood||e&&A.hasGood)return void s.alert("您已经赞过啦");if(A.isEvaluated&&A.hasBad||e&&A.hasBad)t.type=6,E.fire("login.check",{isLogin:function(){A.submit(t)},noLogin:function(){A.addThumb({type:t.type})}});else{if(A.isDisabled)return;A.submit(t)}Q.send({type:2014,action:6===t.type?"evaluate_cancel":"evaluate",page:"question",pos:"bad",first:o(this).hasClass("evaluate-32")?1:0,rid:A.replyId,logarea:A.logKey})})},submit:function(A){var a=this;new d({params:A,autoRefresh:!0,beforeJump:function(){a.addThumb({type:A.type})},errorDeal:function(a,t){17021===+t.errorNo&&s.alert("您变心太快，暂无法给本回答"+(5===A.type||1===A.type?"点赞":"点踩")+"啦")}})},addThumb:function(A){var a=this;if(1===A.type){a.isEvaluated=!0,a.hasGood=!0,a.goodTarget.addClass("evaluated"),a.badTarget.addClass("evaluated"),a.goodTarget.find(".icon-evaluate").addClass("icon-evaluated").css({color:"#fff"}),a.numScroll(a.goodTarget);var t=o.cookie.get("BAIDUID")?o.cookie.get("BAIDUID").split(":")[0]:0,e=a.getEvaluteData();e?(e=o.array.remove(e.split(","),a.currentData+"|good"),e=[e.join(","),a.currentData+"|good"].join(",")):e=a.currentData+"|good",g.set("evaluate"+t,e)}else if(2===A.type){a.isEvaluated=!0,a.hasBad=!0,a.goodTarget.addClass("evaluated"),a.badTarget.addClass("evaluated"),a.badTarget.find(".icon-evaluate-bad").addClass("icon-evaluated-bad"),a.numScroll(a.badTarget);var t=o.cookie.get("BAIDUID")?o.cookie.get("BAIDUID").split(":")[0]:0,e=a.getEvaluteData();e?(e=o.array.remove(e.split(","),a.currentData+"|bad"),e=[e.join(","),a.currentData+"|bad"].join(",")):e=a.currentData+"|bad",g.set("evaluate"+t,e),a.showTip({header:"评价成功",defaultType:"button",tooltipClass:"evaluate-tip-dialog",type:2,tipText:[{text:"反对回答",num:5},{text:"与事实不符",num:6},{text:"答非所问",num:1},{text:"内容陈旧",num:2}]})}else if(5===A.type){l("已取消"),a.isEvaluated=!1,a.hasGood=!1,a.goodTarget.removeClass("evaluated"),a.badTarget.removeClass("evaluated"),a.goodTarget.find(".icon-evaluate").removeClass("icon-evaluated"),a.numScroll(a.goodTarget,!0);var t=o.cookie.get("BAIDUID")?o.cookie.get("BAIDUID").split(":")[0]:0,e=a.getEvaluteData();e&&(e=o.array.remove(e.split(","),a.currentData+"|good").join(",")),g.set("evaluate"+t,e)}else if(6===A.type){l("已取消"),a.isEvaluated=!1,a.hasBad=!1,a.goodTarget.removeClass("evaluated"),a.badTarget.removeClass("evaluated"),a.badTarget.find(".icon-evaluate-bad").removeClass("icon-evaluated-bad"),a.numScroll(a.badTarget,!0);var t=o.cookie.get("BAIDUID")?o.cookie.get("BAIDUID").split(":")[0]:0,e=a.getEvaluteData();e&&(e=o.array.remove(e.split(","),a.currentData+"|bad").join(",")),g.set("evaluate"+t,e)}},numScroll:function(A,a){var t=this,e=A.hasClass("evaluate-bad")?1:0;A=A.find(".evaluate-num").size()?A.find(".evaluate-num").eq(0):A;var i=parseInt(e?t.badNum:t.goodNum)+(a?-1:1);if(i=i>0?i:0,e?t.badNum=i:t.goodNum=i,A.html(e?"":k(i)||"抢首赞"),!e&&!a){var n="data:image/gif;base64,R0lGODlhUABQAKIHAE3JcUTHaDvGYVHGdm7VikPOY0rKbf///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTU3MTc3NkY2RUZEMTFFODkwNDJDRTJCRUM0MTYzRkYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTU3MTc3NzA2RUZEMTFFODkwNDJDRTJCRUM0MTYzRkYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFNTcxNzc2RDZFRkQxMUU4OTA0MkNFMkJFQzQxNjNGRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFNTcxNzc2RTZFRkQxMUU4OTA0MkNFMkJFQzQxNjNGRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV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",E=new Image,d=o(E);
if(d.addClass("icon-evaluate-gif"),t.target.append(d),E.src=n,1===i){Q.send({module:"question",action:"click",page:"question",pos:"first-evaluate-animate",logarea:t.logKey});var r=o('<div class="meta-first-active-img"></div>');t.goodTarget.append(r),setTimeout(function(){r.remove()},1e3)}else if(10===i||100===i||1e3===i){Q.send({module:"question",action:"click",page:"question",pos:i+"-evaluate-animate",logarea:t.logKey});var s=t.target.find(".value-special-img");s.show(),setTimeout(function(){s.remove()},1e3)}setTimeout(function(){d.remove(),E=null,d=null,t.goodTarget.find(".icon-evaluate").addClass("icon-evaluated").css({color:"#4aca6d"})},500)}},showTip:function(A){var a=this,t=o.extend({skin:"evaluate-tip",header:"",footer:"",container:"",target:a.goodTarget,defaultType:"text"},A||{}),i=['<div class="#{skin}">','<div class="tip-header">#{header}</div>',"#{container}",'<ul class="line evaluate-text f-12" alog-group="qb-zan-quick"></ul>',"#{footer}","</div>"].join(""),n={my:"left top",at:"right bottom"};a.tip=new c({tooltipClass:t.tooltipClass,position:n,closebox:!0,direction:"top",effect:!1,autoDispose:!1,content:o.string(i).format(t),target:t.target}),a.tip.show();var E=a.tip.getTipContainer(),d=t.tipText,r=E.find("ul").empty(),s=o(window).scrollTop();E.find(".tip-header").html(t.header),o(d).each(function(A,a){"text"==t.defaultType?r.append('<li><a data-num="'+a.num+'" href="#">'+a.text+"</a></li>"):"button"==t.defaultType&&r.append(A%2!=0?'<li class="odd"><a data-num="'+a.num+'"title="'+a.text+'" href="#">'+a.text+"</a></li>":'<li><a data-num="'+a.num+'"title="'+a.text+'" href="#">'+a.text+"</a></li>")}),E.find("ul li a").click(function(A){A.preventDefault(),a.submitComment(o(this).data("num"),t.type),Q.send({type:2014,action:"evaluate",page:"question",tipsType:t.type,pos:"evaluate-tips-tag",rid:a.replyId,logarea:a.logKey}),a.tip.hide()});var g=function(A){!a.tip.getTipContainer().size()||o.contains(a.tip.getTipContainer().get(0),A.target)||o.contains(t.target.get(0),A.target)||(a.tip.hide(),o(document).unbind("click",g))};return o(document).on("click",g),o(window).on("scroll",function(){Math.abs(o(window).scrollTop()-s)>300&&(!a.tip.getTipContainer().size()||o.contains(a.tip.getTipContainer().get(0),e.target)||o.contains(t.target.get(0),e.target)||a.tip.hide())}),a.fire("tipload"),a.tip},submitComment:function(A,a){var t=this;if(""!=A){var e="/submit/ajax",i={qid:t.qid,aid:t.replyId,cm:"100712",num:A,type:a};new d({url:e,params:i,syncId:"evaluateComment",autoRefresh:!1,beforeJump:function(){t.fire("commentsubmit",a)}})}}});t.exports=m});
;/*!question-new:widget/js/file/file.js*/
define("question-new:widget/js/file/file",function(e,t,n){function a(e){o("file").each(function(t,i){var n,a=o(i),s=a.parentsUntil(".answer").parent(".answer"),u=s&&s.attr("id").match(/\d+/)[0],g=a.parent().hasClass("replyask-content")?a.parent().attr("id").match(/\d+/)[0]:0,h=a.attr("fsid")||"",m=a.attr("wealth")||0,w=a.attr("link"),v=o.url.getQueryValue(w,"shareid"),x=o.url.getQueryValue(w,"uk"),j=g>0?g:u;if(!e||e.errno)n=['<div class="file line mt-10 f-12 file-fail">','<span class="ml-10 mr-5">附件加载失败，请</span>','<a target="_self" href="javascript:window.location.reload();">点击刷新</a>',"</div>"].join("");else{var M=!1;o(e.data).each(function(e,t){var a=t.fileMeta&&t.fileMeta.fs_id&&t.shareMeta&&0==t.shareMeta.errno&&0==t.shareMeta.status;if(a){if(t.fileMeta.fs_id==h){M=!0;var s=t.fileMeta,w=s.server_filename.split("."),y=s.server_filename;n=['<div class="file line mt-10 f-12">','<div class="file-inner clearfix">','<a href="#" target="_blank" class="grid mr-10 fileIcon-big ',b(w[w.length-1]),'"></a>','<div class="info grid file-dw-info">',"<p>",'<a href="#" target="_blank" class="f-yahei" title="',o.string.encodeHTML(y),'">',o.string.encodeHTML(l(y,26)),'</a><span class="f-gray ml-10">大小：',_(s.size),"</span>"],m>0&&"1"!=F.context("user").isAsker&&n.push('<span class="f-pipe">|</span><span class="f-gray">所需财富值：'+m+"</span>"),n.push('</p><p class="f-gray p-last f-green"><i class="i-solid-ok"></i> 已经过百度安全检测,放心下载'),n.push('</p></div><a class="grid-r btn-42-file-down-new" target="_blank" href="#">'),n.push('<i class="i-file-down"></i>'),n.push("<div><b>点击下载</b></div></a>"),n.push("</div></div>"),n=n.join(""),F.context("answer-file")[j]={error:!1,fileInfo:{fs_id:h,path:s.path,size:s.size,md5:s.md5,wealth:m}},o(i).parent().delegate(".file a","click",function(e){if(e.preventDefault(),m>0&&"1"!=F.context("user").isAsker&&"1"!=F.context("answers")[u].isCurrentUser){var t=function(e){var t=['<p class="mt-10 pl-10">',o.string.encodeHTML(l(s.server_filename,36)),'<span class="ml-10 f-aid">(',_(s.size),")</span><p>",'<div class="wealth-wraper"><p class="mb-10">下载所需财富值：<span class="f-bold">',m,"</span></p>","<p>您剩余的财富值：",e,"</p></div>"];return t.join("")},i=!1,n={type:2014,action:"click",module:"question",wealth:m,wealthLess:i};c.fire("login.check",{isLogin:function(){var e=F.context("user").wealth?parseInt(F.context("user").wealth,10):0;m>e&&(i=!0);{var a=i?'<span class="f-orange f-bold">'+e+'</span><a target="_blank" class="ml-10 f-12" href="http://www.baidu.com/search/zhidao_help.html#知道积分">如何赚取财富值</a>':'<span class="f-orange f-bold">'+e+"</span>",s=i?"btn-32-disabled":"btn-32-green",l=['<div class="tang-footer h-center mt-15"><a class="file-dbtn mr-10 btn ',s,'" href="#">下载</a>','<a class="file-cbtn ml-10 btn-32-white" href="#">取消</a></div>'].join(""),p=!1;new d({title:"下载文件",content:t(a)+l,width:460,height:260,buttons:[],open:function(){p||(p=!0,o(".tang-footer").delegate("a.file-dbtn","click",function(e){if(e.preventDefault(),r.send(o.extend(n,{pos:"accept-btn",isLogin:1})),!i){var t=window.open("about:blank"),a={cm:100675,qid:F.context("answers")[u].qid,rid:u,raid:g||0,fsid:h};c.fire("login.check",{isLogin:function(){new f({params:a,hasJump:!1,beforeJump:function(){k(v,x,function(e){t.location.href=e})}}),c.fire("dialog.close")}})}}),o(".tang-footer").delegate("a.file-cbtn","click",function(e){e.preventDefault(),c.fire("dialog.close"),r.send(o.object.extend(n,{pos:"cancel-btn",isLogin:1})),i&&location.reload()}),o(".tang-title").delegate("a.close-btn","click",function(){r.send(o.object.extend(n,{pos:"close-btn",isLogin:1})),i&&location.reload()}))}})}},noLogin:function(){d.confirm(t("登录后查看"),{title:"下载文件",width:460,height:260,buttons:[{text:"登录下载",click:function(){c.fire("login.log"),r.send(o.object.extend(n,{pos:"accept-btn",isLogin:0})),c.fire("dialog.close")}},{text:"取消",btnClass:"btn-32-white",click:function(){r.send(o.object.extend(n,{pos:"cancel-btn",isLogin:0})),c.fire("dialog.close")}}],open:function(){o(".tang-title").delegate("a.close-btn","click",function(){r.send(o.object.extend(n,{pos:"close-btn",isLogin:0}))})}})}})}else k(v,x,function(e){window.open(e)});r.send({type:2014,url:this.href,wealth:m,action:"click",pos:"file-download"})})}}else if(!M){p++;var L="1"==F.context("answers")[u].isCurrentUser?"您":"回答者",z="1"==F.context("answers")[u].isCurrentUser?"，请重新上传或删除。":"";n=['<div class="file line mt-10 f-12 file-fail">','<span class="fail">很抱歉，',L,"上传的附件已失效",z,"</span>","</div>"].join(""),F.context("answer-file")[j]={error:!0,fileInfo:{}}}})}var y=a.parents("dd"),L=y.attr("createTime"),z=!L&&""==o.string(y.text()).trim()||L&&o.string(y.text()).trim()==L;y.hasClass("replyask-content")&&(z||"删除"==o.string(y.text()).trim())&&(n="<br />"+n);var C=s.find(".wgt-wenku-link");C&&C.length>0&&(a.after(C),C.show());var T=a.parent(),q=o(n);a.after(q).remove();var U=T.data("oriheight");U&&T.data("oriheight",U+q.outerHeight(!0))})}function s(e){h.length&&o.ajax({url:"/api/pcs",type:"GET",data:{fsid:h.join(),uid:x.join(),shareid:m.join(),qid:v.join(),rid:w.join()},async:!0,dataType:"json",complete:function(t,i){if("success"==i){var n=o.json.parse(t.responseText);a(n)}else a();o.isFunction(e)&&e()}})}var o=e("common:widget/js/util/tangram/tangram"),r=e("common:widget/js/util/log/log"),l=e("common:widget/js/util/suffix-str/suffix-str"),c=e("common:widget/js/util/event/event"),f=e("common:widget/js/logic/submit/submit"),d=e("common:widget/js/ui/dialog/dialog");F.context("answer-file",{});var p=0,u=[],g=F.context("page").rankFile,h=[],m=[],w=[],v=[],x=[];o("file").each(function(e,t){if(!(e>9)){var i=o(t),n=i.parentsUntil(".answer").parent(".answer"),a=i.attr("fsid")||"",s=o.url.getQueryValue(i.attr("link"),"shareid")||"",r=n&&n.attr("id").match(/\d+/)[0],l=n&&F.context("answers")[r].qid,c=n&&F.context("answers")[r].uid||"";h.push(a),m.push(s),w.push(r),v.push(l),x.push(c),"0"==g?n.hasClass("answer-hide")||u.push(a):"1"==g&&(n.hasClass("answer-fold")||n.hasClass("answer-hide")||u.push(a))}});var b=function(e){e=e||"default";var t={icon_file_image:"jpg,jpeg,gif,bmp,png,jpe,cur,svg,svgz,tif,tiff,ico",icon_file_visio:"vsd,vsdx",icon_file_pdf:"pdf",icon_file_word:"doc,docx,ods,ots,odt,rtf,dot,dotx,odm",icon_file_excel:"xls,xlsx,xlt,xltx,csv",icon_file_text:"txt,html,htm,xhtml,xml,js,css",icon_file_music:"wma,wav,mp3,aac,ra,ram,mp2,ogg,aif,mpega,amr,mid,midi",icon_file_video:"wmv,rmvb,mpeg4,mpeg2,flv,avi,3gp,mpga,qt,rm,wmz,wmd,wvx,wmx,wm,swf,mpg,mp4,mkv,mpeg,mov",icon_file_powerpoint:"ppt,pptx,pps,pot,ppsx,potx",icon_file_ipa:"ipa",icon_file_exe:"exe,msi",icon_file_zip:"zip,rar,7z,tar,gz",icon_file_apk:"apk",icon_file_default:"default",icon_file_torrent:"torrent"},n={};for(i in t){var a=t[i].split(",");for(j in a)n.hasOwnProperty(a[j]),void 0==n[a[j]]&&(n[a[j]]=i)}return n[e.toLowerCase()]?n[e.toLowerCase()]:n["default"]},_=function(e){var t=["B","K","M","G","T"],i=Math.min(Math.max(Math.floor(Math.log(e)/Math.LN2/10),1),5);return Math.round(100*e/Math.pow(2,10*i))/100+t[i]},k=function(e,t,i){var n=["shareid="+e,"uk="+t].join("&");o.get("/api/pcsshorturl?"+n,function(e){"string"==typeof e&&(e=o.parseJSON(e)),0===e.errno&&i&&i(e.data.shortUrl)})};n.exports.init=s});
;/*!question-new:widget/js/select-search/select-search.js*/
define("question-new:widget/js/select-search/select-search",function(e,t,n){function o(e){l(e||document.body).mouseup(function(e){var t=e.button;if(l.browser.ie<9?1==t:0==t){var n=e.target.id;setTimeout(function(){var e=Boolean(window.getSelection),t=e?window.getSelection():document.selection.createRange();p=(e?t+"":t.text).replace(/\n+/g,"|");var o,i=p.length,s=e?i&&t.getRangeAt(0):t;return o=c(s,e),o&&"selectsearch-icon"!=n&&u.send({type:2014,page:"question",action:"selectSearchShow",qid:F.context("page").qid,uid:F.context("user").uid,text:p||""}),2>i||i>200||"selectsearch-icon"==n||!o?r():(a(s,e,o),void(s=t=null))},25)}})}function c(e,t){if(t){var n=i(e.startContainer),o=i(e.endContainer);return null===n||null===o||n!=o?!1:n}var c=e.parentElement(),a=i(c);return a}function i(e){return l(e).attr(d)?e:l(e).parents("["+d+"]").get(0)}function a(e,t){var n,o=l("#selectsearch-icon");if(t){o.size()?o.css({top:"auto",left:"auto",margin:"-25px auto auto 5px"}):o=l('<img id="selectsearch-icon"/>').attr({src:"https://gss0.bdstatic.com/70cFsjip0QIZ8tyhnq/img/iknow/qb/select-search.png",alt:"搜索"}),n=e.cloneRange(),n.collapse(!1),n.insertNode(o.get(0)),o.removeClass("selectsearch-hide");var c=o.offset().left,i=o.offset().top;l("body").append(o),o.css({top:i,left:c,margin:0}),n.detach()}else o.remove(),g=!1,n=e.duplicate(),n.collapse(!1),n.pasteHTML("<img id='selectsearch-icon' src='https://gss0.bdstatic.com/70cFsjip0QIZ8tyhnq/img/iknow/qb/select-search.png' alt='搜索'/>");n=null,s()}function s(){g||(g=!0,l("#selectsearch-icon").click(function(){r(),u.send({type:2014,page:"question",action:"selectSearchClick",qid:F.context("page").qid,uid:F.context("user").uid,text:p||""}),window.open((window.supportHttps?"https:":"")+"//www.baidu.com/s?wd="+encodeURIComponent(p)+"&tn=SE_hldp00800_iw44c7tx&ie=utf-8&hl_tag=flayer")}))}function r(){l("#selectsearch-icon").addClass("selectsearch-hide").css({top:"auto",left:"auto",margin:"-25px auto auto 5px"})}var l=e("common:widget/js/util/tangram/tangram"),u=e("common:widget/js/util/log/log"),d="accuse",p="",g=!1,m=function(){o(l(".wgt-ask")),o(l(".answer"))};n.exports.init=m});
;/*!question-new:widget/js/thunder/thunder.js*/
define("question-new:widget/js/thunder/thunder",function(n,t){var e=n("common:widget/js/util/tangram/tangram"),i=n("common:widget/js/util/log/log"),a=(n("common:widget/js/util/event/event"),n("common:widget/js/util/uri/uri"),n("common:widget/js/ui/dialog/dialog")),c=function(n){var t=null;try{t=new ActiveXObject("ThunderAgent.Agent")}catch(e){try{t=new ActiveXObject("ThunderAgent.Agent.1")}catch(e){}}if(t)try{return t.CallAddTask(n,"","",1,"",""),!0}catch(e){try{return t.AddTask(n,"","","","",1,1,10),t.CommitTasks(),!0}catch(e){}}try{var i=navigator.mimeTypes["application/np_xunlei_plugin"],a=document.createElement("embed");if(a.style.visibility="hidden",a.type="application/np_xunlei_plugin",a.width=0,a.height=0,document.body.appendChild(a),i&&a.DownLoadByThunderPlugin)return a.DownLoadByThunderPlugin(n),!0}catch(e){}return!1},r=function(){var t=e(".thunder-wrap");t.size()&&i.addKey({hasThunder:1}),t.each(function(t,c){var r=e(c).data("link"),d=['<div class="thunder-con">','<a class="thunder-link cur-pointer" data-link="',r,'">',r,"</a>",'<a class="btn-24-white btn-thunder" data-link="',r,'">立即下载</a>',"</div>",'<p class="f-12 f-gray ed2k-comment">','请安装迅雷后点击下载，或<span class="thunder-copy-link f-blue" data-clipboard-text="',r,'">复制链接</span>进行下载。',"</p>"].join("");e(c).html(d),n.async(["common:widget/js/ui/clipboard/clipboard.min"],function(n){var t=new n(e(c).find(".thunder-copy-link")[0]);t.on("mousedown",function(){i.send({type:2014,page:"question",area:"thunder-copy",action:"click"})}),t.on("success",function(n){a.alert("链接已复制到剪贴版"),n.clearSelection()}),t.on("error",function(){a.alert("复制失败")})})})},d=function(n,t){i.send({type:2014,page:"question",area:n,action:"click"}),c(t)||a.alert("请安装迅雷后点击下载！")};t.init=function(){e(function(){e.browser.ie&&e.browser.ie<=6?setTimeout(function(){r()},300):r()}),e(".thunder-wrap").delegate(".thunder-link","click",function(n){n.preventDefault();var t=e(this).data("link");d("thunder-dw-link",t)}).delegate(".btn-thunder","click",function(n){n.preventDefault();var t=e(this).data("link");d("thunder-dw-btn",t)})}});
;/*!question-new:widget/ad-right/ad-right.js*/
define("question-new:widget/ad-right/ad-right",function(o){var t=o("common:widget/js/util/tangram/tangram"),e=o("common:widget/js/ui/carousel/carousel"),i=o("common:widget/js/util/log/log");o("common:widget/js/ui/lazyload/lazyload");var a,s,c=function(){var o,a=[],s=F.context("cmsRight");if("undefined"!=typeof s&&(!s||s.length)){i.addKey({cms_scroll_new:1}),t.each(s,function(o,t){if(t&&t.src){var e=['<a rel="nofollow" alog-alias="qb-cms-mask" log="page:question,pos:cms_scroll_new,index:',o,'" href="',t.url,'" target="_blank"',">",'<img src="'+t.src+'" alt=""/>',"</a>"].join("");a.push(e)}}),o=new e({items:a,controls:!0,indicators:!0,direction:"horizontal"}),o.render("#cms-mask");{var c=t("#cms-mask .carousel-misc"),n=t('<div class="cms-scroll-shadow"></div>').insertBefore(c),l=t("#cms-mask .carousel-control-left");t("#cms-mask .carousel-control-right")}l.css("left",(220-5*(2*s.length-1))/2+"px"),1==s.length&&(c.hide(),n.hide()),t("#cms-scroll").mouseenter(function(t){t.stopPropagation(),c.animate({top:110}),n.animate({top:110}),o.pause()}).mouseleave(function(t){t.stopPropagation(),c.animate({top:140}),n.animate({top:140}),o.cycle()}),t("#cms-scroll").click(function(){i.send({type:2014,page:"question",pos:"cms-scroll",action:"click"})}),t("#cms-scroll .item").click(function(){var o=t(this).find("a img").attr("src");i.send({page:"question",area:"right-ad-link-img",action:"click",adCoverUrl:o})}),t("#cms-link li").click(function(){i.send({page:"question",area:"right-ad-link-text",action:"click"})})}},n=t(window),l=t("#wgt-ad-right-fixed"),r=l.length&&l.offset().top;n.scroll(function(){var o=t("#qb-content").height(),e=t("#qb-side").height();if(!(e>=o)){var i=n.scrollTop(),c=t(".wgt-footer-new").offset().top,m=l.height(),d=m+55+i>c;i>r-55&&!a&&!d?(l.addClass("fixed"),l.css({bottom:"auto",top:"55px"}),a=!0):d?(l.addClass("fixed"),l.css({bottom:n.height()-c+i+"px",top:"auto"}),a=!1,s=!0):r-55>=i&&(a||s)&&(l.removeClass("fixed"),a=!1,s=!1)}}),t(".cms-slide-lazy").lazyload({appear:c})});
;/*!question-new:widget/js/share/share.js*/
define("question-new:widget/js/share/share",function(e,i){function a(e){var i=["toolbar=0,status=0,resizable=1,width=",e.width||440,",height=",e.height||430,",left=",(screen.width-(e.width||440))/2,",top=",(screen.height-(e.height||430))/2].join("");window.open(e.url,"shareWindow",i)||(location.href=e.url)}function t(e,i){var a={render:"canvas",width:100,height:100,text:i.url};e.qrcode(a)}function o(e,i){if(e||i){e.hasClass("error")&&e.removeClass("error")&&e.find("img").remove();var a=new Image;s(a).css({width:i.width,height:i.height});var t=r.autoTrans("http://g.hiphotos.baidu.com/zhidao/wh%3D280%2C280%3B/sign=9aeaaddf9adda144da5c64b08a87fc90/5366d0160924ab180116e8fb38fae6cd7a890bfd.jpg");if(window.URL&&window.URL.createObjectURL){var o=new XMLHttpRequest;o.timeout=3e4;var n="/mobile/ajax/getwxqrcode",d=i.rid?n+"?path=pages/squestion/squestion&question_id="+F.context("page").qid+"_"+i.rid:n+"?path=pages/question/question&question_id="+F.context("page").qid;o.open("get",d,!0),o.responseType="blob",o.onload=function(){var i=this.response;200===this.status&&i&&0!==i.size?(e.addClass("loaded"),t=window.URL.createObjectURL(i)):e.addClass("error"),s(a).attr("src",t).appendTo(e)},o.onerror=function(){e.addClass("error"),s(a).attr("src",t).appendTo(e)},o.ontimeout=function(){e.addClass("error"),s(a).attr("src",t).appendTo(e)},o.send()}else e.addClass("loaded"),s(a).attr("src",t).appendTo(e)}}var s=e("common:widget/js/util/tangram/tangram"),n=e("common:widget/js/util/log/log"),r=e("common:widget/js/util/https/https"),d=e("common:widget/js/ui/dialog/dialog");e("common:widget/js/logic/qrcode/qrcode"),i.init=function(e){if(e.target&&e.pageUrl&&e.title){var i=s(e.target),r=e.pageUrl,c=-1===r.indexOf("?")?"?":"&",l={url:r+c+"sharesource=qzone",title:e.title,pics:e.pic||"https://gss0.bdstatic.com/70cFsjip0QIZ8tyhnq/img/iknow/zhidaologo.png"},h={url:r+c+"sharesource=weibo",title:e.weiboTitle||e.title,pic:e.pic||"https://gss0.bdstatic.com/70cFsjip0QIZ8tyhnq/img/iknow/zhidaologo.png"};e.summary&&(l.summary=e.summary,h.summary=e.summary);var g=[],w=[];for(var p in l)g.push(p+"="+encodeURIComponent(l[p]||""));for(var p in h)w.push(p+"="+encodeURIComponent(h[p]||""));var u="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+g.join("&"),m="http://v.t.sina.com.cn/share/share.php?"+w.join("&"),v=s('<div class="wgt-share-btn"><i class="wgt-share-icon ikonw-qb-new-icon"></i>分享</div>'),f="";e.vid?(f=s(['<div class="wgt-share-content">','<div class="wgt-share-triangle1"></div><div class="wgt-share-triangle2"></div>','<div data-url="'+e.pageUrl+'" class="wgt-share-link">','<span class="ikonw-qb-new-icon logo"></span>复制链接','<textarea class="input-hidden">'+e.title+" - ",e.author+"的视频 - 百度知道\n"+e.pageUrl+"</textarea></div>",'<div data-url="'+m+'" class="others-share-item wgt-share-weibo">','<span class="ikonw-qb-new-icon logo"></span>新浪微博</div>','<div data-url="'+u+'" class="others-share-item wgt-share-qzone">','<span class="ikonw-qb-new-icon logo"></span>QQ空间</div>',"</div>"].join("")),t(f.find(".weixin-qrcode-img-h5"),{url:"https://zhidao.baidu.com/mvideo/detail?vid="+e.vid})):f=s(['<div class="wgt-share-content">','<div class="wgt-share-triangle1"></div><div class="wgt-share-triangle2"></div>','<div data-url="'+m+'"class="others-share-item wgt-share-weibo">','<span class="ikonw-qb-new-icon logo"></span>新浪微博</div>','<div data-url="'+u+'"class="others-share-item wgt-share-qzone">','<span class="ikonw-qb-new-icon logo"></span>QQ空间</div>',"</div>"].join("")),i.html(v),i.append(f),i.on("click",".wgt-share-weibo, .wgt-share-qzone",function(){var i=s(this),t={url:i.data("url")};if(i.hasClass("wgt-share-weibo"))var o="weibo-click";else{t.width=800,t.height=600;var o="qzone-click"}a(t),e.logOpt&&(e.logOpt.action="share-click-"+o,n.send(e.logOpt))}).on("click",".wgt-share-btn",function(i){i.stopPropagation();var a=f.find(".weixin-qrcode-img");f.hasClass("show")?(f.hide(),f.removeClass("show")):(a.hasClass("loaded")||o(a,{width:100,height:100,rid:e.rid}),f.show(),f.addClass("show"),e.logOpt&&(e.logOpt.action="share-view",n.send(e.logOpt)),s("body").one("click",function(){f.hide(),f.removeClass("show")}))}).off("click",".wgt-share-link").on("click",".wgt-share-link",function(){var e=s(this).find(".input-hidden");e.select(),document.execCommand("copy")?(document.execCommand("copy",!0),d.alert("链接已复制啦，快去分享给小伙伴吧～")):d.alert("链接复制失败")})}}});
;/*!question-new:widget/mavin-statistics/mavin-statistics.js*/
define("question-new:widget/mavin-statistics/mavin-statistics",function(e,s,i){var t=e("common:widget/lib/jquery/jquery");i.exports={scan:function(){var e=[],s=t(".reply-user-ismavin");t.each(s,function(s,i){var a=t(i);if(!a.hasClass("answer-hide")&&!a.hasClass("answer-dispute-hide")){var n=a.attr("id").split("answer-")[1];a.removeClass("reply-user-ismavin"),e.push({uid:F.context("answers")[n].uid})}}),e.length&&t.post("/mavin/api/mavinpv",{type:1,qid:F.context("page").qid,data:e,token:F.context("user").stoken})}}});
;/*!question-new:widget/answers/answers.js*/
define("question-new:widget/answers/answers",function(e){function s(){C.hasClass("folding")?(k&&(k.hide(),k.hasClass("folding")&&n()),p.addClass("answer-fold"),f.size()&&0==g.size()&&"0"==z&&f.hide(),C.removeClass("folding"),m.html('查看更多其他回答<span></span><i class="i-answer-more ml-5"></i>'),d.send({type:2014,area:"rank3",action:"foldclick"})):(k&&k.show(),r.scan(),p.removeClass("answer-fold").children().first().removeClass("line"),f.size()&&0==g.size()&&f.show(),C.addClass("folding"),m.html('收起<span></span><i class="i-shrink-up ml-5"></i>'),d.send({type:2014,area:"rank3",action:"showfoldclick"}))}function n(){k.hasClass("folding")?(g.addClass("answer-hide"),showAnswerDispute.size()?showAnswerDispute.hide():f.size()&&"0"==z&&f.hide(),k.removeClass("folding"),v.find("span").hide(),v.find("i").removeClass("i-incline-up"),d.send({type:2014,area:"rank3",action:"hideclick"})):(g.removeClass("answer-hide").children().first().removeClass("line"),showAnswerDispute.size()?(showAnswerDispute.show(),k.hide()):f.size()&&f.show(),k.addClass("folding"),v.find("span").show(),v.find("i").addClass("i-incline-up"),d.send({type:2014,area:"rank3",action:"showhideclick"}))}function i(){showAnswerDispute.hasClass("folding")?(disputeAnswer.addClass("answer-dispute-hide"),normalAnswer.size()==disputeAnswer.size()&&a("#wgt-answers .hd").addClass("hide"),f.size()&&"0"==z&&f.hide(),showAnswerDispute.removeClass("folding"),showHideDispute.find("span").hide(),showHideDispute.find("i").removeClass("i-incline-up"),d.send({type:2014,area:"rank3",action:"disputehideclick"})):(disputeAnswer.removeClass("answer-dispute-hide").children().first().removeClass("line"),normalAnswer.size()==disputeAnswer.size()&&a("#wgt-answers .hd").removeClass("hide"),f.size()&&f.show(),showAnswerDispute.addClass("folding"),showHideDispute.find("span").show(),showHideDispute.find("i").addClass("i-incline-up"),d.send({type:2014,area:"rank3",action:"disputeshowclick"}))}var a=e("common:widget/js/util/tangram/tangram"),t=e("question-new:widget/js/share/share"),o=e("common:widget/js/util/event/event"),r=e("question-new:widget/mavin-statistics/mavin-statistics"),d=e("common:widget/js/util/log/log"),w=e("question-new:widget/js/trans-video/trans-video"),l=e("question-new:widget/js/trans-yun/trans-yun"),h=e("question-new:widget/js/confusion-answer/confusion-answer"),c=a(window),u=a("#qb-content"),p=[],g=[],f=null,m=null,v=null,C=null,k=null,z=a.url.getQueryValue(location.search,"pn")||"0",A=a("#wgt-answers").find(".answer-text"),x=function(){A.each(function(e,s){var n=a(s),i=n.parents(".bd.answer"),o=n.find(".wgt-answers-mask"),r=i.find(".wgt-answers-operator");i.on("click",".wgt-answers-showbtn",function(){d.send({area:"show-hide-answer-normal",action:"click"}),n.data("showstatus","show"),n.data("preScrollPos",a(window).scrollTop()),n.height(n.data("oriheight")),o.hide(),r.find(".wgt-answers-hidebtn").show()}).on("click",".wgt-answers-hidebtn",function(){n.data("showstatus","hide"),n.height(300),o.show(),a(this).hide(),r.removeClass("fixed"),c.off("resize.answerOperatorFixed"+e),r.css("width","auto"),a(window).scrollTop()>n.data("preScrollPos")&&(F.context("answerFoldingFlag",!0),a(window).scrollTop(n.data("preScrollPos")),setTimeout(function(){F.context("answerFoldingFlag",!1)},500))}).on("click",".wgt-answers-open-wenku",function(){d.send({area:"open-wenku-answer-normal",action:"click",wenkuid:a(this).data("wenkuid")})}),a(window).scroll(function(){if("show"===n.data("showstatus")){var s=c.height(),i=c.scrollTop(),a=n.offset().top,t=s+i-a;t>300&&t<n.height()?(r.addClass("fixed"),r.width(u.outerWidth()),c.on("resize.answerOperatorFixed"+e,function(){r.width(u.outerWidth())})):(r.removeClass("fixed"),c.off("resize.answerOperatorFixed"+e),r.css("width","auto"))}});var w=/\d+/.exec(n.attr("id"));t.init({target:"#"+i.attr("id")+" .share-area",pageUrl:"http://zhidao.baidu.com/question/"+F.context("page").qid,title:document.title,rid:w?w[0]:null,logOpt:{project:"new-qb-share",postion:"new-share-answers"}});var l={rid:w[0],el:n,separateReg:F.context("answers")[w[0]].saltWords&&"("+F.context("answers")[w[0]].saltWords.split("_").join("|")+")"};h.initConfusionAnswer(l),h.initCopyEvent(l)}),o.on("pageLoaded",function(){A.each(function(e,s){var n=a(s),i=n.height();n.data("oriheight",i),n.data("showstatus","hide"),i>300&&(F.context("answerHasFolder")||(d.send({area:"answer-hascut-normal",action:"pv",wenkuid:n.find(".wgt-answers-open-wenku").data("wenkuid"),docType:n.find(".wgt-answers-open-wenku").data("doctype")}),F.context("answerHasFolder",!0)),n.height(300),n.find(".wgt-answers-mask").show())})}),0==a(".wgt-best,.wgt-recommend,.wgt-special").size()&&a(".wgt-answers").size()&&a("#wgt-answers").removeClass("answer-foldable"),p=a(".answer-foldable .answer-fold"),normalAnswer=a("#wgt-answers .answer"),g=a(".answer-hide"),disputeAnswer=a(".answer-dispute"),f=a(".wgt-pager"),a("#wgt-answers").size()&&g.size()==a("#wgt-answers .answer").size()&&0==a("#wgt-answers .answer-mine").size()&&("0"==z?F.context("user").isAsker||a("#wgt-answers").hide():a("#wgt-answers").addClass("reply-hide-only")),(p.size()||g.size())&&f.size()&&"0"==z&&f.hide(),p.size()&&(C=a('<div id="show-fold-container"/>').insertBefore(p.get(0)),m=a('<div id="show-answer-fold"/>').html('查看更多其他回答<span></span><i class="i-answer-more ml-5"></i>').appendTo(C),m.click(function(){s()}).mouseover(function(){a(this).addClass("hover")}).mouseout(function(){a(this).removeClass("hover")})),(g.size()||disputeAnswer.size())&&(k=a("#show-hide-container"),v=a("#show-answer-hide"),showAnswerDispute=a(".show-answer-dispute"),showHideDispute=a(".show-hide-dispute"),v.click(function(){n(),r.scan()}).mouseover(function(){a(this).addClass("hover")}),a(v).mouseout(function(){a(this).removeClass("hover")}),showHideDispute.click(function(){r.scan(),i()}),C&&k.hide()),a("#show-hide-container").size()&&d.addKey({show_hide_container:1});var e="i-incline-up",x="i-incline-down",y="quote-folded";a("#wgt-answers").on("click",".js-quote-fold",function(s){var n=a(s.target);n.toggleClass(x).toggleClass(e),n.parents(".js-quote").toggleClass(y)});new w("wgt-answers");l.init("wgt-answers")};x()});
;/*!question-new:widget/ask/ask.js*/
define("question-new:widget/ask/ask",function(e,t,o){function i(){var e,t;n("#modify-category").on("click",function(o){o.preventDefault(),e?e.open():(e=a.confirm('<div id="dig-modify-category"></div>',{title:"修改分类",width:"465px",onaccept:function(){var o={cm:100015,qid:F.context("page").qid,cid_bef:F.context("page").cid,cid_aft:t.getValue().cid};return o.cid_bef==o.cid_aft?(e.close(),void a.alert("转移前后的分类相同噢...",{onaccept:function(){e.open()},close:function(){e.open()}})):void new d({url:"/submit/user",params:o,beforeJump:function(){e.close();var t=new a({width:350,height:160,title:"知道提示",content:"转移分类成功啦~~",autoDispose:!0,close:function(){window.location.reload(!0)}});setTimeout(function(){t.close()},2e3),n.cookie.set("IK_QB_ALTER",1)},syncId:"modifyCate",errorDeal:function(){e.close(),a.alert("转移分类失败了: (")}})}}),t=new c({target:"#dig-modify-category",defaultValue:F.context("page").cid,selectSize:16}))})}var n=e("common:widget/lib/jquery/jquery"),a=e("common:widget/js/ui/dialog/dialog"),s=e("common:widget/js/ui/pop-tip/pop-tip"),c=e("common:widget/js/logic/category/category"),l=e("question-new:widget/js/trans-video/trans-video"),d=e("common:widget/js/logic/submit/submit"),r=e("common:widget/js/util/tangram/cookie"),u=e("question-new:widget/js/share/share"),m=e("common:widget/js/util/log/log"),f=e("common:widget/js/util/countdown/countdown"),p={init:function(e){var t=this;t.formateAskContent(e),t.timely(e),i(),t.bindEvent(e),e.vvideo_info&&e.vvideo_info[0]&&(t.transObj=new l("videoBox",e.vvideo_info[0]),m.send({hasQvvideo:1,area:"ask"}))},formateAskContent:function(e){if("attention"===e.askContentType){var t=n(".wgt-ask .conReal"),o=n(".wgt-ask .conTemp"),i=n(".wgt-ask .expend");t.height()>48&&(t.removeClass().addClass("con-all"),o.removeClass("conTemp"),i.removeClass("expend_hide"))}n(".wgt-ask .q-content").css({visibility:"visible","max-height":"none"})},timely:function(e){e.timely.isNeed&&new f([{seconds:Number(e.timely.leftTime),elem:n("#timely-score .left-time"),callback:function(e){this.elem.text(["离结束还有",e.mm,"分",e.ss,"秒"].join(""))},complete:function(){this.elem.text("15分钟内解答奖励已过期")}}]).start()},bindEvent:function(e){var t=this;n("#wgt-ask").on("click",".expend",function(){n(this).parent().find(".con").remove(),n(this).parent().find(".con-all").show(),n(this).remove()}).on("click",".question-deleted-btn",function(o){o.preventDefault(),t.showDelDialog(e)}),2===n("#ask-info").find(".form-radio").length&&(n(".anony-radio").addClass("selected"),n("#ask-info").find(".btn-confirm").removeClass("btn-disable"))},showDelDialog:function(e){var t=e.isAnonymous,o={cm:100013,qid:F.context("page").qid},i="";i='<i class="del-close-icon"></i><div class="del-content-box"><p class="del-content-text">'+(t?"确定要删除问题吗":"该问题将帮助到其他网友，确认是否删除问题")+'?</p><p class="del-sub-text">删除后的问题不可恢复</p></div>',m.send({page:"question",area:"question-delete-remind",action:"show",pos:t?"delete-dialog":"anonymous-dialog"});var c=new a({content:i,width:400,height:t?187:217,dialogClass:"del-ask-dialog",open:function(){var e=n(this);e.on("click",".del-close-icon",function(){e.parent(".del-ask-dialog").remove()})},buttons:[{text:t?"取消":"删除提问",className:"del-close-btn",click:function(){if(m.send({page:"question",area:"question-delete-remind",action:"click",pos:t?"delete-cancel":"anonymous-delete"}),t)n(this).parent(".del-ask-dialog").remove();else{var e=this;new d({url:"/submit/ajax",params:o,beforeJump:function(){c.close(),s("删除提问成功啦~~"),setTimeout(function(){window.location.reload(!0)},2500)},errorDeal:function(){n(e).parent(".del-ask-dialog").remove(),s("删除提问失败了: (")}})}}},{text:t?"删除":"转为匿名",className:"del-submit-btn",click:function(){if(m.send({page:"question",area:"question-delete-remind",action:"click",pos:t?"delete-delete":"anonymous-anonymous"}),t){var e=this;new d({url:"/submit/ajax",params:o,beforeJump:function(){c.close(),s("删除提问成功啦~~"),setTimeout(function(){window.location.reload(!0)},2500)},errorDeal:function(){n(e).parent(".del-ask-dialog").remove(),s("删除提问失败了: (")}})}else{new d({url:"/submit/ajax",params:{cm:100418,type:1,qid:F.context("page").qid},beforeJump:function(){c.close(),s("操作成功"),setTimeout(function(){window.location.reload(!0)},2500)},errorDeal:function(){c.close(),s("操作失败了")}})}}}]})}};n.get("/api/qbpv?q="+F.context("page").qid,function(e){e=parseInt(e,10)}),u.init({target:n(".ask-info .share-area"),pageUrl:"http://zhidao.baidu.com/question/"+F.context("page").qid,title:document.title,logOpt:{project:"new-qb-share",postion:"new-share-ask"}}),n(".wgt-ask .offical-tip-close").click(function(){var e=n(this);e.parents(".official-tip").remove(),r.set("official_tip_"+F.context("page").qid,"1",{expires:2592e5})}),o.exports=p});
;/*!question-new:widget/push/Clamp.js*/
define("question-new:widget/push/Clamp",function(e,t,n){function i(e,t){function n(e,t){return s.getComputedStyle||(s.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle&&e.currentStyle[t]?e.currentStyle[t]:null},this}),s.getComputedStyle(e,null).getPropertyValue(t)}function i(t){var n=t||e.clientHeight,i=a(e);return Math.max(Math.floor(n/i),0)}function l(t){var n=a(e);return n*t}function a(e){var t=n(e,"line-height");return"normal"==t&&(t=1.2*parseInt(n(e,"font-size"),10)),parseInt(t,10)}function r(t){return t.lastChild.children&&t.lastChild.children.length>0?r(Array.prototype.slice.call(t.children).pop()):t.lastChild&&t.lastChild.nodeValue&&""!=t.lastChild.nodeValue&&t.lastChild.nodeValue!=p.truncationChar?t.lastChild:(t.lastChild.parentNode.removeChild(t.lastChild),r(e))}function u(t,n){function i(){y=p.splitOnChars.slice(0),H=y[0],g=null,v=null}if(n){var l=t.nodeValue.replace(p.truncationChar,"");if(g||(H=y.length>0?y.shift():"",g=l.split(H)),g.length>1?(v=g.pop(),o(t,g.join(H))):g=null,c&&(t.nodeValue=t.nodeValue.replace(p.truncationChar,""),e.innerHTML=t.nodeValue+" "+c.innerHTML+p.truncationChar),g){if(e.clientHeight<=n){if(!(y.length>=0&&""!=H))return e.innerHTML;o(t,g.join(H)+H+v),g=null}}else""==H&&(o(t,""),t=r(e),i());return p.animate?void setTimeout(function(){u(t,n)},p.animate===!0?10:p.animate):u(t,n)}}function o(e,t){e.nodeValue=t+p.truncationChar}t=t||{};var c,s=window,p={clamp:t.clamp||2,useNativeClamp:"undefined"!=typeof t.useNativeClamp?t.useNativeClamp:!0,splitOnChars:t.splitOnChars||[".","-","C","―"," "],animate:t.animate||!1,truncationChar:t.truncationChar||"…",truncationHTML:t.truncationHTML},h=e.style,d=e.innerHTML,f="undefined"!=typeof e.style.webkitLineClamp,C=p.clamp,m=C.indexOf&&(C.indexOf("px")>-1||C.indexOf("em")>-1);p.truncationHTML&&(c=document.createElement("span"),c.innerHTML=p.truncationHTML);var g,v,y=p.splitOnChars.slice(0),H=y[0];"auto"==C?C=i():m&&(C=i(parseInt(C,10)));var L;if(f&&p.useNativeClamp)h.overflow="hidden",h.textOverflow="ellipsis",h.webkitBoxOrient="vertical",h.display="-webkit-box",h.webkitLineClamp=C,m&&(h.height=p.clamp+"px");else{var M=l(C);M<=e.clientHeight&&(L=u(r(e),M))}return{original:d,clamped:L}}n.exports=i});
;/*!question-new:widget/image-scale/image-scale.js*/
define("question-new:widget/image-scale/image-scale",function(e,t,i){var o=e("common:widget/js/util/tangram/tangram"),n=function(e){this.body=o("body"),this.selector=e||"image",this.screenSize={},this.win=o(window),this.bindEvent()};n.prototype={updateScreenSize:function(){this.screenSize.width=document.documentElement.clientWidth,this.screenSize.height=document.documentElement.clientHeight,this.screenSize.top=document.documentElement.scrollTop+document.body.scrollTop,this.screenSize.left=document.documentElement.scrollLeft+document.body.scrollLeft},bindEvent:function(){var e=this;e.body.on("click",e.selector,function(t){t.preventDefault(),t.stopImmediatePropagation();var i=t.target||t.srcElement;i&&e.render(i)}),e.body.on("mouseenter",e.selector,function(e){e.preventDefault(),e.stopImmediatePropagation();var t=e.target||e.srcElement;o(t).css({cursor:"zoom-in"})}),e.body.on("mouseleave",e.selector,function(e){e.preventDefault(),e.stopImmediatePropagation();var t=e.target||e.srcElement;o(t).css({cursor:"auto"})}),e.win.on("resize",function(){e.updateScreenSize()})},render:function(e){var t=this;t.updateScreenSize();var i=o(e);t.scrollFn=function(){t.position=i.offset(),t.updateScreenSize()},t.position=i.offset(),t.win.on("scroll",t.scrollFn),t.selfWidth=i.width(),t.selfHeight=i.height(),t.mask?t.mask.show():(t.mask=t.mask||t.getDom("div",{styles:{visibility:"hidden",position:"fixed",zIndex:1100,left:t.position.left-t.screenSize.left,top:t.position.top-t.screenSize.top}}),t.mask.click(function(){t.image.animate({width:t.selfWidth,height:t.selfHeight,left:t.position.left-t.screenSize.left,top:t.position.top-t.screenSize.top,marginLeft:0,marginTop:0},500,function(){t.image.hide(),t.mask.hide(),t.win.off("scroll",t.scrollFn)})})),t.image?(t.image.attr("src",i.attr("src")),t.image.css({width:"auto",height:"auto",left:t.position.left-t.screenSize.left,top:t.position.top-t.screenSize.top}),t.image.show()):(t.image=t.getDom("img",{src:i.attr("src"),styles:{cursor:"zoom-out",position:"fixed",visibility:"hidden",zIndex:1102,left:t.position.left-t.screenSize.left,top:t.position.top-t.screenSize.top}}),t.image.click(function(){t.image.animate({width:t.selfWidth,height:t.selfHeight,left:t.position.left-t.screenSize.left,top:t.position.top-t.screenSize.top,marginLeft:0,marginTop:0},500,function(){t.image.hide(),t.mask.hide(),t.win.off("scroll",t.scrollFn)})})),t.body.append(t.mask),t.body.append(t.image);var n={width:t.image.width(),height:t.image.height()};t.image.css({width:t.selfWidth,height:t.selfHeight,visibility:"visible"}),t.mask.css({top:0,left:0,opacity:.8,width:"100%",height:"100%",visibility:"visible",backgroundColor:"#fff",filter:"alpha(opacity=90)"});var s=0,r=0;n.width>=n.height?(s=n.width>=t.screenSize.width?t.screenSize.width:n.width,r=n.height*s/n.width):(r=n.height>=t.screenSize.height?t.screenSize.height:n.height,s=r*n.width/n.height);var c={left:"50%",top:"50%",width:s,height:r};t.image.animate({top:c.top,left:c.left,width:c.width,height:c.height,marginLeft:"-"+s/2+"px",marginTop:"-"+r/2+"px"},500)},getDom:function(e,t){var i=o("<"+e+"/>");return o.each(t,function(e,t){"styles"!=e&&i.attr(e,t)}),t.styles&&i.css(t.styles),i}},i.exports.init=function(e){return new n(e)}});
;/*!question-new:widget/js/getEditor/getEditor.js*/
define("question-new:widget/js/getEditor/getEditor",function(e,t,i){function o(e){var t=g.get("IKNOW_QB_ANSWER_AUTOSAVE")||{};t[e]&&t[e][b]&&delete t[e][b],g.set("IKNOW_QB_ANSWER_AUTOSAVE",t)}function a(e){var t="",i=[],o=w.length;p(".loading-layer").hide(),p(".layerBg").hide(),o.length<=3?(p.each(w,function(e,i){t+=['<div class="visit-join-model-item">','<a target="_blank" href="/uteam/view?teamId='+i.teamId+'" class="visit-join-model-img"><img src="'+i.imgUrl+'" alt=""></a>','<h3><a target="_blank" href="/uteam/view?teamId='+i.teamId+'">'+(i.teamName.length>7?i.teamName.slice(0,7):i.teamName)+"</a></h3>","<p><span>"+i.cname+"</span>"+i.userNum+"人</p>",'<a href="javascript:void(0);" data-teamid="'+i.teamId+'" class="visit-join-model-btn">加入</a></div>'].join("")}),i.push(t)):p.each(w,function(e,a){t+=['<div class="visit-join-model-item"><a target="_blank" href="/uteam/view?teamId='+a.teamId+'" class="visit-join-model-img"><img src="'+a.imgUrl+'" alt=""></a>','<h3><a target="_blank" href="/uteam/view?teamId='+a.teamId+'">'+(a.teamName.length>7?a.teamName.slice(0,7):a.teamName)+"</a></h3>","<p><span>"+a.cname+"</span>"+a.userNum+"人</p>",'<a href="javascript:void(0);" data-teamid="'+a.teamId+'" class="visit-join-model-btn">加入</a></div>'].join(""),((e+1)%3===0&&0!==e||e===o-1)&&(i.push(t),t="")}),v.alert(I.html(),{className:"visit-join-model-wrap",title:"提交成功",width:500,height:396,open:function(){var t,a,n=p("#visit-join-model-content");y||(y=new f({direction:"horizontal",controls:!1,activeIndex:0,items:i,interval:0}),y.render(n)),t=n.find(".visit-join-model-btn"),t.click(function(){var e=p(this);e.hasClass("visit-join-model-active")?e.removeClass("visit-join-model-active"):(t.removeClass("visit-join-model-active"),e.addClass("visit-join-model-active"))}),a=n.find(".visit-join-control"),3>=o?a.hide():a.click(function(){var e=p(this),t=e.data("action"),i=0,o=y.items.length;"left"===t?e.hasClass("visit-join-control-left-disable")||(y.prev(),i=y.getActiveIndex()-1,0>=i?e.addClass("visit-join-control-left-disable"):e.removeClass("visit-join-control-left-disable"),e.siblings().removeClass("visit-join-control-right-disable")):e.hasClass("visit-join-control-right-disable")||(y.next(),i=y.getActiveIndex()+1,i>=o-1?e.addClass("visit-join-control-right-disable"):e.removeClass("visit-join-control-right-disable"),e.siblings().removeClass("visit-join-control-left-disable"))}),p(".visit-join-model-wrap .ui-dialog-titlebar-close").click(function(){p.cookie.set("VISIT_VISIT_MODEL","show",{expires:6048e5,path:"/"}),e&&e()})},buttons:[{text:"确定",click:function(){var t,i=p("#visit-join-model-content"),o=i.find(".visit-join-model-btn"),a=p("#visit-join-warn");o.each(function(){var e=p(this);return e.hasClass("visit-join-model-active")?(t=e,!0):void 0}),t?(p.post("/uteam/submit/applyJoin",{fr:"recalert",teamId:t.data("teamid")},function(t){"string"==typeof t&&(t=p.parseJSON(t)),v.close(),0!==t.errno?v.alert(t.errmsg,{className:"visit-join-model-error",open:function(){p(".visit-join-model-error .ui-dialog-titlebar-close").click(function(){p.cookie.set("VISIT_VISIT_MODEL","show",{expires:6048e5,path:"/"}),e&&e()})},buttons:[{text:"确定",click:function(){p.cookie.set("VISIT_VISIT_MODEL","show",{expires:6048e5,path:"/"}),e&&e()}}]}):(p.cookie.set("VISIT_VISIT_MODEL","show",{expires:6048e5,path:"/"}),e&&e())}),m.send({module:"question",action:"visit-join",page:"unview",area:"join-alert"})):(a.animate({height:24}),setTimeout(function(){a.animate({height:0})},1e3))}}]}),m.send({module:"question",action:"visit-join",page:"unview",area:"alert"})}function n(e,t){if(p(".loading-layer").hide(),p(".layerBg").hide(),p("."+e).length)p("."+e).show();else{var i=p("#edui1"),o=i.width()-2,a=(i.height()-2,p("<div class='tipLayer'></div>"));i.append(a);var n=p(".tipLayer");n.attr("class","tipLayer "+e).html("<span class='icon'></span><div>"+t+"</div>"),n.css({"margin-left":(o-p(".tipLayer").width())/2+"px",width:"100px"})}}function r(){var e=location.href;e.indexOf("hideOtherAnswer")<0?(e.indexOf("#")>0&&(e=e.substring(0,e.indexOf("#"))),location.href=e+=e.indexOf("?")>0?"&hideOtherAnswer=true&newAnswer=1":"?hideOtherAnswer=true&newAnswer=1"):location.reload()}function s(e,t,i,o,a,n,r,s,d,u,h){t=t||"answer-editor",i=null!=i?i:!0;var v="1"===F.context("user").isLogin,f="1"===F.context("page").isAdopted,b="1"===F.context("newbest"),w=["该提问求助发自手机，请精简回答，方便查看","这个问题你有什么看法，展开讲讲...","提问者正在等待您的回答","请输入您的回答...","详细的问题说明，有助于回答者给出准确的答案","1.步骤类：①整体简介②所需工具/原料③方法/步骤④注意事项<br>2.常识类：①直接回答问题②详细给出具体原因/理由/介绍<br>3.原因类：①详细解释原因/理由②提供有效解决方案（构成见步骤类）<br>4.其他类型详见高质量标准（点击回答框右侧图片）"],_="";_=b?w[1]:v&&f?w[3]:w[2];var I=["undo","redo","removeformat","|","bold","italic","paragraph","|","insertunorderedlist","insertorderedlist","horizontal","blockquote","|","link","insertimage","uploadvideo","map","template","uploadbaiduyun","fullscreen"];"74"===F.context("page").cidTop&&I.push("|","insertcode");var y=g.get("SHOW_VIDEO_ANSWER_GIF")||{},x=new Date,j="answer-"+x.getFullYear()+"-"+(x.getMonth()+1)+"-"+x.getDate(),k=!1;y&&!y[j]&&"uhome_homecenter_video"!==F.context("extra").entry&&"qb_right_videoquestion"!==F.context("extra").entry&&(k=!0,y={},y[j]=1,g.set("SHOW_VIDEO_ANSWER_GIF",y));var N=l.getEditor(t,{imageCaption:!0,needHttpsAutoTrans:!0,insertVideoBtnNeedNewIcon:1!==parseInt(F.context("baiduyunTip"),10)&&"uhome_homecenter_video"!==F.context("extra").entry&&"qb_right_videoquestion"!==F.context("extra").entry,insertBaiduYunBtnNeedNewIcon:1===parseInt(F.context("baiduyunTip"),10),showVideoGif:k,forceRecreate:o,dontShowAtFirst:r,scaleEnabled:d,initialFrameWidth:"100%",initialFrameHeight:u||280,toolbars:[I],initialContent:e?e:_,maximumWords:9999,token:F.context("user").stoken}),O=!0;F.context("user").isFromBusiness&&(O=!1),N.iknowInit({isLogin:v,submitBtn:"提交回答",anonymouse:O,extraParam:{qid:s.qid}},function(e){e&&p(e).click(function(e){if(p("#"+t).find(".change-to-ueditor").size()&&r){var i=p(".cover-ueditor .toast");return i.show(),void setTimeout(function(){i.hide()},3e3)}c(e,N,a,n,s,h)})});var T=!1,S=function(){T||(T=!0,m.send({action:"input",area:"answer-editor"}))};return N.addListener("contentChange",S),N}function c(e,t,i,s,c){if(e.preventDefault(),!x){c.cm=100009,x=!0,setTimeout(function(){x=!1},1e3);var l=p.url.getQueryValue(location.href,"youliao_id");if(l&&(c.youliao_id=l),0==F.context("user").isNew&&0!=p.cookie.get("IK_FORCE_UHOME")&&p.cookie.set("IK_FORCE_UHOME","0",{expires:31536e6,path:"/"}),F.context("extra").entry.indexOf("team_teamtask_")>-1&&(c.teamId=p.url.getQueryValue(window.location.href,"teamId"),c.taskId=p.url.getQueryValue(window.location.href,"taskId")),t.checkEditor()){var g=t.getEditorContent();g.indexOf("<baiduyun")>0&&m.send({module:"question-new",page:"question",area:"answer-with-yun",action:"pv"}),c.co=g,c.cite="",c.rich=1,c.edit="new",t.authcode&&t.authcode.submitParam(c),t.anonymouse&&t.anonymouse.checked&&(c.anoy=1);var v="";c.co&&c.co.match(/<strong>/)&&c.co.match(/<em>/)?v="both":c.co&&c.co.match(/<strong>/)?v="replyBold":c.co&&c.co.match(/<em>/)&&(v="replyRed"),m.send({area:"answer_submit_btn",action:"answer",privilegeSubmit:v,uid:F.context("user").uid}),d.fire("login.check",{isLogin:function(e){function o(){new u({params:c,hasJump:!1,syncId:"answer",jumpSubmitDelay:4500,editor:t,beforeJump:i,beforeError:s})}localStorage.removeItem("HAS_NOT_COMMIT_ID"),localStorage.removeItem("HAS_NOT_COMMIT_CONTENT"),1===e.isRealName&&0===p("#passport-accRealName-pop").length?d.fire("login.realName",{onHide:function(){p(".loading-layer").hide(),p(".layerBg").hide()},onSubmitSuccess:function(){o()}}):1===e.isRealName&&p("#passport-accRealName-pop").length>0?(p("#passport-accRealName-pop").show(),p("body").children("div:first-child").show(),p("#passport-accRealName-pop").is(":hidden")?(p(".loading-layer").hide(),p(".layerBg").hide()):(p(".loading-layer").show(),p(".layerBg").show())):o()},noLogin:function(){p(".loading-layer").hide(),p(".layerBg").hide(),localStorage.setItem("HAS_NOT_COMMIT_ID",F.context("page").qid),localStorage.setItem("HAS_NOT_COMMIT_CONTENT",c.co),m.send({area:"answer_click_loginpop",action:"pv"}),d.fire("login.log",{onLoginSuccess:function(e){e&&(F.context("user").stoken=e.stoken),1===e.isRealName?(p(".loading-layer").hide(),p(".layerBg").hide()):new u({params:c,hasJump:!1,syncId:"answer",editor:t,beforeJump:function(){o("nologin"),m.send({area:"submit",action:"unlogin-submit-success"}),w&&w.length&&"show"!==p.cookie.get("VISIT_VISIT_MODEL")?a(function(){r()}):(n("success-tip","提交成功"),setTimeout(function(){p.ajax({url:"/task/api/taskcomnotice",type:"post",data:{op:"reply",from:"PC"},dataType:"json",success:function(e){e.errno||1!==e.data.notice?r():h.openTaskFinishRewardDialog(e.data,r)}})},2e3))},beforeError:function(){p(".loading-layer").hide(),p(".layerBg").hide(),m.send({area:"submit",action:"unlogin-submit-error"})},authcode:t.authcode||null})}})}})}}}var l=e("common:widget/js/logic/ueditor/ueditor"),d=e("common:widget/js/util/event/event"),m=e("common:widget/js/util/log/log"),u=e("common:widget/js/logic/submit/submit"),h=e("common:widget/task/task-last"),g=e("common:widget/js/util/store/store"),p=e("common:widget/js/util/tangram/tangram"),v=e("common:widget/js/ui/dialog/dialog"),f=e("common:widget/js/ui/carousel/carousel"),b=""+F.context("page").qid,w=F.context("visitJoin"),_={ql:/browse(?:\/\d+(?:$|\?lm=2|\?[^lm])|$|\/$|\/\?lm=2)/i,ql_tab_hscore:/browse\/\d*\?lm\=4/,ql_tab_zero:/browse\/\d*\?lm\=8/,ql_tab_emergency:/browse\/\d*\?lm\=16/,zhuanti:/zhidao\.baidu\.com\/s\/([a-zA-Z0-9_\-]+)/,search:/zhidao\.baidu\.com\/search/},I=p("#visit-join-model-template"),y=null;!function(){var e,t=document.referrer,i="";for(var o in _)if(e=t.match(_[o])){i=o;break}if(i&&"zhuanti"==i&&(i=e[1]),!i){var a=p.url.queryToJson(location.search||"");a&&"uc_push"==a.fr&&(i="keyword"==a.push?"uc_tab_keyword":"category"==a.push?"uc_tab_class":"uc_tab_recommand")}var n=F.context("page").isFromWap,r=i+(parseInt(n,10)?";wap_question_replyed":"");F.context("extra",{title:r,answerfr:r})}(),function(){var e={home:/zhidao\.baidu\.com\/$/,browse:/zhidao\.baidu\.com\/browse/,ihome:/zhidao\.baidu\.com\/ihome(?!\/hangjia)/,qb:/zhidao\.baidu\.com\/question/,hangjia:/zhidao\.baidu\.com\/mavin\/home\/index/,team:/zhidao\.baidu\.com\/team/},t=location.href,i=document.referrer,o=p.url.getQueryValue(t,"entry")||"";if(""==o){for(var a in e)if(i.match(e[a])){o="qb_"+a+"_none";break}o=""==o?"qb_none_none":o}F.context("extra").entry=o}();var x=!1;i.exports=s});
;/*!question-new:widget/ask/editor-guide/editor-guide.js*/
define("question-new:widget/ask/editor-guide/editor-guide",function(i,e,d){var t,s,o=i("common:widget/js/util/tangram/tangram"),a=i("common:widget/js/util/tangram/cookie"),n=F.context("user"),r=+n.isBusiness;1===r?(t=['<ul class="editor-guide-ul">','<li><i class="editor-guide-num">1.</i>只回答提问表述清晰、规范的问题</li>','<li><i class="editor-guide-num">2.</i>首先回答提问者最关心的内容</li>','<li><i class="editor-guide-num">3.</i>适当延伸，丰富回答内容可以帮助更多人</li>','<li><i class="editor-guide-num">4.</i>层次清晰，步骤有序，为可读性高的回答点赞</li>','<li><i class="editor-guide-num">5.</i>总结、参考文献、图片...有理有据，让回答可信、易懂</li>',"</ul>"].join(""),s=["1.只回答提问表述清晰、规范的问题<br/>","2.首先回答提问者最关心的内容<br/>","3.适当延伸，丰富回答内容可以帮助更多人<br/>","4.层次清晰，步骤有序，为可读性高的回答点赞<br/>","5.总结、参考文献、图片...有理有据，让回答可信、易懂"].join("")):(t=['<p class="editor-guide-p">这样回答更易被提问者采纳：</p>','<ul class="editor-guide-ul">','<li><i class="editor-guide-circle"></i>围绕问题核心回答，无灌水和赘述</li>','<li><i class="editor-guide-circle"></i>坚持中立立场，态度友好</li>','<li><i class="editor-guide-circle"></i>加入自身经验见解，或知识扩充</li>',"</ul>"].join(""),s=["这样回答更易被提问者采纳：","围绕问题核心回答，无灌水和赘述","坚持中立立场，态度友好","加入自身经验见解，或知识扩充"].join("<br/>&#8226;&nbsp;")),t+='<div class="editor-guide-zhima"></div>';var l,u,c,g,h,m=function(i){i.addListener("focus",function(){if(!l){l=!0;var e=a.get("show_editor_guide");if("1"!==e){var d=o(i.container);c=o("<div/>").css({position:"absolute",right:-371,top:0,width:301}).addClass("editor-guide"),c.html(t+'<div class="editor-guide-arrow"></div>');var s=o("<a/>").addClass("editor-guide-know").html("我知道了"),n=o("<a/>").addClass("editor-guide-remind").html("不再提醒");c.append(s).append(n),c.appendTo(d);var r=function(i){c.remove(),"nevershow"===i&&a.set("show_editor_guide","1",{expires:864e5})};s.click(r),n.click(function(){r("nevershow")})}}}),i.addListener("fullscreenchanged",function(e,d){var s=o(i.container);if(!u){u=!0,g=o("<div/>").css({position:"absolute",right:-371,top:135,width:301}).addClass("editor-guide"),g.html(t);var a=o("<a/>").addClass("editor-guide-know").html("我知道了");g.append(a).appendTo(s).hide(),h=o("<a/>").addClass("editor-guide-anwser").html('<i class="editor-guide-how"></i>怎样答题'),h.click(function(){h.animate({right:-100},200,function(){g.css({display:"block",top:"auto",bottom:33}).animate({right:-2},500)})}),h.appendTo(s),h.animate({right:0},100),a.click(function(){g.animate({right:-371},500,function(){h.animate({right:0},200)})})}d?(g.css({right:-371}).show(),h.css({right:0}).show(),c&&c.hide()):(g.hide(),h.hide(),c&&c.show())})};m.content=s,d.exports=m});
;/*!question-new:widget/js/answer-dialog/answer-dialog.js*/
define("question-new:widget/js/answer-dialog/answer-dialog",function(require,exports,module){var $=require("common:widget/js/util/tangram/tangram"),imageScale=require("question-new:widget/image-scale/image-scale"),Dialog=require("common:widget/js/ui/dialog/dialog"),log=require("common:widget/js/util/log/log"),https=require("common:widget/js/util/https/https"),getEditor=require("question-new:widget/js/getEditor/getEditor"),editorGuide=require("question-new:widget/ask/editor-guide/editor-guide"),newDialog=require("common:widget/js/ui/newDialog/newDialog.es").default,answerDialog=function(opt){this.tmpl=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';if(eval(_template_varName),_template_fun_array.push('<div class="wad-close"><i class="iknow-icons">&#xe603;</i></div><div class="wad-scroll-content scrollbar-inner">    <p class="wad-title">',"undefined"==typeof data.title?"":data.title,'</p>    <div class="wad-con-wp">        '),data.contentTxt.length<120?_template_fun_array.push('            <span class="wad-con">',"undefined"==typeof data.content?"":data.content,"</span>        "):_template_fun_array.push('            <span class="wad-con">',"undefined"==typeof data.contentTxt.substr(0,120)?"":baidu.template._encodeHTML(data.contentTxt.substr(0,120)),'...</span>            <span class="wad-con-all" style="display:none;">',"undefined"==typeof data.content?"":data.content,'</span>            <a href="javascript:void(0)" class="wad-expend">展开<i class="i-incline-down ml-5"></i></a>        '),_template_fun_array.push("    </div>    "),""!=data.supContent&&_template_fun_array.push('    <p class="wad-supply">',"undefined"==typeof data.supContent?"":data.supContent,"</p>    "),_template_fun_array.push("    "),1==data.hasPic){_template_fun_array.push('        <div class="wad-img-wp">            '),data.imgUrl.length>0&&_template_fun_array.push('            <div class="wad-img-prev-wp">                <div class="wad-img-prev"><i class="iknow-icons">&#xe671;</i></div>            </div>            '),_template_fun_array.push('            <div class="wad-img-con">                <ul class="wad-img-ul">                    ');for(var i=0;i<data.imgUrl.length;i++)_template_fun_array.push('                        <li class="wad-img-li" data-src="',"undefined"==typeof data.imgUrl[i]?"":baidu.template._encodeHTML(data.imgUrl[i]),'">                            <img class="wad-img-item" src="',"undefined"==typeof data.imgUrl[i]?"":baidu.template._encodeHTML(data.imgUrl[i]),'">                        </li>                    ');_template_fun_array.push("                </ul>            </div>            "),data.imgUrl.length>0&&_template_fun_array.push('            <div class="wad-img-next-wp">                <div class="wad-img-next"><i class="iknow-icons">&#xe673;</i></div>            </div>            '),_template_fun_array.push("        </div>    ")}_template_fun_array.push('    <div id="ueditor-container" class="wad-textarea"></div></div>'),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0],opt.data&&(this.renderData={data:opt.data},this.opt=opt,this.isVideo=opt.isVideo,this.isVideo&&log.send({area:"qb-right-video-question",action:"click"}),this.init())};answerDialog.prototype={init:function(){this.opt.data.imgUrl=this.transImg(this.opt.data.imgUrl),this.hasCloseDialog=!1,this.bindEvent(),this.initDialog()},beforeJump:function(e,t){this.closeDialog(),$.isFunction(this.opt.callback)?this.opt.callback(t):null},beforeError:function(){$(".loading-layer").hide(),$(".layerBg").hide(),log.send({area:"submit",action:"submit-error",block:"right-block-question"})},transImg:function(e){return e&&e.length>0?e.map(function(e){return https.autoTrans(e)}):void 0},bindEvent:function(){var e=this;$.browser.isWebkit?window.addEventListener("beforeunload",e.pageUnload.bind(e)):window.onbeforeunload=function(t){t=t||window.event,e.pageUnload(t)}},initDialog:function(){var e=this;e.dialog=new Dialog({width:844,className:"waiting-answers-dialog opti-font",content:e.tmpl(e.renderData),closeOnEscape:!1,autoDispose:!0,open:function(){e.editor=e.editor||getEditor(editorGuide.content,"ueditor-container",!1,!0,e.beforeJump.bind(e),e.beforeError.bind(e),!1,{qid:e.opt.data.qid,title:e.opt.data.title,entry:"qb-right-video"},!0,330,!1),e.isVideo&&setTimeout(function(){e.editor.execCommand("newinsertvideo")},500),$(".wad-scroll-content").scrollbar({height:542}),$(".wad-close").click(function(){return e.editor.checkEditor({onlyCheckUploadingVideo:!0,dontCheckEmpty:!0})?void newDialog({el:".ui-dialog",text:"你还有正在上传的视频哦，是否继续上传？",confirmText:"继续",cancelText:"关闭",oncancel:function(){e.closeDialog()}}):e.editor.checkEditor({checkVideoStatus:!0,dontCheckEmpty:!0})?e.editor.checkEditor()?void newDialog({el:".ui-dialog",text:"您的回答还没有提交，确定要离开？",confirmText:"提交",cancelText:"关闭",onaccept:function(){$("#ueditor-container .new-editor-deliver-btn").click()},oncancel:function(){e.closeDialog()}}):void e.closeDialog():void newDialog({el:".ui-dialog",text:"你上传的视频回答还没有提交哦，是否提交回答？",confirmText:"提交",cancelText:"取消",onaccept:function(){$("#ueditor-container .new-editor-deliver-btn").click()},oncancel:function(){e.closeDialog()}})}),e.renderData.data.hasPic&&setTimeout(function(){e.initSlider()},1e3)}})},closeDialog:function(){this.dialog.close(),window.removeEventListener("beforeunload",this.pageUnload.bind(this)),this.hasCloseDialog=!0},initSlider:function(){var e=$(".wad-img-ul"),t=$(".wad-img-con"),i=e.width(),a=t.width();a>=i&&($(".wad-img-prev-wp").remove(),$(".wad-img-next-wp").remove()),$(".wad-img-next").on("click",function(){var t=e.position().left;e.animate(i+t>=2*a?{left:"-"+(a-t)+"px"}:{left:"-"+(i-a)+"px"})}),$(".wad-img-prev").on("click",function(){var t=e.position().left;e.animate(-a>=t?{left:t+a+"px"}:{left:"0px"})}),imageScale.init(".wad-img-item")},pageUnload:function(){if(!this.hasCloseDialog&&this.editor.checkEditor()){var e="";return this.editor.checkEditor({onlyCheckUploadingVideo:!0,dontCheckEmpty:!0})?(e="你还有正在上传的视频哦，是否继续上传？",event.returnValue=e,e):this.editor.checkEditor({checkVideoStatus:!0,dontCheckEmpty:!0})?this.editor.checkEditor()?(e="请注意：您的编辑内容还没有进行保存!",event.returnValue=e,e):!1:(e="你上传的视频回答还没有提交哦，是否提交回答？",event.returnValue=e,e)}},errorTip:function(e){$(".wad-error-tips").html(e).show()}},module.exports=answerDialog});
;/*!question-new:widget/push/push.js*/
define("question-new:widget/push/push",function(require,exports,module){var $=require("common:widget/js/util/tangram/tangram"),log=require("common:widget/js/util/log/log"),popTip=require("common:widget/js/ui/pop-tip/pop-tip"),AnswerDialog=require("question-new:widget/js/answer-dialog/answer-dialog"),https=require("common:widget/js/util/https/https"),Incentive=require("common:widget/js/logic/incentive-user/incentive-user"),clamp=require("question-new:widget/push/Clamp"),HEAD=["你可能擅长的问题","你在相关问题下获得过赞同","你被邀请回答","试试帮忙解答"];module.exports={init:function(page){var me=this;me.authcode=null,me.wrapper=$(".wgt-push"),me.listTmpl=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push("");for(var i=0;i<list.length;i++){if(_template_fun_array.push('    <li class="line"  data-index="',"undefined"==typeof i?"":baidu.template._encodeHTML(i),'">        <div class="push-item-el push-item smooth">                        '),(list[i].score>0||list[i].hasPic||list[i].isVideo)&&(_template_fun_array.push('                <div class="push-item-icons">                    '),list[i].score>0&&_template_fun_array.push('                        <i class="iknow-icons wealth-icon push-item-el">&#xe652;</i>                        <span class="wealth-span push-item-el">',"undefined"==typeof list[i].score?"":baidu.template._encodeHTML(list[i].score),"</span>                    "),_template_fun_array.push("                    "),list[i].hasPic&&!list[i].isVideo&&_template_fun_array.push('                        <i class="iknow-icons pic-icon push-item-el">&#xe65e;</i>                    '),_template_fun_array.push("                    "),list[i].isVideo&&_template_fun_array.push('                        <span class="video-icon"></span>                    '),_template_fun_array.push("                </div>            ")),_template_fun_array.push('            <a log="action:click,area:wgt-push-question,module:question,page:question"                target="_blank" class="push-item-link no-video" title="',"undefined"==typeof list[i].title?"":baidu.template._encodeHTML(list[i].title),'"                href="/question/',"undefined"==typeof list[i].qid?"":baidu.template._encodeHTML(list[i].qid),"?push=4&entry="),_template_fun_array.push(isNewAnswer?"qb_qb_answernew":"83001"===F.context("page").adsAll.adsEids.join(",")?"qb_qb_wait2refer_newpc_exp":4==i?"qb_qb_wait2refer_discuss":"qb_qb_wait2refer"),_template_fun_array.push('"            >',"undefined"==typeof list[i].title?"":list[i].title,'</a>            <div class="push-item-info">                '),list[i].userList&&list[i].userList.length){_template_fun_array.push("                    ");for(var j=list[i].userList.length-1;j>=0;j--)_template_fun_array.push('                        <img src="',"undefined"==typeof list[i].userList[j]?"":baidu.template._encodeHTML(list[i].userList[j]),'" class="push-item-user-img">                    ');_template_fun_array.push("                <span>等</span>")}_template_fun_array.push('<span class="push-item-usernum">',"undefined"==typeof list[i].pv?"":baidu.template._encodeHTML(list[i].pv),'</span><span>人想问</span>            </div>            <div class="push-item-btn"  data-index="',"undefined"==typeof i?"":baidu.template._encodeHTML(i),'"><i class="iknow-icons">&#xe665;</i><span class="smooth">我来答</span></div>        </div>    </li>')}_template_fun_array.push(""),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0],me.videoListTmpl=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push("");for(var i=0;i<list.length;i++){if(_template_fun_array.push('    <li class="line video"  data-index="',"undefined"==typeof i?"":baidu.template._encodeHTML(i),'">        <div class="title video">',"undefined"==typeof list[i].head?"":baidu.template._encodeHTML(list[i].head),'</div>        <div class="push-item-el push-item smooth video">                        '),(list[i].score>0||list[i].hasPic||list[i].isVideo)&&(_template_fun_array.push('                <div class="push-item-icons-video">                    '),list[i].hasPic&&!list[i].isVideo&&_template_fun_array.push('                        <i class="iknow-icons pic-icon-video push-item-el">&#xe65e;</i>                    '),_template_fun_array.push("                    "),list[i].isVideo&&_template_fun_array.push('                        <span class="video-icon"></span>                    '),_template_fun_array.push("                </div>            ")),_template_fun_array.push('            <a log="action:click,area:wgt-push-video-question,module:question,page:question"                target="_blank" class="push-item-link video" title="',"undefined"==typeof list[i].title?"":baidu.template._encodeHTML(list[i].title),'"                rel="noopener"                href="/question/',"undefined"==typeof list[i].qid?"":baidu.template._encodeHTML(list[i].qid),"?push=4&entry="),_template_fun_array.push(isVideo?"qb_right_videoquestion":isNewAnswer?"qb_qb_answernew":"83001"===F.context("page").adsAll.adsEids.join(",")?"qb_qb_wait2refer_newpc_exp":4==i?"qb_qb_wait2refer_discuss":"qb_qb_wait2refer"),_template_fun_array.push('"            >',"undefined"==typeof list[i].title?"":list[i].title,""),list[i].score>0&&_template_fun_array.push('                <i class="iknow-icons wealth-icon push-item-el">&#xe652;</i>                <span class="wealth-span push-item-el">',"undefined"==typeof list[i].score?"":baidu.template._encodeHTML(list[i].score),"</span>            "),_template_fun_array.push('</a>            <div class="push-item-info video">                '),list[i].userList&&list[i].userList.length){_template_fun_array.push("                    ");for(var j=list[i].userList.length-1;j>=0;j--)_template_fun_array.push('                        <img src="',"undefined"==typeof list[i].userList[j]?"":baidu.template._encodeHTML(list[i].userList[j]),'" class="push-item-user-img">                    ');_template_fun_array.push("                <span>等</span>")}_template_fun_array.push('<span class="push-item-usernum">',"undefined"==typeof list[i].pv?"":baidu.template._encodeHTML(list[i].pv),'</span><span>人想知道</span>            </div>            <div class="push-item-btn video"  data-index="',"undefined"==typeof i?"":baidu.template._encodeHTML(i),'"><div class="iknow-icons-video"></div><span class="smooth-video">上传视频</span></div>        </div>    </li>')}_template_fun_array.push(""),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0],me.firstFlag=!1,me.isNewAnswer="replyer"===page,me.fetchData(),me.bindEvents(),log.addKey({push:"1"})},fetchData:function(){var e=this;e.wrapper.find(".push-ul").addClass("hidden");var i={newAnswer:e.isNewAnswer?1:0,qid:F.context("page").qid,entry:F.context("extra").entry,t:+new Date};e.firstFlag||($.extend(i,{t:+new Date,pn:1}),e.firstFlag=!0),$.ajax({url:"/question/api/recommend",data:i,dataType:"json",type:"get"}).done(function(i){i&&"object"===$.type(i)&&(i.isVideo&&log.send({area:"qb-right-video-question",action:"pv"}),i.list&&i.list.length>0&&(i.isNewAnswer=e.isNewAnswer,$.each(i.list,function(e,i){if(i.avatar=https.autoTrans(i.avatar),i.head=HEAD[Math.round(3*Math.random())],i.userList)for(var t=0;t<i.userList.length;t++)i.userList[t]=https.autoTrans(i.userList[t])}),setTimeout(function(){e.renderList(i)},500)))})},renderList:function(e){this.wrapper.removeClass("hidden"),this.data=e.list,e.isVideo?(this.wrapper.find(".wgt-push-title .hd.line").text("视频答题"),this.wrapper.find(".wgt-push-title .wgt-push-change").hide(),this.isVideo=!0,this.wrapper.find(".push-ul").html(this.videoListTmpl(e)).removeClass("hidden"),"1"===F.context("user").isLogin&&this.wrapper.find(".wgt-push-golist").attr("href","/ihome/homepage/videoquestion"),document.querySelectorAll(".push-item-link.video").forEach(function(e){clamp(e,{clamp:2})})):this.wrapper.find(".push-ul").html(this.listTmpl(e)).removeClass("hidden"),this.wrapper.find(".wgt-push-change").removeClass("loading")},bindEvents:function(){var e=this;e.wrapper.on("click",".push-item-btn",function(){var i=$(this);if(!i.hasClass("disable")){log.send({module:"question",page:"question",area:"qbview-bottom-wait-answer-submit",action:"click",isVideo:e.isVideo?1:0});var t=i.data("index");if(e.data[t]){var a;a=4===t?"qb_qb_wait2_discuss":"qb_qb_wait2",e.dialog=new AnswerDialog({isVideo:e.isVideo,entry:a,data:e.data[t],callback:function(t){log.send({module:"question",page:"question",area:"qbview-bottom-wait-answer-submit-success",action:"pv"}),t&&t.aid&&t.qid&&(e.isVideo&&(t.isVideo=1),Incentive.init(t,function(){popTip("提交成功")})),i.find("span").text("已回答").parent().addClass("disable"),i.find(".iknow-icons-video").hide()}})}}}).on("click",".wgt-push-change",function(){$(this).hasClass("loading")||(log.send({module:"question",page:"question",area:"qbview-bottom-wait-answer-change",action:"click"}),$(this).addClass("loading"),e.fetchData())})}}});
;/*!question-new:widget/value-comment/value-comment.js*/
define("question-new:widget/value-comment/value-comment",function(e,t,n){{var i=e("common:widget/js/util/tangram/tangram"),a=e("question-new:widget/js/comment/comment"),o=e("question-new:widget/js/evaluate/evaluate");e("common:widget/js/util/log/log")}n.exports.init=function(e,t,n,l){var u=null,s=null,m=i("#comment-"+e),c=i("#wgt-eva-"+e);c.size()&&(s=new o({type:0,target:c,logKey:l||"",evaluateDisable:0===+n?!1:!0})),m.size()&&(u=new a({target:m,evaTarget:c,logKey:l||"",checkEva:function(){this.isEvaluated=s&&s.isEvaluated||t,"0"===this.isEvaluated&&(this.isEvaluated=!1)}})),i(document).on("click",function(){c.find(".eva_tooltip").hide()})}});
;/*!question-new:widget/related/related.js*/
define("question-new:widget/related/related",function(e,t,a){{var n=e("common:widget/js/util/tangram/tangram"),d=e("common:widget/js/util/log/log"),i=(e("common:widget/js/util/event/event"),e("common:widget/js/logic/file-type/file-type"));e("question-new:widget/js/ck/ck")}a.exports=function(e){n("#wgt-related .file-unknow-1").each(function(){var e=i(n(this).html()).fileClass;n(this)[0].className=e+"-1"}),e.relatedLogType&&d.addKey({relate_type:e.relatedLogType}),e.isRelatedLog&&d.addKey({piCount:n(".related-link-pi").size(),jxCount:n(".related-link-jx").size(),qyCount:n(".related-link-qy").size(),zdCount:n(".related-link-zd").size()}),d.addKey({relate:"1"});var t=[];n("#wgt-related a[data-qid]").each(function(){t.push(n(this).data("qid"))}),F.context("page").relateQids=t.join("_"),n("#wgt-related .wenku").length&&d.addKey({relateWenku:1,wenkuLength:n("#wgt-related .wenku").length})};var l=n(".ec-oad","#wgt-related");if(l.size()){var o=d.parse(l.find("a").data("log")),r=l.data("href");r&&(r+="&attach="+encodeURIComponent("r="+o.si),d.log(r)),d.addKey({related_ecoad_show:1}),l.find("a").each(function(){this.href+=(2==o.st?"&us=":"&attach=")+encodeURIComponent("r="+o.si)})}});
;/*!question-new:widget/dom-ready/dom-ready.js*/
define("question-new:widget/dom-ready/dom-ready",function(n,e,t){var o=(n("common:widget/js/util/tangram/tangram"),n("common:widget/js/util/log/log"));t.exports={init:function(){o.send({page:"question",action:"entrance"})}}});
;/*!question-new:widget/replyer-all/replyer-all.es.js*/
define("question-new:widget/replyer-all/replyer-all.es",function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function r(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,a){for(var t=0;t<a.length;t++){var l=a[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(a,t,l){return t&&e(a.prototype,t),l&&e(a,l),a}}(),o=e("common:widget/js/util/tangram/tangram"),i=l(o),s=e("common:widget/js/util/event/event"),d=l(s),u=e("common:widget/js/util/log/log"),f=l(u),c=e("common:widget/js/ui/pop-tip/pop-tip"),h=l(c),w=e("common:widget/js/ui/v-flash/js/flash.es"),g=l(w),p=function(){function e(a){r(this,e),this.target=i.default(a),this.userCard=this.target.find(this.target.find(".wgt-replyer-all-card").length?".wgt-replyer-all-card":".level-rank-container"),this.isGradeRank=this.target.find(".level-rank-container").length,this.mavinStarCard=this.target.find(".wgt-replyer-star-card"),this.cardStatus="hide",this.shouldHideCard=!0,this.hoverObj=".wgt-replyer-all-avatar, .wgt-replyer-all-uname, .wgt-replyer-all-v, .level-rank",this.target.find(".wgt-replyer-all-card-avatar-wrap").height(this.userCard.height()),this.bindEvent();new g.default(".v-flash-red")}return n(e,[{key:"bindEvent",value:function(){var e=this;this.target.on("click",".wgt-replyer-all-avatar, .wgt-replyer-all-uname,          .wgt-replyer-all-card-avatars, .wgt-replyer-all-card-names, .wgt-replyer-star-model",function(){(i.default(this).hasClass("wgt-replyer-all-avatar")||i.default(this).hasClass("wgt-replyer-all-uname"))&&f.default.send({area:"newuserinfo",action:"click"});var e=i.default(this).data("href");if(e){var a=window.open();a.opener=null,a.location.href=e}}).on("mouseenter",e.hoverObj,function(a){var t=i.default(a.currentTarget);"hide"===e.cardStatus&&(t.hasClass("wgt-replyer-all-v")?e.mavinStarCard.show():e.userCard.show(),e.cardStatus="show")}).on("mouseleave",e.hoverObj,function(){setTimeout(function(){"show"===e.cardStatus&&e.shouldHideCard&&(e.userCard.hide(),e.mavinStarCard.hide(),e.cardStatus="hide")},300)}).on("mouseenter",".wgt-replyer-all-card, .wgt-replyer-star-card, .level-rank-container",function(){var a=i.default(this);e.shouldHideCard=!1,e.isGradeRank&&f.default.send({area:"level-rank-dialog",userlevel:a.data("level"),action:"click"})}).on("mouseleave",".wgt-replyer-all-card, .wgt-replyer-star-card, .level-rank-container",function(){i.default(this).hide(),e.shouldHideCard=!0,e.cardStatus="hide"}).on("mouseenter",".wgt-replyer-all-follow",function(){i.default(this).data("follow")&&i.default(this).text("取消关注")}).on("mouseleave",".wgt-replyer-all-follow",function(){i.default(this).data("follow")&&i.default(this).text("已关注")}).on("click",".wgt-replyer-all-follow",function(){var e=i.default(this),a=e.data("flag"),t=e.data("type"),l=e.data("gtype"),r={},n="",o=e.next(".follow-animation");return"business"===t?(n="/business/submit/follow",r={businessId:e.data("businessid")}):(n="/usercenter/submit/"+(e.data("follow")?"delrelation":"addrelation"),r={type:1,forUid:e.data("uid")}),a?void 0:(e.data("flag",1),f.default.send({area:"question-author-follow",gtype:l,action:"click"}),+F.context("user").isLogin?void i.default.ajax({url:n,type:"POST",data:r,success:function(a){a&&!a.errno?(e.data("follow")?(e.data("follow",0).removeClass("followed pause").text("关注"),h.default("取消关注成功，将不会接收该用户在百度知道等百度业务的动态")):(e.data("follow",1).addClass("followed").html("已关注"),o.attr("src",o.data("src")+"?t="+(new Date).getTime()).show(),setTimeout(function(){o.hide()},3400)),f.default.send({area:"qbfollow",action:"click",bid:"business"===t?e.data("businessid"):0,isFollow:e.data("follow"),gtype:l})):13001===+a.errno&&"pgc"===l?(e.data("follow",1).addClass("followed").html("已关注"),h.default("已关注此人")):h.default(17020===+a.errno&&"pgc"===l?"您已达到5000的关注上限":14===+a.errno?"暂无法关注此人":a.errmsg||"关注失败"),e.data("flag",0)},error:function(){h.default("网络错误")}}):void d.default.fire("login.log"))})}}]),e}();t.exports=p});
;/*!question-new:widget/read-opt/img-preview/preview.js*/
define("question-new:widget/read-opt/img-preview/preview",function(e,t,s){function o(e){this.options={xOffset:20,yOffset:-20,maxWidth:"100",maxHeight:"100"},i.extend(this.options,e),this.$el=i(e.$el),this.init()}var i=e("common:widget/lib/jquery/jquery");o.prototype.init=function(){var e=this;e.$el.each(function(){i(this).hover(function(t){t.preventDefault();var s=i(this),o=e.options.imgAttr,a="",n=e.options.xOffset,p=e.options.yOffset,r=i(window).width();/^\s*data-/.test(o)?(o=i.trim(o.replace(/^\s*data-/g,function(){return""})),a=s.data(o)):a=s.attr(o);var g=new Image;g.onload=function(){var e=i('<div class="preImg-mask"><img src="'+a+'"/></div>');i("body").append(e),i(".preImg-mask").css({position:"absolute",padding:"4px",border:"1px solid #f3f3f3",backgroundColor:"#e8ecee",top:t.pageY-p+"px",zIndex:1e3}),t.pageX<r/2?i(".preImg-mask").css({left:t.pageX+n+"px",right:"auto"}).fadeIn("slow"):i(".preImg-mask").css("right",r-t.pageX+n+"px").css("left","auto").fadeIn("slow"),g.onload=null,g=null},g.src=a,s.mousemove(function(e){i(".preImg-mask").css("top",e.pageY-p+"px"),e.pageX<r/2?i(".preImg-mask").css("left",e.pageX+n+"px").css("right","auto"):i(".preImg-mask").css("right",r-e.pageX+n+"px").css("left","auto")})},function(){i(".preImg-mask").remove(),i(this).mousemove=null})})},s.exports=o});
;/*!question-new:widget/mask/mask.es.js*/
define("question-new:widget/mask/mask.es",function(e,n,t){"use strict";var o=e("common:widget/js/util/event/event"),i=e("common:widget/lib/jquery/jquery"),s=function(e){e.preventDefault()};t.exports={target:i("#js-mask"),init:function(){this.bindEvents()},bindEvents:function(){var e=i(window),n=this;o.on("showMask",function(){e.on("mousewheel",s),e.on("DOMMouseScroll",s),n.target.show()}).on("hideMask",function(){n.target.hide(),e.off("mousewheel",s),e.off("DOMMouseScroll",s)})}}});
;/*!question-new:widget/view/accusation/accusation.es.js*/
define("question-new:widget/view/accusation/accusation.es",function(t,e,i){"use strict";var n=t("common:widget/js/util/event/event"),s=t("common:widget/lib/jquery/jquery"),c=t("common:widget/js/ui/dialog/dialog");i.exports={target:s("#js-accuse"),init:function(){this.bindEvents()},initParams:function(t){{var e=t.itemid,i=t.typeid,n=t.userid,s=t.qid;this.target}0===i?F.context("accusePostData",{type:1,qid:e,rid:0,uid:n}):F.context("accusePostData",{type:2,qid:s,rid:e,uid:n})},bindEvents:function(){var t=this,e=this.target,i=e.find("#js-accuse-closebtn"),o=e.find("#js-accuse-btn-cancel"),a=e.find("#js-accuse-btn-submit"),d=e.find("#js-accuse-content"),u=e.find("#js-accuse-words-current"),r=e.find("#js-errmsg"),l="selected",m="disabled",f=function(){e.find(".js-accuse-type-item").removeClass(l),a.addClass(m),d.val(""),u.html(0)};n.on("action-accuse-show",function(i,s){t.initParams(s.params),e.show(),n.fire("showMask")}).on("action-accuse-close",function(){e.hide(),f(),n.fire("hideMask")});var w=function(){n.fire("action-accuse-close")};i.on("click",w),o.on("click",w),a.on("click",function(t){if(a.hasClass(m))return void t.preventDefault();var n=e.find(".js-accuse-type-item."+l).data("reason"),o=F.context("accusePostData");o.reason=n,o.content=d.val().trim(),o.from="pc",s.ajax({url:"/submit/index/report",type:"POST",dataType:"json",data:o,cache:!1,success:function(t){var e=t.errno,n=t.errmsg;switch(i.trigger("click"),e){case 0:new c({content:'<div class="ui-dialog-content-title">举报成功</div><div class="ui-dialog-content-text">工作人员会在48小时内处理<br />处理结果请关注系统通知<br />感谢您对百度知道的支持</div>',width:300,height:170,className:"ui-question-widget",close:function(){window.location.reload(!0)},autoDispose:!0}),setTimeout(function(){c.close()},2e3);break;case 4:new c({content:"您的当日举报量已超上限，感谢您的百度知道的支持。",width:300,height:100,className:"ui-question-widget",close:function(){window.location.reload(!0)},autoDispose:!0});break;case 5:var s=1===o.type?"问题":"回答";new c({content:'<div class="ui-dialog-content-title">您已经举报了该'+s+'</div><div class="ui-dialog-content-text">我们会尽快处理，请不要重复举报</div>',width:300,height:120,className:"ui-question-widget",close:function(){window.location.reload(!0)},autoDispose:!0}),setTimeout(function(){c.close()},2e3);break;default:new c({content:n,width:300,height:100,className:"ui-question-widget",close:function(){window.location.reload(!0)},autoDispose:!0})}}})}),e.on("click",".js-accuse-type-item",function(t){e.find(".js-accuse-type-item").removeClass(l);var i=s(t.target),n=d.val().trim().length;i.addClass(l),500>=n&&a.removeClass(m)}).on("click",".tort-entry",function(){var t=F.context("accusePostData");t&&(1===t.type?window.open("/misc/tortreportcontentlist?qid="+t.qid+"&type=1"):2===t.type&&window.open("/misc/tortreportcontentlist?qid="+t.qid+"&rid="+t.rid+"&type=2"),n.fire("action-accuse-close"))}),d.on("input",function(){var t=d.val().trim().length;u.html(t);var i=t-200;i>0?(r.html("您已超出"+i+"个文字"),a.addClass(m)):(r.html(""),e.find(".js-accuse-type-item").hasClass(l)&&a.removeClass(m))})}}});
;/*!question-new:widget/ad-header/ad-header.js*/
define("question-new:widget/ad-header/ad-header",function(t,e,o){function n(t){return 1400>l&&h.size()>0?void u(".adTopImg").remove():void(c.length>0&&(a.addKey({hasFybword:1}),f=t.hotList,f&&f.length>0&&d()))}function i(){var t=f[w++%f.length].keyword,e="https://www.baidu.com/baidu?rsv_dl=fyb_n_zhidaoqb&word="+t;c.text(t),c.attr("href",e)}function d(){i(),r(function(){i()},3e3)}function r(t,e,o){var n=function(){if("undefined"==typeof o||o-->0){setTimeout(n,e);try{t.call(null)}catch(i){throw o=0,i.toString()}}};setTimeout(n,e)}var u=t("common:widget/lib/jquery/jquery"),a=t("common:widget/js/util/log/log"),f=[],w=0,c=u(".from-fyb"),h=u("#no-username-set"),l=u(window).width();o.exports.init=n});
;/*!question-new:widget/header-title/header-title.es.js*/
define("question-new:widget/header-title/header-title.es",function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("common:widget/js/util/tangram/tangram"),s=n(o),r=t("common:widget/js/util/log/log"),h=n(r),d=function(){function t(){a(this,t),this.$win=s.default(window),this.$searchBox=s.default(".head-wrap .search-block"),this.$headTitle=s.default(".wgt-header-title .wgt-header-title-content"),this.$title=s.default(".wgt-ask .ask-title"),this.preScrollTop=0,this.bindEvent()}return l(t,[{key:"toggle",value:function(){"down"===this.status?(this.$searchBox.hide(),s.default(".wgt-header-title").addClass("wgt-header-title-shadow"),this.$headTitle.fadeIn(),this.firstShow||h.default.send({area:"wld-top-exp-tip",action:"pv"}),this.firstShow=1):(this.$headTitle.hide(),s.default(".wgt-header-title").removeClass("wgt-header-title-shadow"),this.$searchBox.fadeIn())}},{key:"bindEvent",value:function(){var t=this,e=this.debounce(s.default.proxy(this.scrollFn,this),50,55);this.$win.on("scroll.toggleHeader",e),this.$headTitle.find(".wgt-header-title-btn").on("click",function(){s.default("#answer-bar").size()&&(s.default(window).scrollTop(0),h.default.send({area:"top-have-better-answer-btn",action:"click"}),s.default("#answer-bar").trigger("click"))}),this.$headTitle.find(".exp-topwld-tip-close").on("click",function(){t.$headTitle.find(".exp-topwld-tip").hide()})}},{key:"scrollFn",value:function(){var t=this.$win.scrollTop();this.$title.length&&(t>this.$title.offset().top+this.$title.height()-50&&t>this.preScrollTop&&"down"!==this.status?(this.status="down",this.toggle()):t<this.preScrollTop&&"up"!==this.status&&!F.context("answerFoldingFlag")&&(this.status="up",this.toggle()),this.preScrollTop=t)}},{key:"debounce",value:function(t,e,i){var n=void 0,a=(new Date).getTime();return function(){var l=(new Date).getTime();l-a>=i?(clearTimeout(n),a=l,t()):(clearTimeout(n),n=setTimeout(t,e))}}}]),t}();i.exports=d});
;/*!question-new:widget/newbest/newbest-init.js*/
define("question-new:widget/newbest/newbest-init",function(e,t,n){var o=e("common:widget/lib/jquery/jquery"),i=e("common:widget/js/util/log/log"),s=e("question-new:widget/js/share/share"),a=e("common:widget/js/util/event/event"),d=e("question-new:widget/js/trans-video/trans-video"),w=e("question-new:widget/js/trans-yun/trans-yun"),r=e("question-new:widget/js/confusion-answer/confusion-answer"),u=o(window),c=o("#qb-content"),h=o(".wgt-best"),g=o(".wgt-best .best-text"),l=g.find(".wgt-best-mask"),b=o(".wgt-best .wgt-best-operator"),p=750,f=300;n.exports={init:function(){var e=/\d+/.exec(h.attr("id"));this.bindBlurDom(e),this.bindEvents(),s.init({target:h.find(".share-area"),pageUrl:"http://zhidao.baidu.com/question/"+F.context("page").qid,title:document.title,rid:e?e[0]:null,logOpt:{project:"new-qb-share",postion:"new-share-best"}});new d("wgt-best");w.init("wgt-best")},bindBlurDom:function(e){if(e.length){var t={rid:e[0],el:o(document.getElementById("best-content-"+e[0])),separateReg:F.context("answers")[e[0]].saltWords&&"("+F.context("answers")[e[0]].saltWords.split("_").join("|")+")"};r.initConfusionAnswer(t),r.initCopyEvent(t)}},bindEvents:function(){o(".wgt-best").on("click",".wgt-best-showbtn",function(){i.send({area:"show-hide-answer-best",action:"click"}),g.data("showstatus","show"),g.data("preScrollPos",o(window).scrollTop()),g.height(g.data("oriheight")),l.hide(),b.find(".wgt-best-hidebtn").show()}).on("click",".wgt-best-hidebtn",function(){g.data("showstatus","hide"),g.height(p),l.show(),o(this).hide(),b.removeClass("fixed"),u.off("resize.operatorFixed"),b.css("width","auto"),o(window).scrollTop()>g.data("preScrollPos")&&(F.context("answerFoldingFlag",!0),o(window).scrollTop(g.data("preScrollPos")),setTimeout(function(){F.context("answerFoldingFlag",!1)},500))}).on("click",".wgt-best-open-wenku",function(){i.send({area:"open-wenku-answer-best",action:"click",wenkuid:g.find(".wgt-best-open-wenku").data("wenkuid"),docType:g.find(".wgt-best-open-wenku").data("doctype")})}),a.on("pageLoaded",function(){var e=g.height();g.data("oriheight",e),g.data("showstatus","hide"),(e>p||e>f&&g.find(".wgt-best-open-wenku").data("wenkuid"))&&(i.send({area:"answer-hascut-best",action:"pv",wenkuid:g.find(".wgt-best-open-wenku").data("wenkuid"),docType:g.find(".wgt-best-open-wenku").data("doctype")}),F.context("answerHasFolder",!0),g.height(g.find(".wgt-best-open-wenku").data("wenkuid")?f:p),g.find(".wgt-best-mask").show())}),o(window).scroll(this.debounce(o.proxy(this.operatorFixed,this),50,55))},operatorFixed:function(){if("show"===g.data("showstatus")){var e=u.height(),t=u.scrollTop(),n=g.offset().top,o=e+t-n;o>p&&o<g.height()?(b.addClass("fixed"),b.width(c.outerWidth()),u.on("resize.operatorFixed",this.debounce(function(){b.width(c.outerWidth())},50,55))):(b.removeClass("fixed"),u.off("resize.operatorFixed"),b.css("width","auto"))}},debounce:function(e,t,n){var o,i=(new Date).getTime();return function(){var s=(new Date).getTime();s-i>=n?(clearTimeout(o),i=s,e()):(clearTimeout(o),o=setTimeout(e,t))}}}});
;/*!question-new:widget/ask/search-relate/search-relate.js*/
define("question-new:widget/ask/search-relate/search-relate",function(e,t,a){function s(){c.addKey({searchRelateNew:1}),n(".wgt-search-relate .word").on("click",function(){if(n(this).hasClass("word-search")){c.send({page:"question",area:"search-relate-word-search",action:"click",type:2014});var e=n(".wgt-search-relate .word.selected"),t=window.F.context("page").title;if(e.length){var a=[];n.each(e,function(e,t){a.push(n(t).find(".word-text").text())}),t=a.join(" ")}window.open("http://www.baidu.com/s?wd="+encodeURIComponent(t)+"&ie=utf-8&tn=SE_PCzhidaosszl_6wvraksp","_blank")}else n(this).hasClass("selected")?(n(this).removeClass("selected"),c.send({page:"question",area:"search-relate-word-cancel",action:"click",type:2014})):(n(this).addClass("selected"),c.send({page:"question",area:"search-relate-word-add",action:"click",type:2014}))})}var n=e("common:widget/js/util/tangram/tangram"),c=e("common:widget/js/util/log/log");a.exports.init=s});
;/*!question-new:widget/iknow-lightning-right/iknow-lightning-right-async.js*/
define("question-new:widget/iknow-lightning-right/iknow-lightning-right-async",function(i,n,t){var g=i("common:widget/js/util/tangram/tangram"),o=i("common:widget/js/util/log/log");t.exports={init:function(i){o.addKey({lightningId:i.lid}),g(".iknow-lightning-right-info a").click(function(){o.send({area:"company",action:"click"})}),g(".iknow-lightning-right-btns a").click(function(){var i=g(".iknow-lightning-right-btns a").index(g(this));o.send({area:"company-tag",si:i,action:"click"})}),g(".iknow-lightning-right-product a").click(function(){var i=g(".iknow-lightning-right-product a").index(g(this));o.send({area:"product-list",si:i,action:"click"})})}}});
;/*!question-new:widget/knowledge-answer/knowledge-answer.js*/
define("question-new:widget/knowledge-answer/knowledge-answer",function(e,n,t){{var o=e("common:widget/js/util/tangram/tangram"),a=e("common:widget/js/util/log/log");e("question-new:widget/js/ck/ck")}t.exports={init:function(){a.addKey({knowledgeAnswer:1});var e=o("#knowledge-answer"),n=a.parse(e.find("a").data("log")),t=e.data("href");t&&(t+="&attach="+encodeURIComponent("r="+n.si),a.log(t)),e.find("a").each(function(){this.href+=(2===n.st?"&us=":"&attach=")+encodeURIComponent("r="+n.si)})}}});
;/*!question-new:widget/js/video/video.js*/
define("question-new:widget/js/video/video",function(i,t,a){function e(i,t){var a=null;return a="baidu"===i?['<iframe src="',t,'" frameborder=0 scrolling="no" width="500" height="450" class="ikqb-vedio-iframe"></iframe>']:['<embed type="application/x-shockwave-flash" class="BDE_Flash"',' src="',t,'"',' width="500" height="450" scale="noborder" allowscriptaccess="never" menu="false" loop="loop" play="true" womode="transparent"',' pluginspage="http://www.macromedia.com/go/getflashplayer"',' allowfullscreen="true" flashvars="playMovie=true&amp;auto=1&amp;adss=0&amp;isAutoPlay=true" style="visibility: visible; display: block;">'],a.join("")}function o(){r.addKey({"video-count":s("video.edui-faked-video").length}),s("body").on("click",".video-img",function(){if("https:"===location.protocol){var i=location.href;return r.send({type:2014,page:"question",area:"video-img",action:"click",play:"click"}),void(location.href=i.replace("https:","http:")+(~i.indexOf("?")?"&":"?")+"http_skip=1&iconplay="+s(this).data("index"))}var t=s(this),a=t.parent(),o=a.data("type"),d=a.data("swf"),l=e(o,d);t.replaceWith(l),r.send({type:2014,page:"question",area:"video-img",action:"click"})}),s("body").on("click",".video-wp .video-fr a",function(){r.send({type:2014,page:"question",area:"video-fr",action:"click"})}),s("video.edui-faked-video").each(function(i){$this=s(this);var t=$this.attr("data_img"),a=$this.attr("data_src"),e=$this.attr("data_type"),o=$this.attr("data_swf"),c=$this.attr("data_title"),n=($this.attr("data_time"),$this.attr("data_def")),p=(Number(n)?"show":"",['<div class="video-wp" data-src="',a,'" data-type="',e,'" data-swf="',o,'">','<div class="video-img video-img-'+i+'" data-index="'+i+'">','<a href="javascript:void(0);" class="icon-play"></a>','<div class="video-maxheight"><img src="',t,'"><div class="video-title">',d(c,20),"</div></div>","</div>",'<div class="video-fr"><b></b>视频来自：<a target="_blank" href="',a,'">',l[e],"</a></div>","</div>"]);$this.replaceWith(p.join("")),"http:"===location.protocol&&~location.href.indexOf("iconplay=")&&s(function(){var i=location.href.split("iconplay=")[1];i=parseInt(i,10),s(".video-img-"+i).trigger("click"),r.send({type:2014,page:"question",area:"video-fr",action:"click",play:"auto"})})})}var s=i("common:widget/js/util/tangram/tangram"),d=i("common:widget/js/util/suffix-str/suffix-str"),r=i("common:widget/js/util/log/log"),l={tudou:"土豆",iqiyi:"爱奇艺",youku:"优酷",sohu:"搜狐视频",qq:"腾讯视频",letv:"乐视网",baidu:"百度视频"};a.exports.init=o});