define("question-new:widget/js/trans-yun/trans-yun",function(e,t){var n=e("common:widget/js/util/tangram/tangram"),i=e("common:widget/js/util/log/log"),a=e("common:widget/js/ui/pop-tip/pop-tip"),o=e("question-new:widget/js/trans-video/intersection-observer"),r=function(e){e&&window.open(e,"_blank")},s=function(e){var t=n("<div/>",{"class":"ikqb-reply-yun","data-href":e.sharelink,"data-code":e.code}).append(n("<span/>",{"class":"ikqb-reply-yun-content-info"}).append(n("<span/>",{"class":"ikqb-reply-yun-filelogo"}),n("<span/>",{"class":"ikqb-reply-yun-filetitle"}).append(n("<span/>",{"class":"file-title",html:e.title}),n("<span/>",{"class":e.number>1?"file-number":"",html:e.number>1?"等"+e.number+"个文件":""})),n("<span/>",{"class":"ikqb-reply-yun-filedesc",html:e.size+"&nbsp;&nbsp;&nbsp;&nbsp;来自:百度网盘"})),n("<span/>",{"class":"ikqb-reply-yun-content-code"}).append(n("<span/>",{"class":e.code?"ikqb-reply-yun-code":"ikqb-reply-yun-code ikqb-reply-yun-no-code"}).append(e.code&&n("<span/>",{"class":"code-info",html:"提取码:&nbsp;"+e.code}),n("<span/>",{"class":"code-btn",html:e.code?"复制提取码跳转":"点击跳转网盘"}))));return t},d=function(e){if(!e)return!1;if("function"!=typeof document.execCommand)return!1;var t=document.createElement("textarea");t.value=e,t.setAttribute("style","display:block;width:1px;height:1px;"),document.body.appendChild(t),t.select();var n=document.execCommand("copy");return document.body.removeChild(t),n?!0:void 0},c=function(e){for(var t=n(document.getElementById(e)),o=t.find("baiduyun"),c=0;c<o.length;c++){var l={title:o[c].getAttribute("data_title"),size:o[c].getAttribute("data_size"),number:o[c].getAttribute("data_number"),sharelink:o[c].getAttribute("data_sharelink"),code:o[c].getAttribute("data_code")},u=s(l);n(o[c]).append(u),t.find(".ikqb-reply-yun").off("click").on("click",function(e){var t=n(e.currentTarget),o=t.parents(".answer-text").attr("id")||t.parents(".best-text").attr("id"),s=o.replace(/[^0-9]/gi,""),c=t.attr("data-href"),l=t.attr("data-code");i.send({module:"question-new",page:"question",area:"question-reply-yun",action:"click",qid:F.context("page").qid,rid:s});var u=d(l);l&&u?(a("已复制提取码"),setTimeout(function(){r(c)},1e3)):l&&!u?(a("复制失败"),setTimeout(function(){r(c)},1e3)):r(c)})}};t.init=function(e){window.IntersectionObserver&&o.init(),c(e)}});